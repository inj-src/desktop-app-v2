(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8022],{18433:function(t,e,r){var o,i,n;/*!
 * @license Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */self,t.exports=(o=r(4505),i=r(36482),n=r(808),(()=>{"use strict";var t={546:t=>{t.exports=n},949:t=>{t.exports=i},155:t=>{t.exports=o}},e={};function r(o){var i=e[o];if(void 0!==i)return i.exports;var n=e[o]={exports:{}};return t[o](n,n.exports,r),n.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s={};return(()=>{r.r(s),r.d(s,{CKEditor:()=>h,CKEditorContext:()=>l,useMultiRootEditor:()=>p});var t=r(155),e=r.n(t),o=r(949),i=r.n(o);let n=Array(256).fill("").map((t,e)=>("0"+e.toString(16)).slice(-2));var a=r(546);let c=e().createContext("contextWatchdog");class l extends e().Component{constructor(t,e){super(t,e),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(t){return this._shouldComponentUpdate(t)}async _shouldComponentUpdate(t){return t.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(t.config)),t.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(t.config),!0):this.props.children!==t.children}render(){return e().createElement(c.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(t){this.contextWatchdog=new a.ContextWatchdog(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(t,e)=>{this.props.onError(e.error,{phase:"runtime",willContextRestart:e.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{"ready"===this.contextWatchdog.state&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(t).catch(t=>{this.props.onError(t,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}l.defaultProps={isLayoutReady:!0,onError:(t,e)=>console.error(t,e)},l.propTypes={id:i().string,isLayoutReady:i().bool,context:i().func,watchdogConfig:i().object,config:i().object,onReady:i().func,onError:i().func};let d="Lock from React integration (@ckeditor/ckeditor5-react)";class h extends e().Component{constructor(t){super(t),this.editorDestructionInProgress=null,this.domContainer=e().createRef(),this.watchdog=null;let{CKEDITOR_VERSION:r}=window;if(r){let[t]=r.split(".").map(Number);t<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(t){return!!this.editor&&(t.id!==this.props.id||t.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(t)&&this.editor.data.set(t.data),"disabled"in t&&(t.disabled?this.editor.enableReadOnlyMode(d):this.editor.disableReadOnlyMode(d)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return e().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof a.ContextWatchdog?this.watchdog=new u(this.context):this.watchdog=new h._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((t,e)=>this._createEditor(t,e)),this.watchdog.on("error",(t,{error:e,causesRestart:r})=>{(this.props.onError||console.error)(e,{phase:"runtime",willEditorRestart:r})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(t=>{(this.props.onError||console.error)(t,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(t,e){return this.props.editor.create(t,e).then(t=>{"disabled"in this.props&&this.props.disabled&&t.enableReadOnlyMode(d);let e=t.model.document,r=t.editing.view.document;return e.on("change:data",e=>{this.props.onChange&&this.props.onChange(e,t)}),r.on("focus",e=>{this.props.onFocus&&this.props.onFocus(e,t)}),r.on("blur",e=>{this.props.onBlur&&this.props.onBlur(e,t)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(t)}),t})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(t=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,t()):this.instance?(await this.instance.destroy(),this.instance=null,t()):void t())})}_shouldUpdateEditor(t){return this.props.data!==t.data&&this.editor.data.get()!==t.data}_getConfig(){let t=this.props.config||{};return this.props.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...t,initialData:t.initialData||this.props.data||""}}}h.contextType=c,h.propTypes={editor:i().func.isRequired,data:i().string,config:i().object,disableWatchdog:i().bool,watchdogConfig:i().object,onChange:i().func,onReady:i().func,onFocus:i().func,onBlur:i().func,onError:i().func,disabled:i().bool,id:i().any},h._EditorWatchdog=a.EditorWatchdog;class u{constructor(t){this._contextWatchdog=t,this._id=function(){let t=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0;return"e"+n[255&t]+n[t>>8&255]+n[t>>16&255]+n[t>>24&255]+n[255&e]+n[e>>8&255]+n[e>>16&255]+n[e>>24&255]+n[255&r]+n[r>>8&255]+n[r>>16&255]+n[r>>24&255]+n[255&o]+n[o>>8&255]+n[o>>16&255]+n[o>>24&255]}()}setCreator(t){this._creator=t}create(t,e){return this._contextWatchdog.add({sourceElementOrData:t,config:e,creator:this._creator,id:this._id,type:"editor"})}on(t,e){this._contextWatchdog.on("itemError",(t,{itemId:r,error:o})=>{r===this._id&&e(null,{error:o,causesRestart:void 0})})}destroy(){return"ready"===this._contextWatchdog.state?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}let f="Lock from React integration (@ckeditor/ckeditor5-react)",m=({editor:r})=>{let o=(0,t.useRef)(null);return(0,t.useEffect)(()=>{let t=o.current;if(!r||!t)return;let e=r.ui.view.toolbar.element;return t&&t.appendChild(e),()=>{t&&t.removeChild(e)}},[r&&r.id]),e().createElement("div",{ref:o})},p=r=>{let o=(0,t.useRef)(null),i=(0,t.useRef)(null),n=(0,t.useContext)(c),[s,l]=(0,t.useState)(null),[d,h]=(0,t.useState)(r.data),[p,g]=(0,t.useState)(r.rootsAttributes||{}),[_,y]=(0,t.useState)([]),b=(0,t.useRef)(!0);(0,t.useEffect)(()=>((async()=>{await i.current,!1!==r.isLayoutReady&&await x()})(),()=>{C().then(()=>{i.current=null})}),[r.isLayoutReady]),(0,t.useEffect)(()=>{s&&(r.disabled?s.enableReadOnlyMode(f):s.disableReadOnlyMode(f))},[r.disabled]),(0,t.useEffect)(()=>{if(s&&!i.current){let t=s.getFullData();h({...t}),g({...s.getRootsAttributes()}),y([...Object.keys(t).map(t=>w(s,t))])}},[s&&s.id]);let E=()=>{let t=r.config||{};return r.data&&t.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` property. The config value takes precedence over `data` property and will be used when both are specified."),{...t,rootsAttributes:p}},w=(t,r)=>e().createElement("div",{id:r,key:r,ref:e=>{if(e){let o=t.ui.view.createEditable(r,e);t.ui.addEditable(o),t.editing.view.forceRender()}}}),v=(t,e)=>r.editor.create(t,e).then(t=>{r.disabled&&r.disabled&&t.enableReadOnlyMode(f);let e=t.model.document,o=t.editing.view.document;return e.on("change:data",e=>((t,e)=>{let o=t.model.document;if(!r.disableTwoWayDataBinding){let e={},r={};o.differ.getChanges().forEach(r=>{let o;if(!(o="insert"==r.type||"remove"==r.type?r.position.root:r.range.root).isAttached())return;let{rootName:i}=o;e[i]=t.getData({rootName:i})}),o.differ.getChangedRoots().forEach(o=>{if(o.state)return void(void 0!==e[o.name]&&delete e[o.name]);let i=o.name;r[i]=t.getRootAttributes(i)}),Object.keys(e).length&&h(t=>({...t,...e})),Object.keys(r).length&&g(t=>({...t,...r}))}r.onChange&&r.onChange(e,t)})(t,e)),t.on("addRoot",(e,o)=>((t,e,o)=>{let i=o.rootName,n=w(t,i);r.disableTwoWayDataBinding||(h(e=>({...e,[i]:t.getData({rootName:i})})),g(e=>({...e,[i]:t.getRootAttributes(i)}))),y(t=>[...t,n])})(t,0,o)),t.on("detachRoot",(e,o)=>((t,e,o)=>{let i=o.rootName;y(t=>t.filter(t=>t.props.id!==i)),r.disableTwoWayDataBinding||(h(t=>{let{[i]:e,...r}=t;return{...r}}),g(t=>{let{[i]:e,...r}=t;return{...r}})),t.detachEditable(o)})(t,0,o)),o.on("focus",e=>{r.onFocus&&r.onFocus(e,t)}),o.on("blur",e=>{r.onBlur&&r.onBlur(e,t)}),l(t),r.onReady&&r.onReady(t),t}),C=async()=>{l(null),h({}),g({}),y([]),i.current=new Promise(t=>{setTimeout(async()=>o.current?(await o.current.destroy(),o.current=null,t()):s?(await s.destroy(),t()):void t())})},x=async()=>{if(r.disableWatchdog)return void await v(r.data,E());if(o.current)return;n instanceof a.ContextWatchdog?o.current=new u(n):o.current=new a.EditorWatchdog(r.editor,r.watchdogConfig);let t=o.current;t.setCreator((t,e)=>v(t,e)),t.on("error",(t,{error:e,causesRestart:o})=>{(r.onError||console.error)(e,{phase:"runtime",willEditorRestart:o})}),await t.create(d,E()).catch(t=>{(r.onError||console.error)(t,{phase:"initialization",willEditorRestart:!1})})};(0,t.useEffect)(()=>{if(s&&b.current){b.current=!1;let t=Object.keys(d),e=Object.keys(p);if(!t.every(t=>e.includes(t)))throw Error("`data` and `attributes` objects must have the same keys (roots).");let r=s.getFullData(),o=s.getRootsAttributes(),{addedKeys:i,removedKeys:n}=O(r,d||{}),a=t.some(t=>void 0!==r[t]&&JSON.stringify(r[t])!==JSON.stringify(d[t])),c=e.filter(t=>JSON.stringify(o[t])!==JSON.stringify(p[t]));s.model.change(t=>{S(i),j(n),a&&R(),c.length&&k(t,c)})}},[d,p]);let O=(t,e)=>{let r=Object.keys(t),o=Object.keys(e);return{addedKeys:o.filter(t=>!r.includes(t)),removedKeys:r.filter(t=>!o.includes(t))}},S=t=>{t.forEach(t=>{s.addRoot(t,{data:d[t]||"",attributes:(null==p?void 0:p[t])||{},isUndoable:!0})})},j=t=>{t.forEach(t=>{s.detachRoot(t,!0)})},R=()=>{s.data.set(d,{suppressErrorInCollaboration:!0})},k=(t,e)=>{e.forEach(e=>{Object.keys(p[e]).forEach(t=>{s.registerRootAttribute(t)}),t.clearAttributes(s.model.document.getRoot(e)),t.setAttributes(p[e],s.model.document.getRoot(e))})},D=(0,t.useCallback)(t=>{b.current=!0,h(t)},[h]),P=(0,t.useCallback)(t=>{b.current=!0,g(t)},[g]);return{editor:s,editableElements:_,toolbarElement:e().createElement(m,{editor:s}),data:d,setData:D,attributes:p,setAttributes:P}}})(),s})())},69325:function(t,e,r){"use strict";var o=r(74388);function i(){}function n(){}n.resetWarningCache=i,t.exports=function(){function t(t,e,r,i,n,s){if(s!==o){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:n,resetWarningCache:i};return r.PropTypes=r,r}},36482:function(t,e,r){t.exports=r(69325)()},74388:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},808:function(t,e,r){"use strict";r.r(e),r.d(e,{ActionsRecorder:function(){return w},ContextWatchdog:function(){return y},EditorWatchdog:function(){return p},Watchdog:function(){return o}});/**
 * @license Copyright (c) 2003-2026, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class o{crashes=[];state="initializing";_crashNumberLimit;_now=Date.now;_minimumNonErrorTimePeriod;_boundErrorHandler;_listeners;constructor(t){if(this.crashes=[],this._crashNumberLimit="number"==typeof t.crashNumberLimit?t.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof t.minimumNonErrorTimePeriod?t.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=t=>{let e="error"in t?t.error:t.reason;e instanceof Error&&this._handleError(e,t)},this._listeners={},!this._restart)throw Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(t,e){this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(e)}off(t,e){this._listeners[t]=this._listeners[t].filter(t=>t!==e)}_fire(t,...e){for(let r of this._listeners[t]||[])r.apply(this,[null,...e])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(t,e){if(this._shouldReactToError(t)){this.crashes.push({message:t.message,stack:t.stack,filename:e instanceof ErrorEvent?e.filename:void 0,lineno:e instanceof ErrorEvent?e.lineno:void 0,colno:e instanceof ErrorEvent?e.colno:void 0,date:this._now()});let r=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:t,causesRestart:r}),r?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(t){return t.is&&t.is("CKEditorError")&&void 0!==t.context&&null!==t.context&&"ready"===this.state&&this._isErrorComingFromThisItem(t)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function i(t){if("object"!=typeof t||null==t)return!1;if(null===Object.getPrototypeOf(t))return!0;if("[object Object]"!==Object.prototype.toString.call(t)){let e=t[Symbol.toStringTag];return!!(null!=e&&Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable)&&t.toString()===`[object ${e}]`}let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function n(t){return"object"==typeof t&&null!==t&&1===t.nodeType&&!i(t)}let s="[object String]",a="[object Number]",c="[object Boolean]",l="[object Arguments]";var d=r(13863).lW;function h(t,e,r,o=new Map,i){let n=i?.(t,e,r,o);if(null!=n)return n;if(null==t||"object"!=typeof t&&"function"!=typeof t)return t;if(o.has(t))return o.get(t);if(Array.isArray(t)){let e=Array(t.length);o.set(t,e);for(let n=0;n<t.length;n++)e[n]=h(t[n],n,r,o,i);return Object.hasOwn(t,"index")&&(e.index=t.index),Object.hasOwn(t,"input")&&(e.input=t.input),e}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){let e=new RegExp(t.source,t.flags);return e.lastIndex=t.lastIndex,e}if(t instanceof Map){let e=new Map;for(let[n,s]of(o.set(t,e),t))e.set(n,h(s,n,r,o,i));return e}if(t instanceof Set){let e=new Set;for(let n of(o.set(t,e),t))e.add(h(n,void 0,r,o,i));return e}if(void 0!==d&&d.isBuffer(t))return t.subarray();if(ArrayBuffer.isView(t)&&!(t instanceof DataView)){let e=new(Object.getPrototypeOf(t)).constructor(t.length);o.set(t,e);for(let n=0;n<t.length;n++)e[n]=h(t[n],n,r,o,i);return e}if(t instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){let e=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return o.set(t,e),u(e,t,r,o,i),e}if("undefined"!=typeof File&&t instanceof File){let e=new File([t],t.name,{type:t.type});return o.set(t,e),u(e,t,r,o,i),e}if(t instanceof Blob){let e=new Blob([t],{type:t.type});return o.set(t,e),u(e,t,r,o,i),e}if(t instanceof Error){let e=new t.constructor;return o.set(t,e),e.message=t.message,e.name=t.name,e.stack=t.stack,e.cause=t.cause,u(e,t,r,o,i),e}if("object"==typeof t&&function(t){switch(null==t?void 0===t?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)){case l:case"[object Array]":case"[object ArrayBuffer]":case"[object DataView]":case c:case"[object Date]":case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Map]":case a:case"[object Object]":case"[object RegExp]":case"[object Set]":case s:case"[object Symbol]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return!0;default:return!1}}(t)){let e=Object.create(Object.getPrototypeOf(t));return o.set(t,e),u(e,t,r,o,i),e}return t}function u(t,e,r=t,o,i){let n=[...Object.keys(e),...Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))];for(let s=0;s<n.length;s++){let a=n[s],c=Object.getOwnPropertyDescriptor(t,a);(null==c||c.writable)&&(t[a]=h(e[a],a,r,o,i))}}/**
 * @license Copyright (c) 2003-2026, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function f(t,e=new Set){let r=[t],o=new Set,i=0;for(;r.length>i;){let t=r[i++];if(!(o.has(t)||!function(t){let e=Object.prototype.toString.call(t),r=typeof t;return!("number"===r||"boolean"===r||"string"===r||"symbol"===r||"function"===r||"[object Date]"===e||"[object RegExp]"===e||"[object Module]"===e||null==t||t._watchdogExcluded||t instanceof EventTarget||t instanceof Event)}(t)||e.has(t))){if(o.add(t),Symbol.iterator in t)try{for(let e of t)r.push(e)}catch{}else for(let e in t)"defaultValue"!==e&&r.push(t[e])}}return o}/**
 * @license Copyright (c) 2003-2026, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */function m(t,e,r=new Set){var o;if(t===e&&"object"==typeof(o=t)&&null!==o)return!0;let i=f(t,r),n=f(e,r);for(let t of i)if(n.has(t))return!0;return!1}/**
 * @license Copyright (c) 2003-2026, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class p extends o{_editor=null;_lifecyclePromise=null;_throttledSave;_data;_lastDocumentVersion;_elementOrData;_initUsingData=!0;_editables={};_config;_excludedProps;constructor(t,e={}){super(e),this._throttledSave=function(t,e=0,r={}){"object"!=typeof r&&(r={});let{leading:o=!0,trailing:i=!0}=r;return function(t,e=0,r={}){let o;"object"!=typeof r&&(r={});let{leading:i=!1,trailing:n=!0,maxWait:s}=r,a=[,,];i&&(a[0]="leading"),n&&(a[1]="trailing");let c=null,l=function(t,e,{signal:r,edges:o}={}){let i;let n=null,s=null!=o&&o.includes("leading"),a=null==o||o.includes("trailing"),c=()=>{null!==n&&(t.apply(i,n),i=void 0,n=null)},l=()=>{a&&c(),f()},d=null,h=()=>{null!=d&&clearTimeout(d),d=setTimeout(()=>{d=null,l()},e)},u=()=>{null!==d&&(clearTimeout(d),d=null)},f=()=>{u(),i=void 0,n=null},m=function(...t){if(r?.aborted)return;i=this,n=t;let e=null==d;h(),s&&e&&c()};return m.schedule=h,m.cancel=f,m.flush=()=>{u(),c()},r?.addEventListener("abort",f,{once:!0}),m}(function(...e){o=t.apply(this,e),c=null},e,{edges:a}),d=function(...e){return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(o=t.apply(this,e),c=Date.now(),l.cancel(),l.schedule()):l.apply(this,e),o};return d.cancel=l.cancel,d.flush=()=>(l.flush(),o),d}(t,e,{leading:o,trailing:i,maxWait:e})}(this._save.bind(this),"number"==typeof e.saveInterval?e.saveInterval:5e3),t&&(this._creator=(e,r)=>t.create(e,r)),this._destructor=t=>t.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(t=>{console.error("An error happened during the editor destroying.",t)}).then(()=>{let t={},e=[],r=this._config.rootsAttributes||{},o={};for(let[i,n]of Object.entries(this._data.roots))n.isLoaded?(t[i]="",o[i]=r[i]||{}):e.push(i);let i={...this._config,extraPlugins:this._config.extraPlugins||[],lazyRoots:e,rootsAttributes:o,_watchdogInitialData:this._data};return(delete i.initialData,i.extraPlugins.push(g),this._initUsingData)?this.create(t,i,i.context):n(this._elementOrData)?this.create(this._elementOrData,i,i.context):this.create(this._editables,i,i.context)}).then(()=>{this._fire("restart")})}create(t=this._elementOrData,e=this._config,r){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(super._startErrorHandling(),this._elementOrData=t,this._initUsingData="string"==typeof t||Object.keys(t).length>0&&"string"==typeof Object.values(t)[0],this._config=this._cloneEditorConfiguration(e)||{},this._config.context=r,this._creator(t,this._config))).then(t=>{this._editor=t,t.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=t.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")}).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())).finally(()=>{this._lifecyclePromise=null}),this._lifecyclePromise}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();let t=this._editor;return this._editor=null,t.model.document.off("change:data",this._throttledSave),this._destructor(t)})}_save(){let t=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=t}catch(t){console.error(t,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(t){this._excludedProps=t}_getData(){let t=this._editor,e=t.model.document.roots.filter(t=>t.isAttached()&&"$graveyard"!=t.rootName),{plugins:r}=t,o=r.has("CommentsRepository")&&r.get("CommentsRepository"),i=r.has("TrackChanges")&&r.get("TrackChanges"),n={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};for(let r of(e.forEach(t=>{n.roots[t.rootName]={content:JSON.stringify(Array.from(t.getChildren())),attributes:JSON.stringify(Array.from(t.getAttributes())),isLoaded:t._isLoaded}}),t.model.markers))r._affectsData&&(n.markers[r.name]={rangeJSON:r.getRange().toJSON(),usingOperation:r._managedUsingOperations,affectsData:r._affectsData});return o&&(n.commentThreads=JSON.stringify(o.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),i&&(n.suggestions=JSON.stringify(i.getSuggestions({toJSON:!0,skipNotAttached:!0}))),n}_getEditables(){let t={};for(let e of this.editor.model.document.getRootNames()){let r=this.editor.ui.getEditableElement(e);r&&(t[e]=r)}return t}_isErrorComingFromThisItem(t){return m(this._editor,t.context,this._excludedProps)}_cloneEditorConfiguration(t){var e;return e=(t,e)=>{if(n(t)||"context"===e)return t},h(t,void 0,t,new Map,(r,o,i,n)=>{let d=e?.(r,o,i,n);if(null!=d)return d;if("object"==typeof t)switch(Object.prototype.toString.call(t)){case a:case s:case c:{let e=new t.constructor(t?.valueOf());return u(e,t),e}case l:{let e={};return u(e,t),e.length=t.length,e[Symbol.iterator]=t[Symbol.iterator],e}default:return}})}}class g{editor;_data;constructor(t){this.editor=t,this._data=t.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",t=>{t.stop(),this.editor.model.enqueueChange({isUndoable:!1},t=>{this._restoreCollaborationData(),this._restoreEditorData(t)}),this.editor.data.fire("ready")},{priority:999})}_createNode(t,e){if(!("name"in e))return t.createText(e.data,e.attributes);{let r=t.createElement(e.name,e.attributes);if(e.children)for(let o of e.children)r._appendChild(this._createNode(t,o));return r}}_restoreEditorData(t){let e=this.editor;Object.entries(this._data.roots).forEach(([r,{content:o,attributes:i}])=>{let n=JSON.parse(o),s=JSON.parse(i),a=e.model.document.getRoot(r);for(let[e,r]of s)t.setAttribute(e,r,a);for(let e of n){let r=this._createNode(t,e);t.insert(r,a,"end")}}),Object.entries(this._data.markers).forEach(([r,o])=>{let{document:i}=e.model,{rangeJSON:{start:n,end:s},...a}=o,c=i.getRoot(n.root),l=t.createPositionFromPath(c,n.path,n.stickiness),d=t.createPositionFromPath(c,s.path,s.stickiness),h=t.createRange(l,d);t.addMarker(r,{range:h,...a})})}_restoreCollaborationData(){let t=JSON.parse(this._data.commentThreads),e=JSON.parse(this._data.suggestions);if(this.editor.plugins.has("CommentsRepository")){let e=this.editor.plugins.get("CommentsRepository");for(let t of e.getCommentThreads())e._removeCommentThread({threadId:t.id});t.forEach(t=>{let e=this.editor.config.get("collaboration.channelId");this.editor.plugins.get("CommentsRepository").addCommentThread({channelId:e,...t})})}if(this.editor.plugins.has("TrackChangesEditing")){let t=this.editor.plugins.get("TrackChangesEditing");for(let e of t.getSuggestions())t._removeSuggestion(e);e.forEach(e=>{t.addSuggestionData(e)})}}}/**
 * @license Copyright (c) 2003-2026, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */let _=Symbol("MainQueueId");class y extends o{_watchdogs=new Map;_watchdogConfig;_context=null;_contextProps=new Set;_actionQueues=new b;_contextConfig;_item;constructor(t,e={}){super(e),this._watchdogConfig=e,this._creator=e=>t.create(e),this._destructor=t=>t.destroy(),this._actionQueues.onEmpty(()=>{"initializing"===this.state&&(this.state="ready",this._fire("stateChange"))})}setCreator(t){this._creator=t}setDestructor(t){this._destructor=t}get context(){return this._context}create(t={}){return this._actionQueues.enqueue(_,()=>(this._contextConfig=t,this._create()))}getItem(t){return this._getWatchdog(t)._item}getItemState(t){return this._getWatchdog(t).state}add(t){return Promise.all(E(t).map(t=>this._actionQueues.enqueue(t.id,()=>{let e;if("destroyed"===this.state)throw Error("Cannot add items to destroyed watchdog.");if(!this._context)throw Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");if(this._watchdogs.has(t.id))throw Error(`Item with the given id is already added: '${t.id}'.`);if("editor"===t.type)return(e=new p(null,this._watchdogConfig)).setCreator(t.creator),e._setExcludedProperties(this._contextProps),t.destructor&&e.setDestructor(t.destructor),this._watchdogs.set(t.id,e),e.on("error",(r,{error:o,causesRestart:i})=>{this._fire("itemError",{itemId:t.id,error:o}),i&&this._actionQueues.enqueue(t.id,()=>new Promise(r=>{let o=()=>{e.off("restart",o),this._fire("itemRestart",{itemId:t.id}),r()};e.on("restart",o)}))}),e.create(t.sourceElementOrData,t.config,this._context);throw Error(`Not supported item type: '${t.type}'.`)})))}remove(t){return Promise.all(E(t).map(t=>this._actionQueues.enqueue(t,()=>{let e=this._getWatchdog(t);return this._watchdogs.delete(t),e.destroy()})))}destroy(){return this._actionQueues.enqueue(_,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(_,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(t=>{console.error("An error happened during destroying the context or items.",t)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(t=>(this._context=t,this._contextProps=f(this._context),Promise.all(Array.from(this._watchdogs.values()).map(t=>(t._setExcludedProperties(this._contextProps),t.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();let t=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(t=>t.destroy())).then(()=>this._destructor(t))})}_getWatchdog(t){let e=this._watchdogs.get(t);if(!e)throw Error(`Item with the given id was not registered: ${t}.`);return e}_isErrorComingFromThisItem(t){for(let e of this._watchdogs.values())if(e._isErrorComingFromThisItem(t))return!1;return m(this._context,t.context)}}class b{_onEmptyCallbacks=[];_queues=new Map;_activeActions=0;onEmpty(t){this._onEmptyCallbacks.push(t)}enqueue(t,e){let r=t===_;this._activeActions++,this._queues.get(t)||this._queues.set(t,Promise.resolve());let o=(r?Promise.all(this._queues.values()):Promise.all([this._queues.get(_),this._queues.get(t)])).then(e),i=o.catch(()=>{});return this._queues.set(t,i),o.finally(()=>{this._activeActions--,this._queues.get(t)===i&&0===this._activeActions&&this._onEmptyCallbacks.forEach(t=>t())})}}function E(t){return Array.isArray(t)?t:[t]}/**
 * @license Copyright (c) 2003-2026, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */class w{editor;_entries=[];_frameStack=[];_errors=new Set;_maxEntries;_errorCallback;_filterCallback;_maxEntriesCallback;static get pluginName(){return"ActionsRecorder"}static get isOfficialPlugin(){return!0}constructor(t){this.editor=t,t.config.define("actionsRecorder.maxEntries",1e3);let e=t.config.get("actionsRecorder");this._maxEntries=e.maxEntries,this._filterCallback=e.onFilter,this._errorCallback=e.onError,this._maxEntriesCallback=e.onMaxEntries||this._maxEntriesDefaultHandler,this._tapCommands(),this._tapOperationApply(),this._tapModelMethods(),this._tapModelSelection(),this._tapComponentFactory(),this._tapViewDocumentEvents()}getEntries(){return this._entries.slice()}flushEntries(){this._entries=[]}_enterFrame(t,e){let r={timeStamp:new Date().toISOString(),...this._frameStack.length&&{parentEntry:this._frameStack.at(-1)},action:t,params:e?.map(t=>C(t)),before:this._buildStateSnapshot()};return(!this._filterCallback||this._filterCallback(r,this._entries))&&this._entries.push(r),this._frameStack.push(r),r}_leaveFrame(t,e,r){let o=this._frameStack.pop();o&&o===t&&(void 0!==e&&(o.result=C(e)),r&&(o.error=C(r)),o.after=this._buildStateSnapshot(),r&&this._callErrorCallback(r),0==this._frameStack.length&&this._errors.clear(),this._entries.length>=this._maxEntries&&this._maxEntriesCallback())}_buildStateSnapshot(){let{model:t,isReadOnly:e,editing:r}=this.editor;return{documentVersion:t.document.version,editorReadOnly:e,editorFocused:r.view.document.isFocused,modelSelection:C(t.document.selection)}}_tapCommands(){for(let[t,e]of this.editor.commands)this._tapCommand(t,e);v(this.editor.commands,"add",{before:(t,[e,r])=>(this._tapCommand(e,r),!1)})}_tapOperationApply(){v(this.editor.model,"applyOperation",{before:(t,[e])=>null!==e.baseVersion&&(t.callFrame=this._enterFrame("model.applyOperation",[e]),!0),after:t=>{this._leaveFrame(t.callFrame)},error:(t,e)=>{this._leaveFrame(t.callFrame,void 0,e)}})}_tapModelMethods(){for(let t of["insertContent","insertObject","deleteContent"])v(this.editor.model,t,{before:(e,...r)=>(e.callFrame=this._enterFrame(`model.${t}`,r),!0),after:(t,e)=>{this._leaveFrame(t.callFrame,e)},error:(t,e)=>{this._leaveFrame(t.callFrame,void 0,e)}})}_tapModelSelection(){this._tapFireMethod(this.editor.model.document.selection,["change:range","change:attribute","change:marker"],{eventSource:"model-selection"})}_tapCommand(t,e){v(e,"execute",{before:(e,r)=>(e.callFrame=this._enterFrame(`commands.${t}:execute`,r),!0),after:(t,e)=>{this._leaveFrame(t.callFrame,e)},error:(t,e)=>{this._leaveFrame(t.callFrame,void 0,e)}})}_tapComponentFactory(){v(this.editor.ui.componentFactory,"create",{before:(t,[e])=>(t.componentName=e,t.callFrame=this._enterFrame(`component-factory.create:${e}`),!0),after:(t,e)=>{let r={...t,eventSource:`component.${t.componentName}`};"function"==typeof e.fire&&this._tapFireMethod(e,["execute"],r),"function"==typeof e.panelView?.fire&&this._tapFireMethod(e.panelView,["execute"],r),"function"==typeof e.buttonView?.actionView?.fire&&this._tapFireMethod(e.buttonView.actionView,["execute"],r),this._leaveFrame(t.callFrame)},error:(t,e)=>{this._leaveFrame(t.callFrame,void 0,e)}})}_tapViewDocumentEvents(){this._tapFireMethod(this.editor.editing.view.document,["click","mousedown","mouseup","pointerdown","pointerup","focus","blur","keydown","keyup","selectionChange","compositionstart","compositionend","beforeinput","mutations","enter","delete","insertText","paste","copy","cut","dragstart","drop"],{eventSource:"observers"})}_tapFireMethod(t,e,r={}){v(t,"fire",{before:(t,[r,...o])=>{let i="string"==typeof r?r:r.name;return!!e.includes(i)&&(t.callFrame=this._enterFrame(`${t.eventSource}:${i}`,o),!0)},after:(t,e)=>{this._leaveFrame(t.callFrame,e)},error:(t,e)=>{this._leaveFrame(t.callFrame,void 0,e)}},r)}_callErrorCallback(t){if(!(!this._errorCallback||this._errors.has(t))){this._errors.add(t);try{this._errorCallback(t,this.getEntries())}catch(t){console.error("ActionsRecorder onError callback error:",t)}}}_maxEntriesDefaultHandler(){this._entries.shift()}}function v(t,e,r,o={}){let i=t[e];i[Symbol.for("Tapped method")]||(t[e]=(...e)=>{let n;let s=Object.assign({},o);try{n=r.before?.(s,e);let o=i.apply(t,e);return n&&r.after?.(s,o),o}catch(t){throw n&&r.error?.(s,t),t}},t[e][Symbol.for("Tapped method")]=i)}function C(t,e=new WeakSet){var r,o;let n;if(!t||["boolean","number","string"].includes(typeof t))return t;if("function"==typeof t.toJSON){let r=t.toJSON();if(i(r)||Array.isArray(r)||["string","number","boolean"].includes(typeof r))return C(r,e)}if(t instanceof Error)return{name:t.name,message:t.message,stack:t.stack};if(t&&"function"==typeof t.is||"object"!=typeof t)return{type:typeof t,constructor:t.constructor?.name||"unknown",string:String(t)};if(t instanceof File||t instanceof Blob||t instanceof FormData||t instanceof DataTransfer)return String(t);if(e.has(t))return;if(e.add(t),Array.isArray(t))return t.length?t.map(t=>C(t,e)):void 0;let s={},a=[];for(let[i,c]of(t.domEvent&&(a.push("domEvent","domTarget","view","document"),s.domEvent=(n={type:(r=t.domEvent).type,target:(o=r.target)?o instanceof Element?{tagName:o.tagName,className:o.className,id:o.id}:o instanceof Window||o instanceof Document?{type:o.constructor.name}:{}:null},r instanceof MouseEvent&&(n={...n,button:r.button,buttons:r.buttons,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,altKey:r.altKey,metaKey:r.metaKey}),r instanceof KeyboardEvent&&(n={...n,key:r.key,code:r.code,keyCode:r.keyCode,ctrlKey:r.ctrlKey,shiftKey:r.shiftKey,altKey:r.altKey,metaKey:r.metaKey,repeat:r.repeat}),r instanceof InputEvent&&(n={...n,data:r.data,inputType:r.inputType,isComposing:r.isComposing}),r instanceof PointerEvent&&(n={...n,isPrimary:r.isPrimary}),n),s.target=C(t.target),t.dataTransfer&&(s.dataTransfer={types:t.dataTransfer.types,htmlData:t.dataTransfer.getData("text/html"),files:C(t.dataTransfer.files)})),Object.entries(t))){if(i.startsWith("_")||a.includes(i)||"function"==typeof c)continue;let t=C(c,e);void 0!==t&&(s[i]=t)}if(Symbol.iterator in t){let r=Array.from(t[Symbol.iterator]()).map(t=>C(t,e));r.length&&(s._items=r)}return Object.keys(s).length?s:void 0}/**
 * @license Copyright (c) 2003-2026, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
 */},90655:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});let o=(0,r(52165).Z)("outline","signature","Signature",[["path",{d:"M3 17c3.333 -3.333 5 -6 5 -8c0 -3 -1 -3 -2 -3s-2.032 1.085 -2 3c.034 2.048 1.658 4.877 2.5 6c1.5 2 2.5 2.5 3.5 1l2 -3c.333 2.667 1.333 4 3 4c.53 0 2.639 -2 3 -2c.517 0 1.517 .667 3 2",key:"svg-0"}]])}}]);