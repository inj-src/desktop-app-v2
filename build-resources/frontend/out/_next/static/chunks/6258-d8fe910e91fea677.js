"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6258],{62904:function(e,i,s){var n=s(68328),t=s(11114),d=s(48604),l=s(4923),o=s(22614),r=s(16391),c=s(41224),a=s(22041),m=s(39467),x=s(32451),u=s(77303),h=s(98542),j=s(49238),p=s(4505);i.Z=e=>{var i,s,v,g,f,y,T,w,z,b,A,G;let{item:C,type:D}=e,[N,B]=(0,p.useState)(!1),P="indoor"===D||"opd"===D?null==C?void 0:null===(b=C.patient)||void 0===b?void 0:b.name:"expense"===D?null==C?void 0:C.type:"pc-commission"===D||"doctor-commission"===D?null==C?void 0:C.name:"doctor-payment"===D?null==C?void 0:null===(G=C.bill)||void 0===G?void 0:null===(A=G.doctor)||void 0===A?void 0:A.name:null==C?void 0:C.name,S="indoor"===D||"opd"===D?null==C?void 0:C.paidAmount:"expense"===D?null==C?void 0:C.amount:"pc-commission"===D||"doctor-commission"===D?null==C?void 0:C.paidAmount:"doctor-payment"===D?null==C?void 0:C.doctorAmount:null==C?void 0:C.paidAmount,k="indoor"===D||"opd"===D?(null==C?void 0:C.totalAmountWithDiscount)-(null==C?void 0:C.paidAmount):"pc-commission"===D||"doctor-commission"===D?(null==C?void 0:C.totalAmount)-(null==C?void 0:C.paidAmount):(null==C?void 0:C.totalAmountWithDiscount)-(null==C?void 0:C.paidAmount),I=null==C?void 0:C.updateInfo,F=null==C?void 0:C.hasAnyInRangeUpdate,Z="outdoor"===D&&I&&I.length>1;return(0,n.jsxs)(d.Z,{withBorder:!1,shadow:"none",radius:0,p:0,style:{borderBottom:"1px solid var(--mantine-color-gray-3)"},children:[(0,n.jsx)(l.k,{onClick:()=>B(e=>!e),w:"100%",p:"md",children:(0,n.jsxs)(o.Group,{justify:"space-between",align:"center",wrap:"nowrap",children:[(0,n.jsxs)(r.k,{w:"100%",align:"center",justify:"space-between",gap:"xs",children:[(0,n.jsxs)(c.Stack,{gap:4,children:[(0,n.jsxs)(o.Group,{gap:"xs",children:[(0,n.jsx)(a.Text,{size:"sm",fw:500,lineClamp:1,children:P||"N/A"}),Z&&(0,n.jsxs)(t.C,{color:F?"blue":"gray",size:"xs",variant:"light",children:[I.length," Updates"]})]}),(0,n.jsx)(a.Text,{size:"xs",c:"dimmed",lineClamp:1,children:"expense"===D?(null==C?void 0:C.handedTo)||"N/A":"pc-commission"===D||"doctor-commission"===D?"Total: ৳".concat((null==C?void 0:C.totalAmount)||0):"doctor-payment"===D?(null==C?void 0:null===(s=C.bill)||void 0===s?void 0:null===(i=s.patient)||void 0===i?void 0:i.name)||"N/A":(null==C?void 0:C.phone)||"N/A"})]}),(0,n.jsxs)(c.Stack,{gap:2,align:"flex-end",children:[(0,n.jsxs)(a.Text,{size:"sm",fw:600,c:"expense"===D?"red":"indoor"===D||"opd"===D?(null==C?void 0:C.status)==="Released"?"green":"blue":"pc-commission"===D||"doctor-commission"===D||"doctor-payment"===D?"green":(null==C?void 0:C.isPaid)?"green":"red",children:["৳",S||0]}),(()=>{if("indoor"===D)return(0,n.jsx)(t.C,{color:(null==C?void 0:C.status)==="Released"?"green":"yellow",size:"xs",children:(null==C?void 0:C.status)||"Admitted"});if("opd"===D)return(0,n.jsx)(t.C,{color:(null==C?void 0:C.status)==="Released"?"green":"blue",size:"xs",children:(null==C?void 0:C.status)||"Day Patient"});if("expense"===D)return(0,n.jsx)(t.C,{color:"red",size:"xs",children:"Expense"});if("pc-commission"===D||"doctor-commission"===D){let e=((null==C?void 0:C.totalAmount)||0)===((null==C?void 0:C.paidAmount)||0);return(0,n.jsx)(t.C,{color:e?"green":"orange",size:"xs",children:e?"Paid":"Pending"})}return"doctor-payment"===D?(0,n.jsx)(t.C,{color:"green",size:"xs",children:"Paid"}):(0,n.jsx)(t.C,{color:(null==C?void 0:C.isPaid)?"green":"red",size:"xs",children:(null==C?void 0:C.isPaid)?"Paid":"Due"})})()]})]}),(0,n.jsx)(o.Group,{gap:"xs",wrap:"nowrap",children:N?(0,n.jsx)(h.Z,{size:18}):(0,n.jsx)(j.Z,{size:18})})]})}),(0,n.jsx)(m.U,{in:N,children:(0,n.jsxs)(x.Box,{p:"md",pt:0,children:[(0,n.jsx)(u.Divider,{mb:"sm"}),(0,n.jsxs)(c.Stack,{gap:"sm",children:["expense"===D&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Expense Note"}),(0,n.jsx)(a.Text,{size:"sm",children:(null==C?void 0:C.type)||"N/A"})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Handed To"}),(0,n.jsx)(a.Text,{size:"sm",children:(null==C?void 0:C.handedTo)||"N/A"})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Amount"}),(0,n.jsxs)(a.Text,{size:"sm",fw:600,c:"red",children:["৳",(null==C?void 0:C.amount)||0]})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Category"}),(0,n.jsx)(a.Text,{size:"sm",children:(null==C?void 0:null===(v=C.DailyExpenseCategory)||void 0===v?void 0:v.name)||"N/A"})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Created By"}),(0,n.jsx)(a.Text,{size:"sm",children:(null==C?void 0:null===(g=C.User)||void 0===g?void 0:g.name)||"N/A"})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Date"}),(0,n.jsx)(a.Text,{size:"sm",children:new Date(null==C?void 0:C.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})]})]}),("pc-commission"===D||"doctor-commission"===D)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Name"}),(0,n.jsx)(a.Text,{size:"sm",children:(null==C?void 0:C.name)||"N/A"})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Total Amount"}),(0,n.jsxs)(a.Text,{size:"sm",fw:"bold",children:["৳",(null==C?void 0:C.totalAmount)||0]})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Paid Amount"}),(0,n.jsxs)(a.Text,{size:"sm",fw:600,c:"green",children:["৳",(null==C?void 0:C.paidAmount)||0]})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Due Amount"}),(0,n.jsxs)(a.Text,{size:"sm",c:"red",children:["৳",((null==C?void 0:C.totalAmount)||0)-((null==C?void 0:C.paidAmount)||0)]})]})]}),"doctor-payment"===D&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Doctor Name"}),(0,n.jsx)(a.Text,{size:"sm",children:(null==C?void 0:null===(y=C.bill)||void 0===y?void 0:null===(f=y.doctor)||void 0===f?void 0:f.name)||"N/A"})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Patient Name"}),(0,n.jsx)(a.Text,{size:"sm",children:(null==C?void 0:null===(w=C.bill)||void 0===w?void 0:null===(T=w.patient)||void 0===T?void 0:T.name)||"N/A"})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Test Name"}),(0,n.jsx)(a.Text,{size:"sm",children:(null==C?void 0:C.name)||"N/A"})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Amount"}),(0,n.jsxs)(a.Text,{size:"sm",fw:600,c:"green",children:["৳",(null==C?void 0:C.doctorAmount)||0]})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Paid At"}),(0,n.jsx)(a.Text,{size:"sm",children:(null==C?void 0:C.doctorCommissionPaidAt)?new Date(C.doctorCommissionPaidAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Bill ID"}),(0,n.jsx)(a.Text,{size:"sm",children:(null==C?void 0:null===(z=C.bill)||void 0===z?void 0:z.billId)||"N/A"})]})]}),("outdoor"===D||"indoor"===D||"opd"===D||"due"===D)&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Total Amount"}),(0,n.jsxs)(a.Text,{size:"sm",fw:"bold",children:["৳",(null==C?void 0:C.totalAmountWithDiscount)||0]})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Discount"}),(0,n.jsxs)(a.Text,{size:"sm",children:["৳",(null==C?void 0:C.hospitalDiscount)||0]})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Paid Amount"}),(0,n.jsxs)(a.Text,{size:"sm",fw:600,c:"green",children:["৳",S||0]})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Due"}),(0,n.jsxs)(a.Text,{size:"sm",c:"red",children:["৳",k>0?k:0]})]}),(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(a.Text,{size:"sm",c:"dimmed",children:"Bill ID"}),(0,n.jsx)(a.Text,{size:"sm",children:(null==C?void 0:C.billId)||"N/A"})]})]}),"outdoor"===D&&I&&I.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.Divider,{my:"xs"}),(0,n.jsx)(a.Text,{size:"sm",fw:500,children:"Update History"}),(0,n.jsx)(c.Stack,{gap:"xs",children:I.map((e,i)=>(0,n.jsxs)(o.Group,{justify:"space-between",children:[(0,n.jsx)(t.C,{color:"new"===e.type?"green":"gray",size:"xs",variant:"light",children:"new"===e.type?"New":"Old"}),(0,n.jsx)(a.Text,{size:"xs",c:"dimmed",children:new Date(e.createdAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]},i))})]})]})]})})]})}},41671:function(e,i,s){var n=s(68328),t=s(54632),d=s(22041),l=s(3741),o=s(89043),r=s(32451),c=s(22614),a=s(4923),m=s(77303),x=s(25621),u=s(7140),h=s(39467),j=s(60711),p=s(98542),v=s(49238),g=s(4505);i.Z=e=>{let{title:i,data:s,columns:f,totalAmount:y,totalAmountLabel:T="Total Amount",totalCount:w,isLoading:z=!1,currentPage:b,onPageChange:A,itemsPerPage:G=5,onViewDetails:C,renderCard:D,emptyMessage:N="No data found"}=e,B=(0,g.useMemo)(()=>Math.ceil(w/G),[w,G]),[P,S]=(0,g.useState)(!1),k=(0,g.useMemo)(()=>s.map((e,i)=>(0,n.jsxs)(t.i.Tr,{children:[f.map(s=>{var l,o,r,c;return(0,n.jsx)(t.i.Td,{children:s.render?s.render(e,i):(0,n.jsx)(d.Text,{size:(null===(l=s.textProps)||void 0===l?void 0:l.size)||"sm",fw:null===(o=s.textProps)||void 0===o?void 0:o.fw,c:null===(r=s.textProps)||void 0===r?void 0:r.c,children:s.getValue?s.getValue(e):null!==(c=e[s.key])&&void 0!==c?c:"N/A"})},s.key)}),C&&(0,n.jsx)(t.i.Td,{children:(0,n.jsx)(l.A,{size:"sm",variant:"light",color:"blue",onClick:()=>C(e),children:(0,n.jsx)(j.Z,{size:16})})})]},e.id||i)),[s,f,C]),I=(0,g.useMemo)(()=>D?s.map((e,i)=>D(e,i)):null,[s,D]);return(0,n.jsxs)(o.X,{shadow:"xs",p:0,radius:"md",withBorder:!0,mb:"md",children:[(0,n.jsx)(r.Box,{visibleFrom:"sm",style:{padding:"16px"},children:(0,n.jsxs)(c.Group,{justify:"space-between",align:"center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d.Text,{fz:{base:"md",sm:"xl"},fw:700,children:i}),(0,n.jsxs)(d.Text,{fz:{base:"sm",sm:"md"},c:"dimmed",children:["Total: ",w," items"]})]}),void 0!==y&&(0,n.jsxs)(r.Box,{style:{textAlign:"right"},children:[(0,n.jsx)(d.Text,{fz:{base:"xs",sm:"sm"},c:"dimmed",children:T}),(0,n.jsxs)(d.Text,{fz:{base:"lg",sm:"xl"},fw:700,c:"green",children:["৳",(null==y?void 0:y.toLocaleString())||0]})]})]})}),(0,n.jsx)(r.Box,{hiddenFrom:"sm",children:(0,n.jsx)(a.k,{onClick:()=>S(e=>!e),w:"100%",p:"md",children:(0,n.jsxs)(c.Group,{justify:"space-between",align:"center",wrap:"nowrap",children:[(0,n.jsxs)("div",{style:{flex:1},children:[(0,n.jsx)(d.Text,{fz:"md",fw:700,children:i}),(0,n.jsxs)(d.Text,{fz:"sm",c:"dimmed",children:["Total: ",w," items"]})]}),void 0!==y&&(0,n.jsxs)(r.Box,{style:{textAlign:"right",marginRight:"8px"},children:[(0,n.jsx)(d.Text,{fz:"xs",c:"dimmed",children:T}),(0,n.jsxs)(d.Text,{fz:"lg",fw:700,c:"green",children:["৳",(null==y?void 0:y.toLocaleString())||0]})]}),(0,n.jsx)(c.Group,{gap:"xs",wrap:"nowrap",children:P?(0,n.jsx)(p.Z,{size:18}):(0,n.jsx)(v.Z,{size:18})})]})})}),(0,n.jsx)(m.Divider,{}),(0,n.jsx)(r.Box,{visibleFrom:"sm",children:z?(0,n.jsxs)(r.Box,{style:{padding:"16px"},children:[(0,n.jsx)(x.O,{height:50,radius:"md",mb:10}),(0,n.jsx)(x.O,{height:50,radius:"md",mb:10}),(0,n.jsx)(x.O,{height:50,radius:"md",mb:10}),(0,n.jsx)(x.O,{height:50,radius:"md",mb:10}),(0,n.jsx)(x.O,{height:50,radius:"md",mb:10})]}):0===s.length?(0,n.jsx)(r.Box,{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100px",textAlign:"center"},children:(0,n.jsx)(d.Text,{size:"md",c:"dimmed",children:N})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(r.Box,{style:{padding:"16px"},children:[(0,n.jsxs)(t.i,{miw:700,mb:"xs",horizontalSpacing:"md",verticalSpacing:"xs",layout:"fixed",children:[(0,n.jsx)(t.i.Thead,{children:(0,n.jsxs)(t.i.Tr,{children:[f.map(e=>(0,n.jsx)(t.i.Th,{w:e.width,children:e.label},e.key)),C&&(0,n.jsx)(t.i.Th,{w:60,children:"Actions"})]})}),(0,n.jsx)(t.i.Tbody,{children:k})]}),B>1&&(0,n.jsx)(u.t,{total:B,value:b,onChange:A,mt:"md",mb:"xs"})]})})}),(0,n.jsx)(r.Box,{hiddenFrom:"sm",children:(0,n.jsxs)(h.U,{in:P,children:[(0,n.jsx)(m.Divider,{}),z?(0,n.jsxs)(r.Box,{style:{padding:"16px"},children:[(0,n.jsx)(x.O,{height:50,radius:"md",mb:10}),(0,n.jsx)(x.O,{height:50,radius:"md",mb:10}),(0,n.jsx)(x.O,{height:50,radius:"md",mb:10}),(0,n.jsx)(x.O,{height:50,radius:"md",mb:10}),(0,n.jsx)(x.O,{height:50,radius:"md",mb:10})]}):0===s.length?(0,n.jsx)(r.Box,{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100px",textAlign:"center"},children:(0,n.jsx)(d.Text,{size:"md",c:"dimmed",children:N})}):(0,n.jsxs)(n.Fragment,{children:[I,B>1&&(0,n.jsx)(r.Box,{style:{padding:"16px"},children:(0,n.jsx)(u.t,{total:B,value:b,onChange:A,mt:"xs",mb:"xs"})})]})]})})]})}},72940:function(e,i,s){s.d(i,{FD:function(){return t},Hn:function(){return n},y4:function(){return d}});let n={headers:{"Content-Type":"application/json"}},t={withCredentials:!0},d={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},74559:function(e,i,s){s.d(i,{Im:function(){return l},av:function(){return d},nC:function(){return t}});let n=(0,s(79258).createSlice)({name:"auth",initialState:{isAuth:null,user:null,isProfileIncomplete:!1,diagnostic:null},reducers:{setUser:(e,i)=>{var s;e.user=i.payload,e.isAuth=!!i.payload,(null===(s=i.payload)||void 0===s?void 0:s.name)?localStorage.setItem("name",i.payload.name):localStorage.removeItem("name")},setDiagnostic:(e,i)=>{let s=i.payload;"hospital.sasthotech.com"===window.location.hostname?s.activeLogo=s.logo:s.activeLogo=s.offlineLogo,e.diagnostic=s},setProfileIncomplete:(e,i)=>{e.isProfileIncomplete=i.payload}}}),t=e=>{var i;return null===(i=e.auth.user)||void 0===i?void 0:i.role},{setUser:d,setDiagnostic:l}=n.actions;i.ZP=n.reducer},13603:function(e,i,s){s.d(i,{rm:function(){return c},uA:function(){return r}});var n=s(79258),t=s(69192),d=s(4646),l=s(14685);let o=(0,n.createSlice)({name:"dates",initialState:{dates:[null,null]},reducers:{setDates:(e,i)=>{e.dates=i.payload}}}),r=(0,t.createSelector)([e=>e.dates.dates],e=>{let[i,s]=e;return[i?new Date(i):(0,d.Z)(),s?new Date(s):(0,l.Z)()]}),{setDates:c}=o.actions;i.ZP=o.reducer},25499:function(e,i,s){s.d(i,{C:function(){return d},T:function(){return t}});var n=s(53502);let t=()=>(0,n.I0)(),d=n.v9}}]);