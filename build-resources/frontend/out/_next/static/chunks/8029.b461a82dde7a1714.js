(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8029],{38029:function(e,l,i){"use strict";i.r(l);var n=i(68328),t=i(18433),r=i(29593),o=i(22614),d=i(31204),a=i(52295),u=i.n(a),s=i(4505),c=i(68203),g=i(30886),h=i.n(g),v=i(25499);l.default=s.memo(e=>{var l;let{data:i,setEditorValue:a,onSubmitFunction:s,buttonLabel:g,showSignInSection:m,updateSetString:b,labSignString:p}=e,x=(0,v.C)(e=>e.auth.diagnostic);return(0,n.jsxs)("div",{children:[(0,n.jsx)(r.Space,{className:h().heightComp,h:50}),(0,n.jsxs)("div",{style:{width:"900px"},className:"border border-dark toolbar-container",children:[(0,n.jsx)("div",{id:"toolbar-container"}),(0,n.jsx)(t.CKEditor,{editor:u(),data:i||void 0,config:{toolbar:{items:["importWord","exportWord","exportPdf","|","alignment","heading","|","bold","italic","underline","strikethrough","|","blockQuote","link","imageUpload","fontBackgroundColor","fontColor","fontSize","|","indent","outdent","numberedList","bulletedList","mediaEmbed","insertTable","code","codeBlock","findAndReplace","highlight","htmlEmbed","imageInsert","selectAll","redo","undo","|"],shouldNotGroupWhenFull:!0},language:"en",image:{toolbar:["imageTextAlternative","toggleImageCaption","imageStyle:inline","imageStyle:block","imageStyle:side"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableCellProperties","tableProperties"]},cloudServices:{tokenUrl:null!==(l=null==x?void 0:x.ckEditorToken)&&void 0!==l?l:""}},onReady:e=>{let l=document.querySelector("#toolbar-container");l&&(l.className="editor-toolbar"),l&&e.ui.view.toolbar.element&&(l.firstChild&&l.removeChild(l.childNodes[0]),l.appendChild(e.ui.view.toolbar.element))},onChange:(e,l)=>{a(l.getData())},onBlur:(e,l)=>{},onFocus:(e,l)=>{}}),m&&(0,n.jsx)(c.Z,{labSignString:p,updateSetString:b}),(0,n.jsx)(o.Group,{justify:"end",children:(0,n.jsxs)(d.Button,{onClick:()=>{s()},mt:10,children:[g," "]})})]})]})})},68203:function(e,l,i){"use strict";var n=i(68328),t=i(25499),r=i(68718),o=i(22614),d=i(87967),a=i(14587),u=i(90655),s=i(4505),c=i(20729),g=i(7203),h=i(62471);l.Z=e=>{var l;let{updateSetString:i,labSignString:v}=e,{data:m,isLoading:b}=(0,r.Ck)(),[p,x]=(0,s.useState)(null),f=(0,t.C)(e=>e.auth.user),S=(0,h._)({key:"lab-signature-custom-settings-".concat(null==f?void 0:f.id)}),j=(0,h._)({key:"lab-single-signature-alignment-".concat(null==f?void 0:f.id)}),[y,C]=(0,s.useState)({left:null,center:null,right:null}),k=e=>{var l;let i=null==m?void 0:null===(l=m.data)||void 0===l?void 0:l.find(l=>l.id===e);return i?(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,n.jsx)("p",{style:{margin:0,display:"none"},children:null==i?void 0:i.id}),(null==i?void 0:i.image)?(0,n.jsx)("img",{src:null==i?void 0:i.image,style:{width:"200px",height:"40px",objectFit:"fill",margin:"auto"},alt:null==i?void 0:i.name}):(0,n.jsx)("img",{src:"/images/white-bg.png",style:{width:"200px",height:"40px",objectFit:"fill",margin:"auto"},alt:null==i?void 0:i.name}),(0,n.jsx)("p",{style:{margin:0,textAlign:"center",fontWeight:"bold"},children:null==i?void 0:i.name}),(0,n.jsx)("p",{className:"signature-designation",style:{margin:0,display:"flex",flexDirection:"column",textAlign:"center"},children:null==i?void 0:i.designation})]},i.id):null},w=(e,l)=>{let t="";C(i=>{let r={...i,[e]:l},o=(0,n.jsxs)("div",{id:"signatures",style:{display:"flex",margin:"5px",justifyContent:(null==r?void 0:r.left)||(null==r?void 0:r.right)||null==r||!r.center?"space-between":null!=j?j:"center"},children:[r.left&&(0,n.jsx)("div",{id:"first",children:k(r.left)}),r.center&&(0,n.jsx)("div",{id:"second",children:k(r.center)}),r.right&&(0,n.jsx)("div",{id:"third",children:k(r.right)})]});return x(t=c.renderToString(o)),r}),null==i||i(t)},T=(0,t.C)(e=>e.auth.diagnostic),_=(0,s.useMemo)(()=>{if(null==m?void 0:m.data){var e;return null==m?void 0:null===(e=m.data)||void 0===e?void 0:e.map(e=>({...e,value:e.id,label:e.name}))}},[null==m?void 0:m.data]);return((0,s.useMemo)(()=>{var e,l,i,t,r,o,d,a,u;if(v){let n=new DOMParser().parseFromString(v,"text/html"),t=null===(e=n.querySelector("#first div p"))||void 0===e?void 0:e.innerHTML,r=null===(l=n.querySelector("#second div p"))||void 0===l?void 0:l.innerHTML,o=null===(i=n.querySelector("#third div p"))||void 0===i?void 0:i.innerHTML;C({left:null!=t?t:null,center:null!=r?r:null,right:null!=o?o:null})}else if(T){let e={left:"true"===S?null!==(t=null==f?void 0:f.labFirstSign)&&void 0!==t?t:null:null!==(r=null==T?void 0:T.labFirstSign)&&void 0!==r?r:null,center:"true"===S?null!==(o=null==f?void 0:f.labSecondSign)&&void 0!==o?o:null:null!==(d=null==T?void 0:T.labSecondSign)&&void 0!==d?d:null,right:"true"===S?null!==(a=null==f?void 0:f.labThirdSign)&&void 0!==a?a:null:null!==(u=null==T?void 0:T.labThirdSign)&&void 0!==u?u:null};C(e);let l=(0,n.jsxs)("div",{id:"signatures",style:{display:"flex",margin:"5px",justifyContent:(null==e?void 0:e.left)||(null==e?void 0:e.right)||null==e||!e.center?"space-between":null!=j?j:"center"},children:[e.left&&(0,n.jsx)("div",{id:"first",children:k(e.left)}),e.center&&(0,n.jsx)("div",{id:"second",children:k(e.center)}),e.right&&(0,n.jsx)("div",{id:"third",children:k(e.right)})]});x(c.renderToString(l))}},[T,v]),b)?(0,n.jsx)(g.Z,{}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o.Group,{mx:5,wrap:"nowrap",justify:" ".concat((null==y?void 0:y.left)||(null==y?void 0:y.right)||null==y||!y.center?"space-between":null!=j?j:"center"),children:[("true"===S?null==f?void 0:f.labFirstSign:null==T?void 0:T.labFirstSign)&&(0,n.jsx)(d.P,{label:"Left Signature",description:"",placeholder:"Select Left Signature",data:null!=_?_:[],limit:15,searchable:!0,variant:"default",clearable:!0,leftSection:(0,n.jsx)(u.Z,{}),rightSection:b?(0,n.jsx)(a.Loader,{size:18}):void 0,size:"lg",styles:{input:{backgroundColor:"white"}},value:null==y?void 0:y.left,onChange:e=>w("left",e)}),("true"===S?null==f?void 0:f.labSecondSign:null==T?void 0:T.labSecondSign)&&(0,n.jsx)(d.P,{label:"Center Signature",description:"",placeholder:"Select Center Signature",data:null!=_?_:[],limit:15,searchable:!0,variant:"default",clearable:!0,leftSection:(0,n.jsx)(u.Z,{}),rightSection:b?(0,n.jsx)(a.Loader,{size:18}):void 0,size:"lg",value:null==y?void 0:y.center,styles:{input:{backgroundColor:"white"}},onChange:e=>w("center",e)}),("true"===S?null==f?void 0:f.labThirdSign:null==T?void 0:T.labThirdSign)&&(0,n.jsx)(d.P,{label:"Right Signature",description:"",placeholder:"Select Right Signature",data:null!=_?_:[],limit:15,searchable:!0,variant:"default",clearable:!0,value:null==y?void 0:y.right,leftSection:(0,n.jsx)(u.Z,{}),rightSection:b?(0,n.jsx)(a.Loader,{size:18}):void 0,size:"lg",styles:{input:{backgroundColor:"white"}},onChange:e=>w("right",e)})]}),(p||v)&&(0,n.jsx)("div",{id:"rendered-signatures",dangerouslySetInnerHTML:{__html:null!==(l=null!=p?p:v)&&void 0!==l?l:"<span></span>"}})]})}},30886:function(e){e.exports={heightComp:"CkEditor_heightComp__75oxP",container:"CkEditor_container__Yw_0y"}}}]);