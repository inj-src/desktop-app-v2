(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1355],{91171:function(e,n,t){"use strict";t.d(n,{Z:function(){return g}});var i=t(68328);t(4505);var o=t(77052),r=t(60331),a=t(67781),s=t(14702),l=t.n(s),c=t(16098),d=t(76889),u=e=>{let{type:n,setValue:t,setDate:s,setMonth:u,maxDate:m=!0,defaultValue:p,minDate:h}=e,g=(0,c.j)({components:{DatePickerInput:o.DatePickerInput.extend({classNames:l()}),MonthPickerInput:r.MonthPickerInput.extend({classNames:l()})}});return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(d.MantineProvider,{theme:g,children:u?(0,i.jsx)(r.MonthPickerInput,{leftSection:(0,i.jsx)(a.Z,{size:20}),leftSectionPointerEvents:"none",onChange:u,size:"md",radius:"md",variant:"filled"}):s?(0,i.jsx)(o.DatePickerInput,{type:"default",clearable:!0,onChange:s,defaultValue:p,leftSection:(0,i.jsx)(a.Z,{size:20}),maxDate:m?new Date:void 0,size:"md",minDate:h,radius:"md",variant:"filled"}):(0,i.jsx)(o.DatePickerInput,{type:"range",clearable:!0,valueFormat:"DD MMM, YYYY",onChange:t,leftSection:(0,i.jsx)(a.Z,{size:20}),maxDate:new Date,defaultValue:[new Date,new Date],size:"md",radius:"md",variant:"filled"})})})},m=t(71),p=t.n(m),h=t(91952),g=e=>{let{setValue:n,disableBtn:t,setMonth:o,setDate:r,headerText:a,buttonText:s="",buttonIcon:l,isButtonTextRightSide:c,onClick:d,doesButtonExists:m=!1,spaceBetweenDateAndHeader:g=!1,doesDatePickerExists:x=!1,buttonVariant:f="filled",routeLink:v,btnBg:j,defaultValue:C,maxDate:b,minDate:y}=e;return(0,i.jsxs)("div",{className:p().sectionHeaderParent,children:[(0,i.jsxs)("div",{style:g?{justifyContent:"space-between",width:"100%"}:{},className:p().sectionHeaderContainer,children:[(0,i.jsx)("h1",{className:"fw-bold",children:a}),x&&(0,i.jsx)(u,{setValue:n,setMonth:o,setDate:r,defaultValue:C,maxDate:b,minDate:y})]}),m&&(0,i.jsx)(h.Z,{btnBg:j,variant:f,buttonText:s,buttonIcon:l,isButtonTextRightSide:c,onClick:d||void 0,routeLink:v})]})}},70573:function(e,n,t){"use strict";var i=t(68328),o=t(25499),r=t(89043),a=t(41224),s=t(68242),l=t(22041),c=t(77303),d=t(48604),u=t(22614),m=t(58812),p=t(87967),h=t(81209),g=t(31204),x=t(60609),f=t(49238),v=t(69861),j=t(8720),C=t(23583),b=t(14193),y=t(10713);let P=b.Ry().shape({name:b.Z_().required("Category Name is Required"),roomNo:b.Z_().optional()});n.Z=e=>{let{onSubmitAction:n,previousState:t}=e,b=(0,o.C)(e=>e.auth.diagnostic),T=(0,o.C)(e=>e.auth.user);return(null==T?void 0:T.role)==="receptionist"&&localStorage&&localStorage.getItem("can-edit-pc-percentage"),(0,i.jsx)(r.X,{shadow:"sm",p:"xl",radius:"md",withBorder:!0,children:(0,i.jsxs)(a.Stack,{gap:"md",children:[(0,i.jsx)(s.Title,{order:3,mb:"sm",children:t?"Update Category":"Add New Category"}),(0,i.jsx)(C.J9,{validationSchema:P,enableReinitialize:!0,initialValues:{name:(null==t?void 0:t.name)||"",roomNo:(null==t?void 0:t.roomNo)||"",discount:(null==t?void 0:t.discount)||0,isPcPayable:(null==t?void 0:t.isPcPayable)||!1,pcAmountType:(null==t?void 0:t.pcAmountType)||"percentage",pcAmount:(null==t?void 0:t.pcAmount)||0,discountType:(null==t?void 0:t.discountType)||"percentage",isDoctorCommissionaire:(null==t?void 0:t.isDoctorCommissionaire)||!1,doctorCommissionAmount:(null==t?void 0:t.doctorCommissionAmount)||0,doctorCommissionType:(null==t?void 0:t.doctorCommissionType)||"percentage"},onSubmit:async(e,i)=>{let{setSubmitting:o,resetForm:r}=i;try{n(e),t||r()}finally{o(!1)}},children:e=>{let{values:n,errors:o,handleChange:r,handleBlur:s,handleSubmit:C,setFieldValue:P,touched:D}=e;return(0,i.jsx)("form",{onSubmit:C,children:(0,i.jsxs)(a.Stack,{gap:"lg",children:[(0,i.jsxs)(a.Stack,{gap:"md",children:[(0,i.jsx)(l.Text,{size:"lg",fw:600,c:"dimmed",children:"Basic Information"}),(0,i.jsx)(y.Z,{labelText:"Category Name",placeholder:"Type Category",withAsterisk:!0,value:n.name,onChange:r,onBlur:s,type:"text",name:"name",error:D.name&&o.name?"".concat(o.name):void 0}),(0,i.jsx)(y.Z,{labelText:"Room No",placeholder:"Type room no",value:n.roomNo,onChange:r,onBlur:s,type:"text",name:"roomNo",error:D.roomNo&&o.roomNo?"".concat(o.roomNo):void 0})]}),(0,i.jsx)(c.Divider,{}),(0,i.jsx)(d.Z,{padding:"lg",radius:"md",withBorder:!0,style:{background:"linear-gradient(135deg, #fef3c7 0%, #fffbeb 100%)",border:"2px solid #fbbf24"},children:(0,i.jsxs)(a.Stack,{gap:"md",children:[(0,i.jsxs)(u.Group,{gap:"sm",children:[(0,i.jsx)(m.k,{size:"lg",radius:"md",variant:"light",color:"yellow",children:(0,i.jsx)(x.Z,{size:20})}),(0,i.jsx)(l.Text,{size:"lg",fw:600,c:"#92400e",children:"Discount Configuration"})]}),(0,i.jsxs)(u.Group,{grow:!0,children:[(0,i.jsx)(y.Z,{labelText:"Discount",type:"number",placeholder:"Type discount",value:n.discount,onChange:r,onBlur:s,name:"discount",error:D.discount&&o.discount?"".concat(o.discount):void 0,size:"md",variant:"filled",radius:"md",rightSection:(0,i.jsx)(i.Fragment,{})}),(0,i.jsx)(p.P,{label:"Hospital Discount Type",size:"md",description:"Percentage or Amount",variant:"filled",radius:"md",rightSection:(0,i.jsx)(f.Z,{size:16}),placeholder:"Select Discount Method",value:n.discountType,onChange:e=>{P("discountType",e)},data:[{value:"percentage",label:"Percentage"},{value:"amount",label:"Amount"}]})]})]})}),(0,i.jsx)(c.Divider,{}),(0,i.jsx)(d.Z,{padding:"lg",radius:"md",withBorder:!0,style:{background:"linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%)",border:"2px solid #fca5a5"},children:(0,i.jsxs)(a.Stack,{gap:"md",children:[(0,i.jsxs)(u.Group,{gap:"sm",children:[(0,i.jsx)(m.k,{size:"lg",radius:"md",variant:"light",color:"red",children:(0,i.jsx)(v.Z,{size:20})}),(0,i.jsx)(l.Text,{size:"lg",fw:600,c:"#991b1b",children:"PC Commission"})]}),(0,i.jsx)(h.r,{size:"md",name:"isPcPayable",checked:n.isPcPayable,value:n.isPcPayable.toString(),onChange:r,onBlur:s,label:"Discount Payable to PC",styles:{label:{fontSize:16,fontWeight:500}}}),(0,i.jsxs)(u.Group,{grow:!0,children:[(0,i.jsx)(y.Z,{labelText:"PC Discount",type:"number",placeholder:"Type discount",value:n.pcAmount,onChange:r,onBlur:s,disabled:(null==T?void 0:T.role)==="receptionist"&&!(null==b?void 0:b.canReceptionistChangePcCommission),name:"pcAmount",error:D.pcAmount&&o.pcAmount?"".concat(o.pcAmount):void 0,size:"md",variant:"filled",radius:"md",rightSection:(0,i.jsx)(i.Fragment,{})}),(0,i.jsx)(p.P,{label:"PC Discount Type",description:"Percentage or Amount",size:"md",variant:"filled",radius:"md",rightSection:(0,i.jsx)(f.Z,{size:16}),placeholder:"Select Discount Method",value:n.pcAmountType,disabled:(null==T?void 0:T.role)==="receptionist"&&!(null==b?void 0:b.canReceptionistChangePcCommission),onChange:e=>{P("pcAmountType",e)},data:[{value:"percentage",label:"Percentage"},{value:"amount",label:"Amount"}]})]})]})}),(0,i.jsx)(c.Divider,{}),(0,i.jsx)(d.Z,{padding:"lg",radius:"md",withBorder:!0,style:{background:"linear-gradient(135deg, #dbeafe 0%, #eff6ff 100%)",border:"2px solid #93c5fd"},children:(0,i.jsxs)(a.Stack,{gap:"md",children:[(0,i.jsxs)(u.Group,{gap:"sm",children:[(0,i.jsx)(m.k,{size:"lg",radius:"md",variant:"light",color:"blue",children:(0,i.jsx)(j.Z,{size:20})}),(0,i.jsx)(l.Text,{size:"lg",fw:600,c:"#1e3a8a",children:"Doctor Commission"})]}),(0,i.jsx)(h.r,{size:"md",name:"isDoctorCommissionaire",checked:n.isDoctorCommissionaire,value:n.isDoctorCommissionaire.toString(),onChange:r,onBlur:s,label:"Doctor Payable for this Category",styles:{label:{fontSize:16,fontWeight:500}}}),(0,i.jsxs)(u.Group,{grow:!0,children:[(0,i.jsx)(y.Z,{labelText:"Doctor Commission Amount",type:"number",placeholder:"Type commission amount",value:n.doctorCommissionAmount,onChange:r,onBlur:s,disabled:(null==T?void 0:T.role)==="receptionist"&&!(null==b?void 0:b.canReceptionistChangePcCommission),name:"doctorCommissionAmount",error:D.doctorCommissionAmount&&o.doctorCommissionAmount?"".concat(o.doctorCommissionAmount):void 0,size:"md",variant:"filled",radius:"md",rightSection:(0,i.jsx)(i.Fragment,{})}),(0,i.jsx)(p.P,{label:"Doctor Commission Type",description:"Percentage or Amount",size:"md",variant:"filled",radius:"md",rightSection:(0,i.jsx)(f.Z,{size:16}),placeholder:"Select Commission Method",value:n.doctorCommissionType,disabled:(null==T?void 0:T.role)==="receptionist"&&!(null==b?void 0:b.canReceptionistChangePcCommission),onChange:e=>{P("doctorCommissionType",e)},data:[{value:"percentage",label:"Percentage"},{value:"amount",label:"Amount"}]})]})]})}),(0,i.jsx)(c.Divider,{}),(0,i.jsx)(u.Group,{justify:"flex-start",mt:"lg",children:(0,i.jsx)(g.Button,{type:"submit",size:"lg",radius:"md",variant:"filled",style:{minWidth:"150px"},children:t?"Update Category":"Add Category"})})]})})}})]})})}},91952:function(e,n,t){"use strict";var i=t(68328),o=t(31204),r=t(13520);t(4505),n.Z=e=>{let{buttonText:n,buttonIcon:t,isButtonTextRightSide:a=!0,onClick:s,routeLink:l,size:c="md",radius:d="md",variant:u="filled",type:m="button",btnBg:p="",color:h,disabled:g}=e;return l?(0,i.jsx)(o.Button,{bg:p,type:m,size:c,radius:d,component:r.default,disabled:g,href:l,onClick:s,variant:u,color:h,children:(0,i.jsxs)("div",{className:"d-flex ".concat(a?"":"flex-row-reverse"," gap-2 align-items-center"),children:[(0,i.jsx)("span",{children:t}),(0,i.jsx)("span",{children:n})]})}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.Button,{bg:p,type:m,size:c,radius:d,href:l,onClick:s,variant:u,color:h,disabled:g,children:(0,i.jsxs)("div",{className:"d-flex ".concat(a?"":"flex-row-reverse"," gap-2 align-items-center"),children:[(0,i.jsx)("span",{children:t}),(0,i.jsx)("span",{children:n})]})})})}},10713:function(e,n,t){"use strict";t.d(n,{E:function(){return m}});var i=t(68328),o=t(30331),r=t(30293),a=t(55911),s=t(87513),l=t(58689),c=t(73626),d=t(23583),u=t(4505);let m={size:"md",variant:"default",radius:"md"},p=(0,r.F)((0,u.forwardRef)(function(e,n){let{labelText:t,labelTextColor:r,size:p=m.size,variant:h=m.variant,radius:g=m.radius,mt:x="md",withAsterisk:f=!1,onChange:v,onBlur:j,onClick:C,readonly:b,styles:y,value:P,...T}=e,D=Object.assign({label:{color:null!=r?r:"black"}},y),[{value:z,onChange:k,onBlur:S,...w},A,Z]=(0,d.U$)(T.name),N=(0,u.useRef)(null),B=(0,l.Yx)(n,N),_=(0,c.y)(()=>{if(N.current){let e;let{type:n,value:t}=N.current;Z.setValue("number"===n?isNaN(e=parseFloat(t))?"":e:t)}},200);return(0,u.useEffect)(()=>{N.current&&N.current.value!==z&&!(document.hasFocus()&&document.activeElement===N.current)&&(N.current.value=null!=z?z:"")},[z]),(0,i.jsx)(a.TextInput,{label:t,readOnly:b,ref:B,error:A.touched&&A.error,styles:D,defaultValue:z,onChange:e=>{_()},onBlur:e=>{null==j||j(e),S(e)},onClick:e=>{"number"===T.type&&"0"===e.currentTarget.value&&e.currentTarget.select(),null==C||C(e)},onWheel:o.P,rightSectionPointerEvents:"all",rightSection:(0,i.jsx)(s.P,{"aria-label":"Clear input",onClick:()=>{Z.setValue(""),N.current&&(N.current.value="")},style:{display:z?void 0:"none"}}),...w,size:p,variant:h,radius:g,mt:x,withAsterisk:f,...T})}));n.Z=p},72940:function(e,n,t){"use strict";t.d(n,{FD:function(){return o},Hn:function(){return i},y4:function(){return r}});let i={headers:{"Content-Type":"application/json"}},o={withCredentials:!0},r={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},25499:function(e,n,t){"use strict";t.d(n,{C:function(){return r},T:function(){return o}});var i=t(53502);let o=()=>(0,i.I0)(),r=i.v9},30331:function(e,n,t){"use strict";function i(e){e.currentTarget.blur(),e.stopPropagation(),setTimeout(()=>{var n;null==e||null===(n=e.currentTarget)||void 0===n||n.focus()},0)}t.d(n,{P:function(){return i}})},71:function(e){e.exports={sectionHeaderParent:"SectionHeader_sectionHeaderParent__oBL0i",sectionHeaderContainer:"SectionHeader_sectionHeaderContainer__6KnH7"}},14702:function(e){e.exports={input:"DatePickerField_input__Gn9FX"}}}]);