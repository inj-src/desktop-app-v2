(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1028],{20294:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(68328),i=n(4505),a=n(32451),l=n(22614),o=n(22041),s=n(31204),d=n(87967),c=n(67686),u=n(77303),h=n(58812),m=e=>{let{headerText:t,icon:n}=e;return(0,r.jsxs)("div",{className:"d-flex gap-3  align-items-center",children:[(0,r.jsxs)(l.Group,{wrap:"nowrap",children:[(0,r.jsx)(h.k,{variant:"light",size:"lg",radius:"md",children:n}),(0,r.jsx)("h3",{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",marginBottom:0},children:t})]}),(0,r.jsx)(u.Divider,{style:{width:"100%"}})]})},v=n(27191),f=e=>{var t,n,h,f,p,y;let{headerText:x,setFilterObject:g,filterObject:b,icon:j,customSearchField:w,search:C,setSearch:T,setSelectedObj:S,optionData:k,showFilter:D=!1,showDiscountReferrerFilter:A=!1}=e,[P,F]=(0,i.useState)((null==b?void 0:b.paymentFilter)||""),[B,R]=(0,i.useState)((null==b?void 0:b.searchFilter)||""),[z,I]=(0,i.useState)((null==b?void 0:b.discountReferrerId)||""),{data:_}=(0,v.v6)();return(0,i.useEffect)(()=>{F((null==b?void 0:b.paymentFilter)||""),R((null==b?void 0:b.searchFilter)||""),I((null==b?void 0:b.discountReferrerId)||"")},[b]),(0,r.jsxs)(a.Box,{mt:20,mb:20,children:[(0,r.jsx)(m,{headerText:x,icon:j}),D&&(0,r.jsxs)(a.Box,{mt:"xs",p:"md",style:{backgroundColor:"#f8f9fa",borderRadius:"8px"},display:g?"block":"none",children:[(0,r.jsxs)(l.Group,{mb:"sm",justify:"space-between",children:[(0,r.jsx)(o.Text,{fw:600,size:"md",c:"dark",children:"Filters"}),(0,r.jsx)(s.Button,{size:"xs",variant:"subtle",color:"gray",onClick:()=>{F(""),R(""),I(""),g&&(g({}),S&&S({}))},disabled:!B&&!P&&!z,children:"Reset All"})]}),(0,r.jsx)(a.Box,{mb:"md",w:350,children:w&&T&&k&&(0,r.jsx)(d.P,{label:"Select ".concat((null==b?void 0:null===(n=b.searchFilter)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.toUpperCase())||"").concat((null==b?void 0:null===(h=b.searchFilter)||void 0===h?void 0:h.slice(1))||"Option"),placeholder:"Search or Select ".concat((null==b?void 0:null===(p=b.searchFilter)||void 0===p?void 0:null===(f=p[0])||void 0===f?void 0:f.toUpperCase())||"").concat((null==b?void 0:null===(y=b.searchFilter)||void 0===y?void 0:y.slice(1))||""),data:k.map(e=>{var t,n;return{value:(null===(t=e.id)||void 0===t?void 0:t.toString())||(null===(n=e._id)||void 0===n?void 0:n.toString())||e.value,label:e.name||e.label||e.title}}),searchable:!0,clearable:!0,maxDropdownHeight:200,onChange:e=>{e&&S?S(k.find(t=>{var n,r;return((null===(n=t.id)||void 0===n?void 0:n.toString())||(null===(r=t._id)||void 0===r?void 0:r.toString())||t.value)===e})||{}):S&&S({})},onSearchChange:e=>{T&&T(e)},searchValue:C,styles:{input:{fontSize:14},label:{fontSize:14,fontWeight:600,marginBottom:8}}})}),(0,r.jsxs)(l.Group,{gap:32,mb:"sm",children:[(0,r.jsxs)(a.Box,{children:[(0,r.jsx)(o.Text,{fw:600,size:"sm",mb:"xs",c:"dimmed",children:"Reference By"}),(0,r.jsx)(c.Y.Group,{value:B,onChange:e=>{R(e),setTimeout(()=>{let t={};e&&(t.searchFilter=e),P&&(t.paymentFilter=P),z&&(t.discountReferrerId=z),g&&g(t),S&&S({})},0)},name:"referenceBy",children:(0,r.jsxs)(l.Group,{gap:"lg",children:[(0,r.jsx)(c.Y,{value:"",label:"All",styles:{label:{fontWeight:""===B?600:400,fontSize:14,cursor:"pointer",color:""===B?"#228be6":"#495057"},body:{justifyContent:"flex-start"}}}),(0,r.jsx)(c.Y,{value:"doctor",label:"Doctor",styles:{label:{fontWeight:"doctor"===B?600:400,fontSize:14,cursor:"pointer",color:"doctor"===B?"#228be6":"#495057"},body:{justifyContent:"flex-start"}}}),(0,r.jsx)(c.Y,{value:"pc",label:"PC",styles:{label:{fontWeight:"pc"===B?600:400,fontSize:14,cursor:"pointer",color:"pc"===B?"#228be6":"#495057"},body:{justifyContent:"flex-start"}}}),(0,r.jsx)(c.Y,{value:"all-free",label:"All Free",styles:{label:{fontWeight:"all-free"===B?600:400,fontSize:14,cursor:"pointer",color:"all-free"===B?"#228be6":"#495057"},body:{justifyContent:"flex-start"}}}),(0,r.jsx)(c.Y,{value:"self",label:"Self",styles:{label:{fontWeight:"self"===B?600:400,fontSize:14,cursor:"pointer",color:"self"===B?"#228be6":"#495057"},body:{justifyContent:"flex-start"}}})]})})]}),(0,r.jsx)(u.Divider,{color:"gray.3",orientation:"vertical"}),(0,r.jsxs)(a.Box,{children:[(0,r.jsx)(o.Text,{fw:600,size:"sm",mb:"xs",c:"dimmed",children:"Payment Status"}),(0,r.jsx)(c.Y.Group,{value:P,onChange:e=>{F(e),setTimeout(()=>{let t={};B&&(t.searchFilter=B),e&&(t.paymentFilter=e),z&&(t.discountReferrerId=z),g&&g(t),S&&S({})},0)},name:"paymentStatus",children:(0,r.jsxs)(l.Group,{gap:"lg",children:[(0,r.jsx)(c.Y,{value:"",label:"All",styles:{label:{fontWeight:""===P?600:400,fontSize:14,cursor:"pointer",color:""===P?"#228be6":"#495057"},body:{justifyContent:"flex-start"}}}),(0,r.jsx)(c.Y,{value:"paid",label:"Paid",styles:{label:{fontWeight:"paid"===P?600:400,fontSize:14,cursor:"pointer",color:"paid"===P?"#228be6":"#495057"},body:{justifyContent:"flex-start"}}}),(0,r.jsx)(c.Y,{value:"due",label:"Due",styles:{label:{fontWeight:"due"===P?600:400,fontSize:14,cursor:"pointer",color:"due"===P?"#228be6":"#495057"},body:{justifyContent:"flex-start"}}}),(0,r.jsx)(c.Y,{value:"Refunded",label:"Refunded",styles:{label:{fontWeight:"Refunded"===P?600:400,fontSize:14,cursor:"pointer",color:"Refunded"===P?"#228be6":"#495057"},body:{justifyContent:"flex-start"}}})]})})]}),(D||A)&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(u.Divider,{color:"gray.3",orientation:"vertical"}),(0,r.jsxs)(a.Box,{children:[(0,r.jsx)(o.Text,{fw:600,size:"sm",mb:"xs",c:"dimmed",children:"Discount Referrer"}),(0,r.jsx)(d.P,{placeholder:"All Referrers",clearable:!0,searchable:!0,value:z,data:[...(null==_?void 0:_.map(e=>({value:e.id,label:e.name})))||[]],onChange:e=>{I(e||""),setTimeout(()=>{let t={};B&&(t.searchFilter=B),P&&(t.paymentFilter=P),e&&(t.discountReferrerId=e),g&&g(t),S&&S({})},0)},styles:{input:{fontSize:14,minWidth:200}}})]})]})]})]})]})}},73031:function(e,t,n){"use strict";var r=n(68328),i=n(22614),a=n(7140),l=n(87967),o=n(62471),s=n(12450),d=n(4505);t.Z=e=>{let{totalPages:t,extraRoute:n,defaultLimit:c=25}=e,u=(0,s.useSearchParams)(),h=(0,s.useRouter)(),[m,v]=(0,o.I)({key:"pagination-limit",defaultValue:"25"}),f=u.get("limit")||m||c.toString(),p=u.get("page")||"1";return(0,d.useEffect)(()=>{if(!u.get("limit")&&m){let e=new URLSearchParams(Array.from(u.entries()));e.set("limit",m),e.set("page",p),h.replace("?".concat(e.toString()).concat(n||""))}},[]),(0,r.jsx)("div",{className:"px-4",children:(0,r.jsxs)(i.Group,{justify:"space-between",children:[(0,r.jsx)(a.t,{value:parseInt(p),onChange:e=>{let t=new URLSearchParams(Array.from(u.entries()));t.set("limit",f),t.set("page",e.toString()),h.push("?".concat(t.toString()).concat(n||""))},total:t}),(0,r.jsx)(l.P,{label:"Select Limit",data:["25","50","75","100","200","500","1000","2000"],value:f,onChange:e=>{if(e){v(e);let t=new URLSearchParams(Array.from(u.entries()));t.set("limit",e),t.set("page","1"),h.push("?".concat(t.toString()).concat(n||""))}}})]})})}},69667:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var r=n(68328),i=n(74559),a=n(25499),l=n(77379),o=n(12450);let s=e=>{let{className:t,defaultOverall:n=!1,...s}=e,d=(0,o.useSearchParams)(),c=(0,o.usePathname)(),u=(0,o.useRouter)();return"receptionist"===(0,a.C)(i.nC)&&(0,r.jsx)(l.s,{value:(n?!d.has("personal"):d.has("overall"))?"overall":"personal",onChange:e=>{let t=new URLSearchParams(d),r=n?"personal":"overall";e===r?t.set(r,"true"):t.delete(r),u.push("".concat(c,"?").concat(t))},className:["hide__print",t].filter(Boolean).join(" "),...s,data:[{label:"Personal View",value:"personal"},{label:"Overall View",value:"overall"}]})}},89876:function(e,t,n){"use strict";var r=n(68328),i=n(54632),a=n(7518),l=n.n(a),o=n(13520);t.Z=e=>{let{headers:t,rows:n,header:a,withColumnBorders:s,isStriped:d=!1,withRowBorders:c=!0,seeExtra:u=!1,extraLink:h,smallPadding:m,withTableBorder:v,extraClassForTable:f={},children:p,withBorder:y}=e;return(0,r.jsxs)("div",{className:"bg-white p-0 rounded-4",children:[(0,r.jsx)(i.i.ScrollContainer,{className:"p-0",minWidth:767,children:(0,r.jsxs)(i.i,{styles:{td:{paddingTop:m?8:16,paddingBottom:m?8:16},...f},striped:d,withRowBorders:c,withColumnBorders:s,withTableBorder:v,children:[(0,r.jsx)(i.i.Thead,{className:"w-100",children:(0,r.jsx)(i.i.Tr,{children:t})}),(0,r.jsxs)(i.i.Tbody,{children:[n,p]})]})}),u&&(0,r.jsx)("div",{className:l().extra,children:(0,r.jsxs)(o.default,{href:h||"/",children:["See more ",a]})})]})}},49474:function(e,t,n){"use strict";var r=n(68328),i=n(25499),a=n(54632),l=n(72375),o=n(97428),s=n(22041),d=n(32451),c=n(20234),u=n(76029),h=n(8283),m=n(60711),v=n(44019),f=n(12697),p=n(97698),y=n(13520),x=n(4505),g=n(90660),b=n.n(g),j=n(7518),w=n.n(j);t.Z=e=>{let{bill:t=!1,dataKeys:n,isEditable:g,isViewAble:j,editLink:C,viewLink:T,queryParamName:S="id",elements:k,statusVisible:D=!0,isImage:A,limit:P,keyNameWithImage:F,imageKeyName:B,isDeleteAble:R,deleteFunction:z,ActionsArray:I,customComponent:_,customComponentKeyName:q,customComponentObject:N,extraClassInRow:E="fw-bold",isSelectTable:W,selectedArray:O,setSelectedArray:U,containSerialNo:Z}=e,M=P?null==k?void 0:k.slice(0,P):k,L=(0,i.T)(),Y=(0,h.o)();return(0,r.jsx)(r.Fragment,{children:null==M?void 0:M.map((e,i)=>{let h=I?I instanceof Function?I(e):I:[];return(0,r.jsxs)(a.i.Tr,{bg:(null==O?void 0:O.includes(e.id))?"var(--mantine-color-blue-light)":void 0,className:E,children:[Z&&(0,r.jsxs)(a.i.Td,{children:[i+1,". "]}),W&&(0,r.jsx)(a.i.Td,{children:(0,r.jsx)(l.X,{"aria-label":"Select row",checked:null==O?void 0:O.includes(e.id),onChange:t=>U&&O&&U(t.currentTarget.checked?[...O,e.id]:O.filter(t=>t!==e.id))})}),null==n?void 0:n.map(n=>{var l,c;return n&&(0,r.jsx)(x.Fragment,{children:q&&"string"==typeof q&&_&&n===q?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:_(e,i)}):q&&"object"==typeof q&&(null==q?void 0:q.includes(n))&&N?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word",width:"reference"===n?"30%":""}},children:null===(l=N[n])||void 0===l?void 0:l.call(N,e,i)}):Array.isArray(n)?(0,r.jsxs)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:[" ",(0,r.jsx)("div",{className:"d-flex flex-column",children:n.map((t,n)=>(0,r.jsx)("span",{children:e[t]},n))})]},e[n[0]]):A&&F===n?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,r.jsxs)("div",{className:"d-flex align-items-center gap-2 fw-bold",children:[(0,r.jsx)(o.q,{src:B?e[B]:e.image,alt:"Picture"}),(0,r.jsx)(s.Text,{size:"xs",children:e[n]})]})},e[n]):"name"===n?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,r.jsx)(s.Text,{fw:600,tt:"capitalize",size:"xs",children:e[n]})}):!0===t&&"paidAmount"===n?(0,r.jsx)(r.Fragment,{children:(null==e?void 0:e.status)==="Refunded"?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},className:w().refund,children:(0,r.jsx)(s.Text,{size:"xs",children:"Refunded"})},e[n]):(null==e?void 0:e.totalAmount)-(null==e?void 0:e.paidAmount)<=3||(null==e?void 0:e.totalAmountWithDiscount)-(null==e?void 0:e.paidAmount)<=3?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},className:w().paid,children:(0,r.jsx)(s.Text,{size:"xs",children:"Paid"})},e[n]):(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},className:w().due,children:(0,r.jsxs)(s.Text,{size:"xs",children:["Due(",isNaN(parseInt((null==e?void 0:e.totalAmount)||(null==e?void 0:e.totalAmountWithDiscount))-parseInt(e.paidAmount))?0:Math.floor(parseInt((null==e?void 0:e.totalAmount)||(null==e?void 0:e.totalAmountWithDiscount))-parseInt(e.paidAmount)),")"]})},e[n])}):["totalAmount","totalAmountWithDiscount"].includes(n)?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,r.jsxs)(s.Text,{size:"xs",children:[" ",Math.floor(parseInt(e[n]))]})},e[n]):"createdAt"===n?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,r.jsxs)(s.Text,{size:"xs",children:[" ",(0,p.Z)(new Date(e[n]),"MM/dd/yyyy")]})},e[n]):"time"===n?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,r.jsxs)(s.Text,{size:"xs",children:[" ",new Date(e[n]).toLocaleString("en-US",{timeZone:"Asia/Dhaka"}).replace(","," |")]})},e[n]):"status"===n?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:e.isDeliver?(0,r.jsx)(d.Box,{style:{backgroundColor:"rgba(20, 177, 59, 0.50)",fontWeight:"bold",borderRadius:5,padding:5,textAlign:"left",width:100},bg:"#14B13B33",children:"Delivered"}):(0,r.jsx)(s.Text,{ta:"left",fw:600,size:"xs",children:"In Progress"})}):"totalTests"===n?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,r.jsxs)(s.Text,{size:"xs",children:[" ",(null===(c=e.tests)||void 0===c?void 0:c.length)||0]})},e[n]):(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,r.jsxs)(s.Text,{size:"xs",children:[" ",e[n]]})},e[n])},"".concat(e.id||i,"-").concat(n))}),!n&&Object.keys(e).map(n=>(0,r.jsx)(x.Fragment,{children:!0===t&&"paidAmount"===n?(0,r.jsx)("div",{className:"d-flex align-items-center h-100",children:(null==e?void 0:e.totalAmount)===(null==e?void 0:e.paidAmount)?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},className:w().paid,children:(0,r.jsx)(s.Text,{size:"xs",children:"Paid"})},e[n])]}):(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},className:w().due,children:(0,r.jsxs)(s.Text,{size:"xs",children:["Due(",Math.floor(parseInt(e.totalAmount)-parseInt(e.paidAmount)),")"]})},e[n])]})}):"totalAmount"===n?(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,r.jsxs)(s.Text,{size:"xs",children:[" ",Math.floor(parseInt(e[n]))]})},e[n]):(0,r.jsx)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,r.jsxs)(s.Text,{size:"xs",children:[" ",e[n]]})},e[n])},"".concat(e.id||i,"-").concat(n))),(0,r.jsxs)(a.i.Td,{styles:{td:{wordBreak:"break-word"}},className:"d-flex gap-1 hide__print",children:[(null==e?void 0:e.status)==="done"&&D?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsx)(d.Box,{style:{color:"#14B13B",fontWeight:"bold",borderRadius:5,padding:5},bg:"#14B13B33",children:"Done"})]}):null==h?void 0:h.map(t=>{var n;return(0,r.jsx)(x.Fragment,{children:t.link?(0,r.jsx)(y.default,{href:(null==t?void 0:t.useQueryParam)?"".concat(null==t?void 0:t.link,"?").concat((null==t?void 0:t.queryParamKey)||"id","=").concat((null==t?void 0:t.linkProp)?null==e?void 0:e[null==t?void 0:t.linkProp]:e.id).concat((null==t?void 0:t.queryParam)?"&".concat(null==t?void 0:t.queryParam,"=true"):""):"".concat(null==t?void 0:t.link,"/").concat((null==t?void 0:t.linkProp)?null==e?void 0:e[null==t?void 0:t.linkProp]:e.id).concat((null==t?void 0:t.queryParam)?"?".concat(null==t?void 0:t.queryParam,"=true"):""),children:t.icon}):(0,r.jsx)("span",{onClick:async()=>{if(t.onClickFunc){if((null==t?void 0:t.onClickFuncProp)==="all"){let n=await t.onClickFunc(e);(null==n?void 0:n.success)&&b().fire("Success","success")}else{let n=await t.onClickFunc(e.id);(null==n?void 0:n.success)&&b().fire("Success","success")}t.reduxFunc&&"remove"===t.reduxFuncType?L(await t.reduxFunc({id:e.id})):t.reduxFunc&&L(await t.reduxFunc({appointmentId:e.id,doctorId:t.doctorId}))}},className:"cursor",children:null==t?void 0:t.icon})},(null===(n=t.icon)||void 0===n?void 0:n.toString())||"action-icon")}),j?(0,r.jsx)(c.Anchor,{href:"".concat(T,"?").concat(S,"=").concat(e.id),target:"_blank",underline:"never",children:(0,r.jsx)(u.u,{label:"View",children:(0,r.jsx)(m.Z,{className:"cursor"})})}):"",g?(0,r.jsx)(c.Anchor,{href:"".concat(C,"?").concat(S,"=").concat(e.id),target:"_blank",underline:"never",children:(0,r.jsx)(u.u,{label:"Edit",children:(0,r.jsx)(v.Z,{className:"cursor"})})}):"",R&&z?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Z,{onClick:()=>{Y.openConfirmModal({title:"Delete",centered:!0,children:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("span",{className:"d-block h4",children:"Are you sure?"})}),labels:{confirm:"Delete",cancel:"Cancel"},onConfirm:()=>z(e.id)})},className:"cursor"})," "]}):""]})]},e.id||"".concat(null==e?void 0:e.name,"-").concat(i))})})}},72940:function(e,t,n){"use strict";n.d(t,{FD:function(){return i},Hn:function(){return r},y4:function(){return a}});let r={headers:{"Content-Type":"application/json"}},i={withCredentials:!0},a={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},43005:function(e,t,n){"use strict";n.d(t,{u:function(){return l}});var r=n(4505),i=n(42752),a=n.n(i);let l=(e,t,n,i)=>{let[l,o]=(0,r.useState)(null);return(0,r.useEffect)(()=>{let r=t?t.map(e=>e.Doctor):[],l=[...e||[],...r&&!i?r:[],...n&&!i?n:[]],s=new Map;l.forEach(e=>{s.has(e.name+e.designation)||s.set(e.name+e.designation,e)});let d=Array.from(s.values());o(a().uniqBy(d,"uniqueId"))},[e,n,t,i]),l}},67963:function(e,t,n){"use strict";var r=n(25499),i=n(62471),a=n(76607),l=n(78259),o=n(12450),s=n(4505);t.Z=function(e,t,n,d){let c=!(arguments.length>4)||void 0===arguments[4]||arguments[4],u=arguments.length>5?arguments[5]:void 0,h=arguments.length>6?arguments[6]:void 0,m=(0,o.useSearchParams)(),[v,f]=(0,i.I)({key:"limit",defaultValue:25}),[p,y]=(0,s.useState)(),[x,g]=(0,s.useState)(!1),[b,j]=(0,s.useState)(0),w=(0,r.C)(e=>e.diagnosticSettings.viewId),C=(0,r.C)(e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.role}),T=(0,s.useCallback)(()=>{let n={};(null==t?void 0:t.searchFilter)==="doctor"?n.doctorId=null==d?void 0:d.id:(null==t?void 0:t.searchFilter)==="pc"&&(n.pCId=null==d?void 0:d.id),(null==t?void 0:t.paymentFilter)==="due"?n.isPaid=!1:(null==t?void 0:t.paymentFilter)==="paid"?n.isPaid=!0:(null==t?void 0:t.paymentFilter)==="Refunded"&&(n.status="Refunded"),(null==t?void 0:t.searchFilter)&&(n.referenceBy=null==t?void 0:t.searchFilter),(null==t?void 0:t.discountReferrerId)&&(n.discountReferrerId=t.discountReferrerId);let r=m.get("from"),i=m.get("to"),o=(0,a.Z)(new Date),s=(0,l.Z)(new Date);(r&&i||e[0])&&(e[0]?(s=(0,l.Z)(new Date(e[0])),o=e[1]?(0,a.Z)(new Date(e[1])):(0,a.Z)(new Date(e[0]))):r&&i&&(o=new Date(i),s=new Date(r)));let u=m.get("limit"),f={from:s,to:o,limit:u?parseInt(u):v,page:parseInt(m.get("page")||"1"),isOwn:!!h,userId:"admin"===C?w:void 0};return c&&Object.keys(n).length>0&&(f={filterData:n,...f}),console.log("Fetch Params: ",f),console.log("Filter Data: ",n),f},[t,m,e,v,h,C,w,c,null==d?void 0:d.id]),S=(0,s.useCallback)(async()=>{try{g(!0);let i=T(),{success:a,data:l}=await u({...i});if(a){var e,t,r;n({paidAmount:null==l?void 0:null===(e=l.items)||void 0===e?void 0:e.paidAmount,totalAmount:null==l?void 0:null===(t=l.items)||void 0===t?void 0:t.totalAmount,totalCount:null==l?void 0:null===(r=l.items)||void 0===r?void 0:r.totalCount}),y(l)}else console.error("Error fetching data:",l)}catch(e){console.error("Exception during fetch:",e)}finally{g(!1)}},[T,u,n]),k=(0,s.useCallback)(()=>{j(e=>e+1)},[]);return(0,s.useEffect)(()=>{S()},[S,b]),{isLoading:x,data:p,refetch:k}}},64159:function(e,t,n){"use strict";n.d(t,{J:function(){return d}});var r=n(58539),i=n(95325),a=n(28301),l=n(25499),o=n(4505),s=n(53502);let d=()=>{let e=(0,l.T)(),t=(0,s.v9)(e=>e.doctors);return(0,o.useEffect)(()=>{(async function(){if(!t.adminDoctors){let{success:t,data:n}=await (0,r.c)();t&&e((0,a.v1)(n.items))}if(!t.allDoctors){let{success:t,data:n}=await (0,i.$)(1,1e3);t&&e((0,a.GO)(n.items))}})()},[]),t}},58539:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var r=n(49854),i=n(67732);let a=async(e,t,n)=>{try{let i=new URLSearchParams(Object.fromEntries(Object.entries({page:e,limit:t,search:n}).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,String(n)]}))),a="admin/doctor?".concat(i.toString()),l=await (0,r.d)(a);return{success:!0,data:l.data}}catch(e){if(e instanceof i.d7){var a;return{success:!1,data:null===(a=e.response)||void 0===a?void 0:a.data.message}}return{success:!1,data:"An error occurred"}}}},95325:function(e,t,n){"use strict";n.d(t,{$:function(){return a}});var r=n(49854),i=n(67732);let a=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{let i=await (0,r.d)("doctor",{page:e,limit:t,search:n});return{success:!0,data:i.data}}catch(e){if(e instanceof i.d7){var a;return{success:!1,data:null===(a=e.response)||void 0===a?void 0:a.data.message}}return{success:!1,data:"An error occurred"}}}},78101:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var r=n(49854),i=n(68240),a=n(94183),l=n(28317);let o=(0,i.LC)({baseQuery:(0,a.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async n=>{let i="string"==typeof e?e:e.url;return i.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,l.t8)(i,await n.clone().json().catch(()=>null),(0,r.x)()),n}).catch(async n=>{if(n instanceof TypeError){let n="string"==typeof e?e:e.url;if(!n.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,l.U2)(n,(0,r.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw n})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},28301:function(e,t,n){"use strict";let r;n.d(t,{At:function(){return g},F0:function(){return u},GO:function(){return h},cv:function(){return x},id:function(){return y},ox:function(){return p},pF:function(){return d},v1:function(){return v}});var i=n(79258),a=n(69192),l=n(28317);let o=new Intl.Collator;function s(){return r||(r=(0,l.MT)("doctor-frequency-store","doctor-frequency")),r}let d=(0,i.createAsyncThunk)("doctors/increaseDoctorFrequencies",async e=>(await Promise.resolve((0,l.Vx)(e,e=>(e||0)+1,s())).catch(),await (0,l.qh)(s()).catch(()=>[]))),c=(0,i.createSlice)({name:"doctors",initialState:{allDoctors:null,chamberedDoctors:null,adminDoctors:null,addedDoctors:[],paginatedAdminDoctors:null},reducers:{setAllDoctors:(e,t)=>{e.allDoctors=t.payload},setChamberedDoctors:(e,t)=>{e.chamberedDoctors=t.payload},setAdminDoctors:(e,t)=>{Array.isArray(t.payload)?e.adminDoctors=t.payload:e.adminDoctors?e.adminDoctors=[...e.adminDoctors,t.payload]:e.adminDoctors=t.payload},setPaginatedAdminDoctors:(e,t)=>{e.paginatedAdminDoctors=t.payload},setAddedDoctors:(e,t)=>{e.addedDoctors=[...e.addedDoctors,t.payload]},removeChamberedDoctor:(e,t)=>{e.addedDoctors=e.chamberedDoctors.filter(e=>e.Doctor.id!==t.payload)},removeAdminDoctor:(e,t)=>{var n,r;e.adminDoctors=null!==(r=null===(n=e.adminDoctors)||void 0===n?void 0:n.filter(e=>e.id!==t.payload))&&void 0!==r?r:null},removePaginatedAdminDoctor:(e,t)=>{var n,r;e.paginatedAdminDoctors=null!==(r=null===(n=e.paginatedAdminDoctors)||void 0===n?void 0:n.filter(e=>e.id!==t.payload))&&void 0!==r?r:null}},extraReducers:e=>{e.addCase(d.fulfilled,(e,t)=>{var n;let r=new Map(t.payload);null===(n=e.adminDoctors)||void 0===n||n.sort((e,t)=>{var n,i;return(null!==(n=r.get(t.id))&&void 0!==n?n:0)-(null!==(i=r.get(e.id))&&void 0!==i?i:0)||o.compare(e.name,t.name)})})}}),u=(0,a.createSelector)([e=>e.doctors,e=>{var t;return null===(t=e.auth.diagnostic)||void 0===t?void 0:t.showOnlyAdminDoctor}],(e,t)=>{let{adminDoctors:n,allDoctors:r,chamberedDoctors:i}=e,a=i?i.map(e=>e.Doctor):[],l=new Map;return[...n||[],...a&&!t?a:[],...r&&!t?r:[]].forEach(e=>{var t,n;let r=(null==e?void 0:null===(t=e.name)||void 0===t?void 0:t.trim())+(null==e?void 0:null===(n=e.designation)||void 0===n?void 0:n.trim());l.has(r)||l.set(r,e)}),Array.from(l.values())}),{setAllDoctors:h,setChamberedDoctors:m,setAdminDoctors:v,setAddedDoctors:f,removeChamberedDoctor:p,removeAdminDoctor:y,setPaginatedAdminDoctors:x,removePaginatedAdminDoctor:g}=c.actions;t.ZP=c.reducer},25499:function(e,t,n){"use strict";n.d(t,{C:function(){return a},T:function(){return i}});var r=n(53502);let i=()=>(0,r.I0)(),a=r.v9},75540:function(e,t,n){"use strict";n.d(t,{JC:function(){return l},K0:function(){return a},Nr:function(){return m},Uc:function(){return c},Vi:function(){return x},db:function(){return d},ey:function(){return s},fR:function(){return o},h2:function(){return u},hC:function(){return f},js:function(){return y},pL:function(){return v},s:function(){return h}});var r=n(78101);let i=r.g.injectEndpoints({endpoints:e=>({getPCs:e.query({query:e=>{let{page:t=1,limit:n=10,search:r=""}=e||{},i=new URLSearchParams;return i.append("page",t.toString()),i.append("limit",n.toString()),r&&i.append("search",r),{url:"/pc?".concat(i.toString())}},keepUnusedDataFor:60}),getPCsPaginated:e.query({query:e=>{let{page:t=1,limit:n=10,search:r=""}=e||{},i=new URLSearchParams;return i.append("page",t.toString()),i.append("limit",n.toString()),r&&i.append("search",r),{url:"/pc/paginated?".concat(i.toString())}},keepUnusedDataFor:60}),createPC:e.mutation({query:e=>({url:"/pc",method:"POST",body:e}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:i}=t;try{await i,n(r.g.util.invalidateTags(["PC"]))}catch(e){}}}),updatePC:e.mutation({query:e=>{let{id:t,name:n,percentage:r,fathersName:i,mobile:a,thana:l,address:o,district:s}=e;return{url:"/pc/".concat(t),method:"PATCH",body:{name:n,percentage:r,fathersName:i,mobile:a,thana:l,address:o,district:s}}},async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:i}=t;try{await i,n(r.g.util.invalidateTags(["PC"]))}catch(e){}}}),deletePC:e.mutation({query:e=>({url:"/pc/".concat(e),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:i}=t;try{await i,n(r.g.util.invalidateTags(["PC"]))}catch(e){}}}),getSinglePC:e.query({query:e=>({url:"/pc/".concat(e)})}),getSinglePCTests:e.query({query:e=>({url:"/pc/".concat(e,"/tests")})}),getPCCodeSettings:e.query({query:()=>({url:"/diagnostic/pc-code-settings"})}),updatePCCodeSettings:e.mutation({query:e=>({url:"/diagnostic/pc-code-settings",method:"PATCH",body:e}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:r}=t;try{let{data:e}=await r;n(i.util.updateQueryData("getPCCodeSettings",void 0,t=>{Object.assign(t.data,e.data)}))}catch(e){}}}),bulkCreatePCs:e.mutation({query:e=>({url:"/pc/bulk-create",method:"POST",body:e}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:i}=t;try{await i,n(r.g.util.invalidateTags(["PC"]))}catch(e){}}}),bulkAssignCodes:e.mutation({query:()=>({url:"/pc/bulk-assign-codes",method:"POST"}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:i}=t;try{await i,n(r.g.util.invalidateTags(["PC"]))}catch(e){}}}),previewSyncCodes:e.query({query:()=>({url:"/pc/sync-codes/preview"})}),syncCodes:e.mutation({query:()=>({url:"/pc/sync-codes",method:"POST"}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:i}=t;try{await i,n(r.g.util.invalidateTags(["PC"]))}catch(e){}}})})}),{useGetPCsQuery:a,useGetPCsPaginatedQuery:l,useCreatePCMutation:o,useUpdatePCMutation:s,useDeletePCMutation:d,useGetSinglePCQuery:c,useGetSinglePCTestsQuery:u,useGetPCCodeSettingsQuery:h,useUpdatePCCodeSettingsMutation:m,useBulkCreatePCsMutation:v,useBulkAssignCodesMutation:f,usePreviewSyncCodesQuery:p,useLazyPreviewSyncCodesQuery:y,useSyncCodesMutation:x}=i},49854:function(e,t,n){"use strict";let r;n.d(t,{d:function(){return d},x:function(){return s}});var i=n(72940),a=n(6780),l=n(67732),o=n(28317);function s(){return r||(r=(0,o.MT)("cached-responses-store","cached-responses")),r}async function d(e,t){try{let n=await a.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:t,...i.FD});return await (0,o.t8)(e,n.data,s()),n.data}catch(t){if(t instanceof l.d7&&[l.d7.ERR_NETWORK,l.d7.ETIMEDOUT].includes(t.code)){let t=await (0,o.U2)(e,s());if(t)return t}throw t instanceof l.d7&&t.response&&401===t.response.status||console.error(t),t}}},7518:function(e){e.exports={paid:"CustomTable_paid__E18ph",refund:"CustomTable_refund__ajKT1",due:"CustomTable_due___zEjL",extra:"CustomTable_extra__iSZ0R",table:"CustomTable_table__5eJFP",table1:"CustomTable_table1__ekRZh"}}}]);