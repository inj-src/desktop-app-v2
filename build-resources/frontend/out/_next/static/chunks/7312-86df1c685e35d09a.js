"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7312],{70237:function(e,t,r){r.r(t),r.d(t,{Axios:function(){return o},OFFLINE_MSG:function(){return s}});var a=r(6780),i=r(67732),n=r(4505);let s="You are offline!";function o(){return(0,n.useEffect)(()=>{a.default.interceptors.response.use(null,e=>{if(e instanceof i.d7){var t,r;e.code===i.d7.ERR_NETWORK?(e.response||(e.response={data:{},status:400,statusText:"Offline",headers:{},config:{headers:new i.uu},request:{}}),e.response.data.message=s):e.response&&/prisma/i.test(null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)&&(e.response.data.message="An unexpected error occurred in server!")}return Promise.reject(e)})},[]),null}},71223:function(e,t,r){r.d(t,{Dr:function(){return I},LZ:function(){return B}});var a=r(68328),i=r(25499),n=r(65306),s=r(32451),o=r(29663),l=r(22614),d=r(81209),c=r(22041),u=r(29259),p=r(3741),m=r(76029),f=r(22975),h=r(13342),v=r(41224),y=r(77303),g=r(31204),b=r(46557),A=r(60711),S=r(51973),C=r(6660),w=r(52013),x=r(38156),D=r(2612),T=r(78530),P=r(12450),j=r(4505);let B=[{title:"Date",visible:!0,order:0},{title:"Lab ID",visible:!0,order:1},{title:"Bill ID",visible:!0,order:2},{title:"Patient Name",visible:!0,order:3},{title:"Test Name",visible:!0,order:4},{title:"Subcategory",visible:!0,order:5},{title:"Sample Collected",visible:!0,order:6},{title:"Template",visible:!0,order:7},{title:"Signature",visible:!0,order:8},{title:"Quick Edit",visible:!0,order:9},{title:"Actions",visible:!0,order:10}],I=[{title:"Date",visible:!0,order:0},{title:"Test Name",colSpan:2,visible:!0,order:1},{title:"Subcategory",colSpan:2,visible:!0,order:2},{title:"Sample Collected",visible:!0,order:3},{title:"Template",visible:!0,order:4},{title:"Signature",visible:!0,order:5},{title:"Quick Edit",visible:!0,order:6},{title:"Actions",visible:!0,order:7}],Z=[{path:"pending-reports",title:"Pending Reports"},{path:"completed-reports",title:"Completed Reports"},{path:"patient-search",title:"Patient Search"}];t.ZP=()=>{let e=(0,P.usePathname)(),t=(0,i.T)(),r=(0,j.useMemo)(()=>Z.find(t=>e.includes(t.path))||Z[0],[e]),[k,{open:R,close:H}]=(0,b.q)(!1),{patientTableHeaders:E,testTableHeaders:M,loading:W}=(0,i.C)(e=>{let t=r.path;return{patientTableHeaders:e.tableHeaders.patientHeaders[t]||I,testTableHeaders:e.tableHeaders.testHeaders[t]||B,loading:e.tableHeaders.loading}}),[F,L]=(0,j.useState)([]),[N,q]=(0,j.useState)([]),[z,O]=(0,j.useState)(!1),[U,G]=(0,j.useState)(!1);(0,j.useEffect)(()=>{L([...E]),q([...M]),O(!1),G(!1)},[E,M,k]),(0,j.useEffect)(()=>{t((0,n.n8)(r.path))},[t,r.path]);let _=(0,j.useCallback)(()=>{z&&t((0,n.Np)({headers:F,pagePath:r.path})),U&&t((0,n.wC)({headers:N,pagePath:r.path})),H()},[H,t,z,U,F,N,r.path]),Q=(e,t)=>{if(t){let t=[...N];t[e]={...t[e],visible:!t[e].visible},q(t),G(!0)}else{let t=[...F];t[e]={...t[e],visible:!t[e].visible},L(t),O(!0)}},V=(e,t)=>{if(0!==e){if(t){let t=[...N],r=t[e];t[e]=t[e-1],t[e-1]=r,t.forEach((e,t)=>{e.order=t}),q(t),G(!0)}else{let t=[...F],r=t[e];t[e]=t[e-1],t[e-1]=r,t.forEach((e,t)=>{e.order=t}),L(t),O(!0)}}},Y=(e,t)=>{if(e!==(t?N:F).length-1){if(t){let t=[...N],r=t[e];t[e]=t[e+1],t[e+1]=r,t.forEach((e,t)=>{e.order=t}),q(t),G(!0)}else{let t=[...F],r=t[e];t[e]=t[e+1],t[e+1]=r,t.forEach((e,t)=>{e.order=t}),L(t),O(!0)}}},$=(e,t,r)=>{if(r){let r=[...N];r[e]={...r[e],colSpan:t&&t>1?t:void 0},q(r),G(!0)}else{let r=[...F];r[e]={...r[e],colSpan:t&&t>1?t:void 0},L(r),O(!0)}},K=e=>{e?(q([...B].map((e,t)=>({...e,order:t}))),G(!0)):(L([...I].map((e,t)=>({...e,order:t}))),O(!0))},J=e=>{let{header:t,index:r,isTestWise:i,onToggleVisibility:n,onMoveUp:m,onMoveDown:f,onColSpanChange:h}=e;return(0,a.jsx)(s.Box,{mb:"xs",p:"sm",children:(0,a.jsxs)(o.Grid,{align:"center",children:[(0,a.jsx)(o.Grid.Col,{span:5,children:(0,a.jsxs)(l.Group,{children:[(0,a.jsx)(d.r,{checked:t.visible,onChange:()=>n(r,i),onLabel:(0,a.jsx)(A.Z,{size:16}),offLabel:(0,a.jsx)(S.Z,{size:16})}),(0,a.jsx)(c.Text,{fw:t.visible?500:400,c:t.visible?"dark":"dimmed",children:t.title})]})}),(0,a.jsx)(o.Grid.Col,{span:7,children:(0,a.jsxs)(l.Group,{gap:"xs",align:"center",children:[(0,a.jsx)(u.Y,{label:"Column Span",placeholder:"1",min:1,max:10,hideControls:!1,value:t.colSpan,onChange:e=>h(r,"string"==typeof e?parseInt(e):e||void 0,i),w:100,size:"xs"}),(0,a.jsx)(p.A,{variant:"light",onClick:()=>m(r,i),disabled:0===r,mt:25,children:(0,a.jsx)(C.Z,{size:16})}),(0,a.jsx)(p.A,{variant:"light",onClick:()=>f(r,i),disabled:r===(i?N.length-1:F.length-1),mt:25,children:(0,a.jsx)(w.Z,{size:16})})]})})]})})};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.u,{label:"Table Settings",children:(0,a.jsx)(p.A,{onClick:R,children:(0,a.jsx)(x.Z,{})})}),(0,a.jsxs)(f.u,{opened:k,onClose:_,size:"lg",title:"Customize Table Headers For ".concat(null==r?void 0:r.title),children:[(0,a.jsxs)(h.m,{defaultValue:"patient",children:[(0,a.jsxs)(h.m.List,{children:[(0,a.jsx)(h.m.Tab,{value:"patient",leftSection:(0,a.jsx)(D.Z,{size:16}),children:"Patient Wise Table"}),(null==r?void 0:r.path)!=="patient-search"&&(0,a.jsx)(h.m.Tab,{value:"test",leftSection:(0,a.jsx)(T.Z,{size:16}),children:"Test Wise Table"})]}),(0,a.jsx)(h.m.Panel,{value:"patient",pt:"md",children:(0,a.jsxs)(v.Stack,{children:[(0,a.jsx)(c.Text,{size:"sm",c:"dimmed",children:"Customize which columns to display, their order, and column spans for the patient-wise table view."}),(0,a.jsx)(y.Divider,{}),F.map((e,t)=>(0,a.jsx)(J,{header:e,index:t,isTestWise:!1,onToggleVisibility:Q,onMoveUp:V,onMoveDown:Y,onColSpanChange:$},e.title)),(0,a.jsx)(l.Group,{mt:"md",children:(0,a.jsx)(g.Button,{variant:"outline",color:"red",onClick:()=>K(!1),children:"Reset to Default"})})]})}),(0,a.jsx)(h.m.Panel,{value:"test",pt:"md",children:(0,a.jsxs)(v.Stack,{children:[(0,a.jsx)(c.Text,{size:"sm",c:"dimmed",children:"Customize which columns to display, their order, and column spans for the test-wise table view."}),(0,a.jsx)(y.Divider,{}),N.map((e,t)=>(0,a.jsx)(J,{header:e,index:t,isTestWise:!0,onToggleVisibility:Q,onMoveUp:V,onMoveDown:Y,onColSpanChange:$},e.title)),(0,a.jsx)(l.Group,{mt:"md",children:(0,a.jsx)(g.Button,{variant:"outline",color:"red",onClick:()=>K(!0),children:"Reset to Default"})})]})})]}),(0,a.jsx)(l.Group,{mt:"md",children:(0,a.jsx)(g.Button,{onClick:_,color:"blue",children:"Save & Close"})})]})]})}},7203:function(e,t,r){var a=r(68328),i=r(14587);r(4505),t.Z=()=>(0,a.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:600},children:(0,a.jsx)(i.Loader,{color:"teal",variant:"dots"})})},72940:function(e,t,r){r.d(t,{FD:function(){return i},Hn:function(){return a},y4:function(){return n}});let a={headers:{"Content-Type":"application/json"}},i={withCredentials:!0},n={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},96253:function(e,t,r){r.d(t,{d:function(){return s}});var a=r(72940),i=r(6780),n=r(67732);let s=async e=>{try{let t=await i.default.post("".concat("http://sasthotech.local:5000/api/v1","/bill"),e,{...a.FD,...a.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof n.d7){var t,r;return{success:!1,data:null!==(r=null===(t=e.response)||void 0===t?void 0:t.data.message)&&void 0!==r?r:e.code}}return{success:!1,data:"An error occurred"}}}},32665:function(e,t,r){r.d(t,{Y:function(){return i}});var a=r(49854);let i=async()=>{try{return(await (0,a.d)("admin/diagnostic")).data}catch(e){return null}}},12158:function(e,t,r){r.d(t,{g:function(){return s}});var a=r(72940),i=r(6780),n=r(67732);let s=async e=>{try{let t=await i.default.post("".concat("http://sasthotech.local:5000/api/v1","/hospitalBill"),e,{...a.FD,...a.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof n.d7){var t,r;return{success:!1,data:null!==(r=null===(t=e.response)||void 0===t?void 0:t.data.message)&&void 0!==r?r:e.code}}return{success:!1,data:"An error occurred"}}}},87312:function(e,t,r){r.r(t),r.d(t,{Providers:function(){return $}});var a=r(68328),i=r(49854);let n=async()=>{try{return(await (0,i.d)("profile")).data}catch(e){return null}};var s=r(32665),o=r(74559),l=r(25499),d=r(36409),c=r(78862),u=r(12450),p=r(4505),m=r(7203);let f=["/login","/signup","/live"],h=["/profile","/test"],v=e=>e.some(e=>e),y=e=>e.every(e=>e);function g(e){let{children:t}=e,r=(0,l.T)(),i=(0,u.useRouter)(),g=(0,l.C)(e=>e.auth.user),b=(0,l.C)(e=>e.auth.diagnostic),A=(0,u.usePathname)(),[S,C]=(0,p.useState)(!0),w=(!g||y([!v([h.some(e=>A.startsWith(e)),"admin"===g.role&&"/lab/completed-reports"===A,"superadmin"===g.role===A.startsWith("/test/sub-category-lists"),"labAssistant"===g.role&&(/^\/test\/.+\/templates$/.test(A)||"/test/all-tests"===A),"serial manager"===g.role&&(A.startsWith("/serial-manager")||A.startsWith("/appointment"))]),v([!(null==b?void 0:b.isHospitalManagement)&&A.startsWith("/indoor"),!(null==b?void 0:b.isShowAccessoryInBill)&&A.startsWith("/accessory"),!(null==b?void 0:b.isPCManagement)&&A.startsWith("/pc"),!(null==b?void 0:b.isIncomeManagement)&&A.startsWith("/income"),!(null==b?void 0:b.inExpenseManagement)&&A.startsWith("/expense"),!(null==b?void 0:b.isSerialManagement)&&(A.startsWith("/appointment")||A.startsWith("/serial-manager")),!(null==b?void 0:b.isInventoryManagement)&&A.startsWith("/inventory"),!(null==b?void 0:b.isMarketingManagement)&&A.startsWith("/add-marketer"),!(null==b?void 0:b.isSMSManagement)&&A.startsWith("/sms"),!(null==b?void 0:b.isOutdoorManagement)&&(A.startsWith("/outdoor")||A.startsWith("/billing")),!(null==b?void 0:b.isLabManagement)&&A.startsWith("/pathologist"),"superadmin"===g.role!==A.startsWith("/superadmin"),"labAssistant"===g.role!==A.startsWith("/lab"),"marketer"===g.role!==A.startsWith("/marketer"),"serial manager"===g.role!==(A.startsWith("/serial-manager")||A.startsWith("/appointment"))])]))&&!v(["/"===A,f.some(e=>A.startsWith(e))]);return(0,p.useEffect)(()=>{n().then(async e=>{if(r((0,o.av)(e)),["admin","receptionist","labAssistant","marketer","serial manager"].includes(null==e?void 0:e.role)){let e=await (0,s.Y)();e&&r((0,o.Im)(e))}C(!1)})},[r]),(0,p.useEffect)(()=>{if(!S){if(!g)return void(w&&i.push("/login"));if(w)switch(g.role){case"superadmin":return i.push("/superadmin");case"admin":case"receptionist":return i.push("/dashboard");case"labAssistant":return i.push("/lab/dashboard");case"serial manager":return i.push("/appointment/dashboard")}}},[w,S,i,g]),S?(0,a.jsx)(m.Z,{}):w?(0,a.jsx)(d.M,{h:"100vh",className:"flex-column gap-3",p:"lg",children:(0,a.jsx)(c.default,{src:"/images/sasthotech.png",alt:"SasthoTech",className:"img-fluid",width:244,height:85})}):t}var b=r(76889);r(5461),r(37286);var A=r(17413),S=r(53502),C=r(79258),w=r(32637),x=r(78101);let D=(0,C.createSlice)({name:"navbar",initialState:{isOpen:!1},reducers:{setIsOpen:(e,t)=>{e.isOpen=t.payload}}}),{setIsOpen:T}=D.actions;var P=D.reducer;let j=(0,C.createSlice)({name:"appointments",initialState:{allAppointments:null,allAppointmentsByDoctor:{}},reducers:{setAllAppointmentsByDoctor:(e,t)=>{e.allAppointmentsByDoctor={...e.allAppointmentsByDoctor,[t.payload.id]:t.payload.appointment}},removeAppointmentFromDoctor:(e,t)=>{let r=e.allAppointmentsByDoctor[t.payload.doctorId].filter(e=>e.id!==t.payload.appointmentId);e.allAppointmentsByDoctor={...e.allAppointmentsByDoctor,[t.payload.doctorId]:r}},updateAppointmentStatus:(e,t)=>{let r=e.allAppointmentsByDoctor[t.payload.doctorId].map(e=>e.id===t.payload.appointmentId?{...e,status:"done"}:e);e.allAppointmentsByDoctor={...e.allAppointmentsByDoctor,[t.payload.doctorId]:r}}}}),{setAllAppointmentsByDoctor:B,removeAppointmentFromDoctor:I,updateAppointmentStatus:Z}=j.actions;var k=j.reducer,R=r(81943),H=r(13603),E=r(16201),M=r(28301),W=r(73738),F=r(11584),L=r(76401),N=r(58576),q=r(13713),z=r(25626),O=r(69022),U=r(39717),G=r(17190),_=r(65306),Q=r(27191);let V=(0,C.configureStore)({reducer:{auth:o.ZP,navbar:P,doctors:M.ZP,getStarted:F.ZP,diagnostic:E.ZP,expenses:W.ZP,appointments:k,tests:z.ZP,bills:R.ZP,dates:H.ZP,pcCommissions:N.ZP,services:q.ZP,nurses:L.ZP,offlineQueues:O.ZP,tableHeaders:_.IF,diagnosticSettings:U.Z,marketer:G.ZP,[x.g.reducerPath]:x.g.reducer,[Q.z3.reducerPath]:Q.z3.reducer},middleware:e=>e().concat(x.g.middleware).concat(Q.z3.middleware),devTools:!1});(0,w.setupListeners)(V.dispatch);var Y=r(80300);function $(e){let{children:t}=e;return(0,a.jsx)(S.zt,{store:V,children:(0,a.jsx)(b.MantineProvider,{defaultColorScheme:"light",children:(0,a.jsxs)(A.$,{children:[(0,a.jsx)(Y.T,{}),(0,a.jsx)(g,{children:t})]})})})}},78101:function(e,t,r){r.d(t,{g:function(){return o}});var a=r(49854),i=r(68240),n=r(94183),s=r(28317);let o=(0,i.LC)({baseQuery:(0,n.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async r=>{let i="string"==typeof e?e:e.url;return i.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,s.t8)(i,await r.clone().json().catch(()=>null),(0,a.x)()),r}).catch(async r=>{if(r instanceof TypeError){let r="string"==typeof e?e:e.url;if(!r.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,s.U2)(r,(0,a.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw r})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},74559:function(e,t,r){r.d(t,{Im:function(){return s},av:function(){return n},nC:function(){return i}});let a=(0,r(79258).createSlice)({name:"auth",initialState:{isAuth:null,user:null,isProfileIncomplete:!1,diagnostic:null},reducers:{setUser:(e,t)=>{var r;e.user=t.payload,e.isAuth=!!t.payload,(null===(r=t.payload)||void 0===r?void 0:r.name)?localStorage.setItem("name",t.payload.name):localStorage.removeItem("name")},setDiagnostic:(e,t)=>{let r=t.payload;"hospital.sasthotech.com"===window.location.hostname?r.activeLogo=r.logo:r.activeLogo=r.offlineLogo,e.diagnostic=r},setProfileIncomplete:(e,t)=>{e.isProfileIncomplete=t.payload}}}),i=e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.role},{setUser:n,setDiagnostic:s}=a.actions;t.ZP=a.reducer},81943:function(e,t,r){r.d(t,{Im:function(){return i},aE:function(){return s},aT:function(){return o}});let a=(0,r(79258).createSlice)({name:"bills",initialState:{allBills:null,selectedBills:[],categories:[]},reducers:{setBills:(e,t)=>{e.allBills=t.payload},setCategories:(e,t)=>{e.categories=t.payload},setCommissions:(e,t)=>{e.categories=t.payload},removeBill:(e,t)=>{var r;e.allBills=null===(r=e.allBills)||void 0===r?void 0:r.filter(e=>e.id!==t.payload)},setSelectedBills:(e,t)=>{Array.isArray(t.payload)?e.selectedBills=[...e.selectedBills,...t.payload]:e.selectedBills=[...e.selectedBills,t.payload]},removeSelectedBill:(e,t)=>{var r;Array.isArray(t.payload)?e.selectedBills=[]:e.selectedBills=null===(r=e.selectedBills)||void 0===r?void 0:r.filter(e=>e.billId!==t.payload)}}}),{setBills:i,removeBill:n,setSelectedBills:s,removeSelectedBill:o,setCategories:l}=a.actions;t.ZP=a.reducer},13603:function(e,t,r){r.d(t,{rm:function(){return d},uA:function(){return l}});var a=r(79258),i=r(69192),n=r(4646),s=r(14685);let o=(0,a.createSlice)({name:"dates",initialState:{dates:[null,null]},reducers:{setDates:(e,t)=>{e.dates=t.payload}}}),l=(0,i.createSelector)([e=>e.dates.dates],e=>{let[t,r]=e;return[t?new Date(t):(0,n.Z)(),r?new Date(r):(0,s.Z)()]}),{setDates:d}=o.actions;t.ZP=o.reducer},16201:function(e,t,r){r.d(t,{C4:function(){return n},GU:function(){return l},WH:function(){return c},Yr:function(){return s},ZR:function(){return d},iw:function(){return u},kd:function(){return o},sI:function(){return i},tG:function(){return p}});let a=(0,r(79258).createSlice)({name:"diagnostic",initialState:{receptionist:[],diagnostics:[],pathologist:[],marketer:[]},reducers:{setReceptionist:(e,t)=>{Array.isArray(t.payload)?e.receptionist=t.payload:e.receptionist=[...e.receptionist,t.payload]},removeReceptionist:(e,t)=>{e.receptionist=e.receptionist.filter(e=>e.id!==t.payload)},setPathologist:(e,t)=>{Array.isArray(t.payload)?e.pathologist=t.payload:e.pathologist=[...e.pathologist,t.payload]},setMarketer:(e,t)=>{Array.isArray(t.payload)?e.marketer=t.payload:e.marketer=[...e.marketer,t.payload]},removeMarketer:(e,t)=>{e.marketer=e.marketer.filter(e=>e.id!==t.payload)},removePathologist:(e,t)=>{e.pathologist=e.pathologist.filter(e=>e.id!==t.payload)},setPathologistCategory:(e,t)=>{let{payload:{userId:r,categoryIds:a}}=t,i=e.pathologist.find(e=>e.id!==r);i&&(i.userTestCategory=a)},setDiagnosticList:(e,t)=>{Array.isArray(t.payload)?e.diagnostics=t.payload:e.diagnostics=[...e.diagnostics,t.payload]},removeFromDiagnosticLists:(e,t)=>{e.diagnostics=e.diagnostics.filter(e=>e.id!==t.payload)}}}),{setReceptionist:i,removeReceptionist:n,setDiagnosticList:s,removeFromDiagnosticLists:o,setPathologist:l,setMarketer:d,removeMarketer:c,removePathologist:u,setPathologistCategory:p}=a.actions;t.ZP=a.reducer},27191:function(e,t,r){r.d(t,{a9:function(){return l},v6:function(){return s},z3:function(){return n}});var a=r(68240),i=r(94183);let n=(0,a.LC)({reducerPath:"discountReferrerSlice",baseQuery:(0,i.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["DiscountReferrer"],endpoints:e=>({getDiscountReferrers:e.query({query:()=>"/discountReferrer",transformResponse:e=>e.data,providesTags:["DiscountReferrer"]}),getDiscountReferrer:e.query({query:e=>"/discountReferrer/".concat(e),transformResponse:e=>e.data,providesTags:(e,t,r)=>[{type:"DiscountReferrer",id:r}]}),createDiscountReferrer:e.mutation({query:e=>({url:"/discountReferrer",method:"POST",body:e}),transformResponse:e=>e.data,invalidatesTags:["DiscountReferrer"]}),updateDiscountReferrer:e.mutation({query:e=>{let{id:t,data:r}=e;return{url:"/discountReferrer/".concat(t),method:"PATCH",body:r}},transformResponse:e=>e.data,invalidatesTags:(e,t,r)=>{let{id:a}=r;return[{type:"DiscountReferrer",id:a},"DiscountReferrer"]}}),deleteDiscountReferrer:e.mutation({query:e=>({url:"/discountReferrer/".concat(e),method:"DELETE"}),invalidatesTags:["DiscountReferrer"]})})}),{useGetDiscountReferrersQuery:s,useGetDiscountReferrerQuery:o,useCreateDiscountReferrerMutation:l,useUpdateDiscountReferrerMutation:d,useDeleteDiscountReferrerMutation:c}=n},28301:function(e,t,r){let a;r.d(t,{At:function(){return b},F0:function(){return u},GO:function(){return p},cv:function(){return g},id:function(){return y},ox:function(){return v},pF:function(){return d},v1:function(){return f}});var i=r(79258),n=r(69192),s=r(28317);let o=new Intl.Collator;function l(){return a||(a=(0,s.MT)("doctor-frequency-store","doctor-frequency")),a}let d=(0,i.createAsyncThunk)("doctors/increaseDoctorFrequencies",async e=>(await Promise.resolve((0,s.Vx)(e,e=>(e||0)+1,l())).catch(),await (0,s.qh)(l()).catch(()=>[]))),c=(0,i.createSlice)({name:"doctors",initialState:{allDoctors:null,chamberedDoctors:null,adminDoctors:null,addedDoctors:[],paginatedAdminDoctors:null},reducers:{setAllDoctors:(e,t)=>{e.allDoctors=t.payload},setChamberedDoctors:(e,t)=>{e.chamberedDoctors=t.payload},setAdminDoctors:(e,t)=>{Array.isArray(t.payload)?e.adminDoctors=t.payload:e.adminDoctors?e.adminDoctors=[...e.adminDoctors,t.payload]:e.adminDoctors=t.payload},setPaginatedAdminDoctors:(e,t)=>{e.paginatedAdminDoctors=t.payload},setAddedDoctors:(e,t)=>{e.addedDoctors=[...e.addedDoctors,t.payload]},removeChamberedDoctor:(e,t)=>{e.addedDoctors=e.chamberedDoctors.filter(e=>e.Doctor.id!==t.payload)},removeAdminDoctor:(e,t)=>{var r,a;e.adminDoctors=null!==(a=null===(r=e.adminDoctors)||void 0===r?void 0:r.filter(e=>e.id!==t.payload))&&void 0!==a?a:null},removePaginatedAdminDoctor:(e,t)=>{var r,a;e.paginatedAdminDoctors=null!==(a=null===(r=e.paginatedAdminDoctors)||void 0===r?void 0:r.filter(e=>e.id!==t.payload))&&void 0!==a?a:null}},extraReducers:e=>{e.addCase(d.fulfilled,(e,t)=>{var r;let a=new Map(t.payload);null===(r=e.adminDoctors)||void 0===r||r.sort((e,t)=>{var r,i;return(null!==(r=a.get(t.id))&&void 0!==r?r:0)-(null!==(i=a.get(e.id))&&void 0!==i?i:0)||o.compare(e.name,t.name)})})}}),u=(0,n.createSelector)([e=>e.doctors,e=>{var t;return null===(t=e.auth.diagnostic)||void 0===t?void 0:t.showOnlyAdminDoctor}],(e,t)=>{let{adminDoctors:r,allDoctors:a,chamberedDoctors:i}=e,n=i?i.map(e=>e.Doctor):[],s=new Map;return[...r||[],...n&&!t?n:[],...a&&!t?a:[]].forEach(e=>{var t,r;let a=(null==e?void 0:null===(t=e.name)||void 0===t?void 0:t.trim())+(null==e?void 0:null===(r=e.designation)||void 0===r?void 0:r.trim());s.has(a)||s.set(a,e)}),Array.from(s.values())}),{setAllDoctors:p,setChamberedDoctors:m,setAdminDoctors:f,setAddedDoctors:h,removeChamberedDoctor:v,removeAdminDoctor:y,setPaginatedAdminDoctors:g,removePaginatedAdminDoctor:b}=c.actions;t.ZP=c.reducer},73738:function(e,t,r){r.d(t,{bF:function(){return i},hW:function(){return n}});let a=(0,r(79258).createSlice)({name:"expenses",initialState:{expenses:null},reducers:{setExpenses:(e,t)=>{e.expenses=t.payload},removeExpense:(e,t)=>{var r;e.expenses=null===(r=e.expenses)||void 0===r?void 0:r.filter(e=>e.id!==t.payload)}}}),{setExpenses:i,removeExpense:n}=a.actions;t.ZP=a.reducer},11584:function(e,t,r){r.d(t,{$Y:function(){return n},Fr:function(){return s},fL:function(){return i},nz:function(){return o}});let a=(0,r(79258).createSlice)({name:"getStarted",initialState:{addDoctor:"current",addReceptionist:"disabled",setPermissions:"disabled",confirm:"disabled"},reducers:{setAddDoctorStatus:(e,t)=>{e.addDoctor=t.payload},setAddReceptionistStatus:(e,t)=>{e.addReceptionist=t.payload},setPermissionsStatus:(e,t)=>{e.setPermissions=t.payload},setIsConfirmed:(e,t)=>{e.confirm=t.payload}}}),{setAddDoctorStatus:i,setAddReceptionistStatus:n,setPermissionsStatus:s,setIsConfirmed:o}=a.actions;t.ZP=a.reducer},25499:function(e,t,r){r.d(t,{C:function(){return n},T:function(){return i}});var a=r(53502);let i=()=>(0,a.I0)(),n=a.v9},65306:function(e,t,r){let a;r.d(t,{IF:function(){return p},Np:function(){return d},n8:function(){return l},wC:function(){return c}});var i=r(71223),n=r(79258),s=r(28317);function o(){return a||(a=(0,s.MT)("lab-table-headers-store","lab-table-headers")),a}let l=(0,n.createAsyncThunk)("tableHeaders/fetchTableHeaders",async e=>{try{let[t,r]=await Promise.all([(0,s.U2)("patient-table-headers-".concat(e),o()),(0,s.U2)("test-table-headers-".concat(e),o())]);return{patientHeaders:t||i.Dr,testHeaders:r||i.LZ,path:e}}catch(t){return console.error("Error fetching table headers:",t),{patientHeaders:i.Dr,testHeaders:i.LZ,path:e}}}),d=(0,n.createAsyncThunk)("tableHeaders/savePatientTableHeaders",async e=>{let{headers:t,pagePath:r}=e;try{return await (0,s.t8)("patient-table-headers-".concat(r),t,o()),{headers:t,path:r}}catch(e){throw console.error("Error saving patient table headers:",e),e}}),c=(0,n.createAsyncThunk)("tableHeaders/saveTestTableHeaders",async e=>{let{headers:t,pagePath:r}=e;try{return await (0,s.t8)("test-table-headers-".concat(r),t,o()),{headers:t,path:r}}catch(e){throw console.error("Error saving test table headers:",e),e}}),u=(0,n.createAsyncThunk)("tableHeaders/resetToDefault",async e=>{let{isTestWise:t,pagePath:r}=e;try{if(t){let e=[...i.LZ].map((e,t)=>({...e,order:t}));return await (0,s.t8)("test-table-headers-".concat(r),e,o()),{isTestWise:t,headers:e,path:r}}{let e=[...i.Dr].map((e,t)=>({...e,order:t}));return await (0,s.t8)("patient-table-headers-".concat(r),e,o()),{isTestWise:t,headers:e,path:r}}}catch(e){throw console.error("Error resetting headers:",e),e}}),p=(0,n.createSlice)({name:"tableHeaders",initialState:{patientHeaders:{},testHeaders:{},loading:!1,error:null,currentPath:null},reducers:{},extraReducers:e=>{e.addCase(l.pending,e=>{e.loading=!0,e.error=null}).addCase(l.fulfilled,(e,t)=>{let{patientHeaders:r,testHeaders:a,path:i}=t.payload;e.patientHeaders[i]=r,e.testHeaders[i]=a,e.currentPath=i,e.loading=!1}).addCase(l.rejected,(e,t)=>{e.loading=!1,e.error=t.error.message||"Failed to fetch table headers"}),e.addCase(d.fulfilled,(e,t)=>{let{headers:r,path:a}=t.payload;e.patientHeaders[a]=r}),e.addCase(c.fulfilled,(e,t)=>{let{headers:r,path:a}=t.payload;e.testHeaders[a]=r}),e.addCase(u.fulfilled,(e,t)=>{let{isTestWise:r,headers:a,path:i}=t.payload;r?e.testHeaders[i]=a:e.patientHeaders[i]=a})}}).reducer},17190:function(e,t,r){r.d(t,{f1:function(){return o},v2:function(){return i},xD:function(){return s},zH:function(){return n}});let a=(0,r(79258).createSlice)({name:"marketer",initialState:{items:[]},reducers:{setFollowUpPatients:(e,t)=>{Array.isArray(t.payload)?e.items=t.payload:e.items=[...e.items,t.payload]},setFollowUpPregnancyPatients:(e,t)=>{Array.isArray(t.payload)?e.items=t.payload:e.items=[...e.items,t.payload]},followUpPregnancyPatients:(e,t)=>{e.items=e.items.filter(e=>e.id!==t.payload)},followUpPatients:(e,t)=>{e.items=e.items.filter(e=>e.id!==t.payload)}}}),{setFollowUpPatients:i,followUpPatients:n,setFollowUpPregnancyPatients:s,followUpPregnancyPatients:o}=a.actions;t.ZP=a.reducer},76401:function(e,t,r){r.d(t,{ZQ:function(){return i},o3:function(){return n}});let a=(0,r(79258).createSlice)({name:"nurses",initialState:{allNurses:null},reducers:{setAllNurses:(e,t)=>{e.allNurses=t.payload},addNurse:(e,t)=>{var r;let{payload:a}=t;(null===(r=e.allNurses)||void 0===r?void 0:r.push(a))||(e.allNurses=[a])}}}),{setAllNurses:i,addNurse:n}=a.actions;t.ZP=a.reducer},69022:function(e,t,r){let a;r.d(t,{Db:function(){return f},mJ:function(){return m}});var i=r(70237),n=r(96253),s=r(12158),o=r(79258),l=r(2481),d=r(28317),c=r(90660),u=r.n(c);function p(){return a||(a=(0,d.MT)("offline-queues-store","offline-queues")),a}let m=(0,o.createAsyncThunk)("offlineQueues/fetchOfflineQueues",()=>(0,d.yS)(["indoorBills","outdoorBills"],p())),f=(0,o.createAsyncThunk)("offlineQueues/trySubmittingBills",async()=>{let[e,t]=await (0,d.yS)(["indoorBills","outdoorBills"],p()).catch(()=>[[],[]]),r=localStorage.getItem("startedSubmittingBillsAt");if(r&&!isNaN((r=new Date(r)).getTime())){if(!((0,l.Z)(new Date,r)>5)||!(await u().fire({title:"Something is wrong",text:"The last attempt to submit took more than 5 minutes, do you want to try again?",icon:"error",showCancelButton:!0,cancelButtonText:"Wait",confirmButtonColor:"#fa5252",confirmButtonText:"Yes",focusCancel:!0})).isConfirmed)return[e,t,!1];r=null}r=new Date().toISOString(),localStorage.setItem("startedSubmittingBillsAt",r);try{let r=!1;if(window.navigator.onLine){if(Array.isArray(e))for(let t of e){let{success:e,data:a}=await (0,s.g)(t.data);if(e)await (0,d.Vx)("indoorBills",e=>Array.isArray(e)&&e.filter(e=>{let{id:r}=e;return r!==t.id}),p());else if(a===i.OFFLINE_MSG)break;else r=!0}if(Array.isArray(t))for(let e of t){let{success:t,data:a}=await (0,n.d)(e.data);if(t)localStorage.setItem("latestBillId",null==a?void 0:a.billId),localStorage.setItem("latestLabId",null==a?void 0:a.labId),await (0,d.Vx)("outdoorBills",t=>Array.isArray(t)&&t.filter(t=>{let{id:r}=t;return r!==e.id}),p());else if(a===i.OFFLINE_MSG)break;else r=!0}r&&u().fire("Error","Some bills couldn't be updated due to error","error")}return[e,t,r]}catch(e){console.error("Error while submitting bills from offline queue",e)}finally{localStorage.removeItem("startedSubmittingBillsAt")}return[e,t,!0]}),h=(0,o.createSlice)({name:"offlineQueues",initialState:{indoorBillsCount:0,outdoorBillsCount:0,isError:!1},reducers:{},extraReducers:e=>{for(let t of[m,f])e.addCase(t.fulfilled,(e,t)=>{let[r,a,i]=t.payload;e.indoorBillsCount=Array.isArray(r)?r.length:0,e.outdoorBillsCount=Array.isArray(a)?a.length:0,i&&(e.isError=i)})}}),{}=h.actions;t.ZP=h.reducer},58576:function(e,t,r){r.d(t,{RB:function(){return i}});let a=(0,r(79258).createSlice)({name:"pcCommissions",initialState:{commissions:[]},reducers:{setPcCommissions:(e,t)=>{e.commissions=t.payload},removePcCommissions:(e,t)=>{var r;e.commissions=null===(r=e.commissions)||void 0===r?void 0:r.filter(e=>e.testCategoryId!==t.payload)}}}),{setPcCommissions:i,removePcCommissions:n}=a.actions;t.ZP=a.reducer},13713:function(e,t,r){r.d(t,{H_:function(){return i},wo:function(){return n}});let a=(0,r(79258).createSlice)({name:"services",initialState:{services:null},reducers:{setServices:(e,t)=>{let{payload:r}=t;if(Array.isArray(r))e.services=r.toSorted((e,t)=>e.id.localeCompare(t.id));else{var a,i;let t=!1,n=null!==(i=null===(a=e.services)||void 0===a?void 0:a.map(e=>e.id===r.id?(t=!0,r):e))&&void 0!==i?i:[];t||n.push(r),e.services=n}},deleteService:(e,t)=>{e.services&&(e.services=e.services.filter(e=>e.id!==t.payload))}}}),{setServices:i,deleteService:n}=a.actions;t.ZP=a.reducer},39717:function(e,t,r){r.d(t,{w:function(){return i}});let a=(0,r(79258).createSlice)({name:"diagnosticSettings",initialState:{viewId:null,viewName:void 0,viewEmail:void 0},reducers:{setViewId:(e,t)=>{e.viewId=t.payload.viewId,e.viewEmail=t.payload.email,e.viewName=t.payload.name}}}),{setViewId:i}=a.actions;t.Z=a.reducer},25626:function(e,t,r){let a;r.d(t,{H3:function(){return c},Z2:function(){return p},Zw:function(){return g},_W:function(){return d},gu:function(){return f},lF:function(){return h},mC:function(){return y},s9:function(){return m},se:function(){return v}});var i=r(79258),n=r(69192),s=r(28317);function o(){return a||(a=(0,s.MT)("test-frequency-store","test-frequency")),a}let l=new Intl.Collator,d=(0,i.createAsyncThunk)("tests/setAdminTests",async e=>{let t=await (0,s.qh)().catch(()=>[]);return t.length?(await (0,s.vw)(t,o()),(0,s.ZH)()):t=await (0,s.qh)(o()).catch(()=>[]),[e,t]}),c=(0,i.createAsyncThunk)("tests/increaseTestFrequencies",async e=>(await Promise.all(e.map(e=>(0,s.Vx)(e.id,e=>(e||0)+1),o())).catch(),await (0,s.qh)(o()).catch(()=>[]))),u=(0,i.createSlice)({name:"tests",initialState:{adminCategories:[],adminTests:null,superAdminCategories:[]},reducers:{setAdminCategories:(e,t)=>{e.adminCategories=t.payload},removeAdminCategories:(e,t)=>{var r;e.adminCategories=null===(r=e.adminCategories)||void 0===r?void 0:r.filter(e=>e.id!==t.payload.id)},updateTestsInAdminCategories:(e,t)=>{var r;let a=t.payload;console.log(a),e.adminCategories=null===(r=e.adminCategories)||void 0===r?void 0:r.map(e=>({...e,tests:e.tests.map(e=>a.find(t=>t.id===e.id)||e)}))},removeTestFromAdminCategories:(e,t)=>{var r;e.adminCategories=null===(r=e.adminCategories)||void 0===r?void 0:r.map(e=>({...e,tests:e.tests.filter(e=>e.id!==t.payload.id)}))},removeTestFromSuperAdminCategories:(e,t)=>{var r;e.superAdminCategories=null===(r=e.superAdminCategories)||void 0===r?void 0:r.map(e=>({...e,tests:e.tests.filter(e=>e.id!==t.payload.id)}))},setSuperAdminCategories:(e,t)=>{e.superAdminCategories=t.payload},removeSuperAdminCategories:(e,t)=>{var r;e.superAdminCategories=null===(r=e.superAdminCategories)||void 0===r?void 0:r.filter(e=>e.id!==t.payload.id)}},extraReducers:e=>{e.addCase(d.fulfilled,(e,t)=>{let r=t.payload[0],a=new Map(t.payload[1]);if(Array.isArray(r))e.adminTests=[...r];else{if(e.adminTests){let t=e.adminTests.findIndex(e=>e.id===r.id);t>=0?e.adminTests[t]=r:e.adminTests.push(r)}else e.adminTests=[r];if(e.adminCategories){for(let t=0;t<e.adminCategories.length;t++)for(let a=0;a<e.adminCategories[t].tests.length;a++)if(r.id===e.adminCategories[t].tests[a].id){e.adminCategories[t].tests[a]=r;break}}}e.adminTests.sort((e,t)=>{var r,i;return(null!==(r=a.get(t.id))&&void 0!==r?r:0)-(null!==(i=a.get(e.id))&&void 0!==i?i:0)||l.compare(e.name,t.name)})}),e.addCase(c.fulfilled,(e,t)=>{var r;let a=new Map(t.payload);null===(r=e.adminTests)||void 0===r||r.sort((e,t)=>{var r,i;return(null!==(r=a.get(t.id))&&void 0!==r?r:0)-(null!==(i=a.get(e.id))&&void 0!==i?i:0)||l.compare(e.name,t.name)})})}});(0,n.createSelector)([e=>e.tests.adminCategories],e=>new Map(null==e?void 0:e.map(e=>[+e.id,e])));let{setAdminCategories:p,removeAdminCategories:m,setSuperAdminCategories:f,removeSuperAdminCategories:h,removeTestFromAdminCategories:v,removeTestFromSuperAdminCategories:y,updateTestsInAdminCategories:g}=u.actions;t.ZP=u.reducer},49854:function(e,t,r){let a;r.d(t,{d:function(){return d},x:function(){return l}});var i=r(72940),n=r(6780),s=r(67732),o=r(28317);function l(){return a||(a=(0,o.MT)("cached-responses-store","cached-responses")),a}async function d(e,t){try{let r=await n.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:t,...i.FD});return await (0,o.t8)(e,r.data,l()),r.data}catch(t){if(t instanceof s.d7&&[s.d7.ERR_NETWORK,s.d7.ETIMEDOUT].includes(t.code)){let t=await (0,o.U2)(e,l());if(t)return t}throw t instanceof s.d7&&t.response&&401===t.response.status||console.error(t),t}}}}]);