"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5643],{68176:function(e,a,s){var t=s(68328),l=s(22041),n=s(12450);s(4505),a.Z=()=>{let e=(0,n.useRouter)();return(0,t.jsxs)("div",{className:"d-flex justify-content-center gap-2",children:[(0,t.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M21 12.22C21 6.73 16.74 3 12 3C7.31 3 3 6.65 3 12.28C2.4 12.62 2 13.26 2 14V16C2 17.1 2.9 18 4 18H5V11.9C5 8.03 8.13 4.9 12 4.9C15.87 4.9 19 8.03 19 11.9V19H11V21H19C20.1 21 21 20.1 21 19V17.78C21.59 17.47 22 16.86 22 16.14V13.84C22 13.14 21.59 12.53 21 12.22Z",fill:"#1A72E9"}),(0,t.jsx)("path",{d:"M9 14C9.55228 14 10 13.5523 10 13C10 12.4477 9.55228 12 9 12C8.44772 12 8 12.4477 8 13C8 13.5523 8.44772 14 9 14Z",fill:"#1A72E9"}),(0,t.jsx)("path",{d:"M15 14C15.5523 14 16 13.5523 16 13C16 12.4477 15.5523 12 15 12C14.4477 12 14 12.4477 14 13C14 13.5523 14.4477 14 15 14Z",fill:"#1A72E9"}),(0,t.jsx)("path",{d:"M18 11.03C17.52 8.18 15.04 6 12.05 6C9.01997 6 5.75997 8.51 6.01997 12.45C8.48997 11.44 10.35 9.24 10.88 6.56C12.19 9.19 14.88 11 18 11.03Z",fill:"#1A72E9"})]}),(0,t.jsx)(l.Text,{children:"Want to try our software?"}),(0,t.jsx)(l.Text,{onClick:()=>e.push("?contact=true"),className:"text-black cursor fw-bold",children:"Contact Us"})]})}},9855:function(e,a,s){var t=s(68328),l=s(84954),n=s.n(l),o=s(12921),d=s(4505);let i=()=>"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||window.location.hostname.includes("local");a.Z=e=>{let{labelText:a,isSmallSized:s=!1,setFieldValue:l,fieldName:r,previousLogoUrl:c,offlineLogoUrl:u}=e,[m,p]=(0,d.useState)(()=>i()?u||null:c||null),[h,x]=(0,d.useState)(!1);return(0,t.jsxs)("div",{className:"jsx-6860380f5dddee88 d-flex flex-column align-items-center",children:[(0,t.jsx)(n(),{id:"6860380f5dddee88",children:".upload-container.jsx-6860380f5dddee88:hover .upload-overlay.jsx-6860380f5dddee88{opacity:1!important}"}),(0,t.jsxs)("div",{className:"jsx-6860380f5dddee88 d-flex align-items-center gap-2 mb-3",children:[(0,t.jsx)("h6",{className:"jsx-6860380f5dddee88 mb-0 text-dark fw-semibold",children:a||"Upload Your Hospital Logo"}),(0,t.jsx)("div",{className:"jsx-6860380f5dddee88 position-relative",children:(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{cursor:"help"},className:"jsx-6860380f5dddee88 text-muted",children:(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.6666 7.99992C14.6666 11.6818 11.6818 14.6666 7.99992 14.6666C4.31802 14.6666 1.33325 11.6818 1.33325 7.99992C1.33325 4.31802 4.31802 1.33325 7.99992 1.33325C11.6818 1.33325 14.6666 4.31802 14.6666 7.99992ZM7.99992 7.33325C8.36811 7.33325 8.66659 7.63173 8.66659 7.99992V11.3338C8.66659 11.702 8.36811 12.0005 7.99992 12.0005C7.63173 12.0005 7.33325 11.702 7.33325 11.3338V7.99992C7.33325 7.63173 7.63173 7.33325 7.99992 7.33325ZM7.99992 5.99992C8.36811 5.99992 8.66659 5.70144 8.66659 5.33325C8.66659 4.96506 8.36811 4.66659 7.99992 4.66659C7.63173 4.66659 7.33325 4.96506 7.33325 5.33325C7.33325 5.70144 7.63173 5.99992 7.99992 5.99992Z",fill:"#9A9FA5",className:"jsx-6860380f5dddee88"})})})]}),(0,t.jsx)("div",{className:"jsx-6860380f5dddee88 position-relative",children:(0,t.jsxs)("label",{htmlFor:"image",style:{height:s?"120px":"180px",width:s?"120px":"200px",cursor:"pointer",transition:"all 0.3s ease",backgroundImage:m?"url(".concat(m,")"):"none",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},onDragOver:e=>{e.preventDefault(),x(!0)},onDragLeave:e=>{e.preventDefault(),x(!1)},onDrop:e=>{e.preventDefault(),x(!1);let a=e.dataTransfer.files;if(a&&a[0]){let e=a[0];if(e.type.startsWith("image/")){l&&r&&l(r,e);let a=new FileReader;a.onload=e=>{var a;p(null==e?void 0:null===(a=e.target)||void 0===a?void 0:a.result)},a.readAsDataURL(e)}}},className:"jsx-6860380f5dddee88 "+"d-block position-relative border-2 rounded-3 overflow-hidden cursor-pointer transition-all upload-container ".concat(h?"border-primary bg-primary bg-opacity-10":m?"border-success":"border-dashed border-secondary"),children:[m&&(0,t.jsx)("div",{style:{opacity:0,transition:"opacity 0.3s ease",zIndex:2},className:"jsx-6860380f5dddee88 top-0 position-absolute d-flex align-items-center justify-content-center bg-dark bg-opacity-75 w-100 h-100 start-0 upload-overlay",children:(0,t.jsxs)("div",{className:"jsx-6860380f5dddee88 d-flex flex-column align-items-center text-white",children:[(0,t.jsx)(o.Z,{size:24,className:"mb-2"}),(0,t.jsx)("small",{className:"jsx-6860380f5dddee88 px-2 text-center fw-medium",children:"Click or drop to change"})]})}),!m&&(0,t.jsxs)("div",{className:"jsx-6860380f5dddee88 d-flex flex-column align-items-center justify-content-center p-3 h-100 text-center",children:[(0,t.jsx)("div",{style:{width:"48px",height:"48px",transition:"all 0.3s ease"},className:"jsx-6860380f5dddee88 "+"mb-3 d-flex align-items-center justify-content-center rounded-circle ".concat(h?"bg-primary text-white":"bg-light text-primary"),children:(0,t.jsx)(o.Z,{size:24})}),(0,t.jsx)("p",{className:"jsx-6860380f5dddee88 mb-2 text-dark fw-medium small",children:"Click or Drop Image"}),(0,t.jsx)("p",{style:{fontSize:"11px"},className:"jsx-6860380f5dddee88 mb-0 text-muted",children:"PNG, JPG, GIF up to 10MB"})]}),(0,t.jsx)("input",{accept:"image/png, image/gif, image/jpeg",type:"file",name:"image",id:"image",onChange:e=>{var a;let s=null===(a=e.target.files)||void 0===a?void 0:a[0];if(l&&r&&l(r,s),s){let e=new FileReader;e.onload=e=>{var a;p(null==e?void 0:null===(a=e.target)||void 0===a?void 0:a.result)},e.readAsDataURL(s)}},className:"jsx-6860380f5dddee88 d-none"})]})})]})}},27081:function(e,a,s){var t=s(68328),l=s(55911),n=s(31204),o=s(23583),d=s(41363),i=s(74559),r=s(25499),c=s(12450),u=s(85872),m=s(70818),p=s(42062),h=s(30630),x=s(53502),f=s(90660),v=s.n(f),j=s(14193),g=s(9855);let w=j.Ry().shape({name:j.Z_().required("Hospital Name is required"),address:j.Z_().optional(),logo:j.Z_().optional(),phone1:j.Z_().optional().matches(/(^(\+88|0088|88|088)?((01){1}[3456789]{1}(\d){8}|[2-9]{1}\d{6,9}))$/,"Not a valid phone number (mobile or landline)"),phone2:j.Z_().optional().matches(/(^(\+88|0088|88|088)?((01){1}[3456789]{1}(\d){8}|[2-9]{1}\d{6,9}))$/,"Not a valid phone number (mobile or landline)"),smsPhone:j.Z_().optional().matches(/(^(\+88|088)?(01){1}[3456789]{1}(\d){8})$/,"Not a valid phone number must start with +880 ")});a.Z=e=>{let{isFullWidth:a=!1,headerText:s,buttonText:f,routeToOther:j,routeLink:y}=e,C=(0,r.T)(),b=(0,c.useRouter)(),N=(0,x.v9)(e=>{var a;return null===(a=e.auth)||void 0===a?void 0:a.diagnostic});return(0,t.jsx)(u.Z,{fluid:!0,className:"w-100 h-100",children:(0,t.jsx)(m.default,{className:"d-flex align-items-center justify-content-center w-100 h-100",children:(0,t.jsx)(p.default,{lg:a?12:9,children:(0,t.jsxs)("div",{className:"gap-3",children:[(0,t.jsx)("h1",{className:"text-start fw-bolder",children:s||"Add Details"}),(0,t.jsx)(o.J9,{enableReinitialize:!0,initialValues:{name:(null==N?void 0:N.name)||"",division:null==N?void 0:N.division,city:"",address:(null==N?void 0:N.address)||"",phone1:(null==N?void 0:N.phone1)||"",phone2:(null==N?void 0:N.phone2)||"",smsPhone:(null==N?void 0:N.smsPhone)||"",logo:(null==N?void 0:N.logo)||""},validationSchema:w,onSubmit:async(e,a)=>{let{setSubmitting:s}=a,{division:t,...l}=e,n=new FormData;Object.keys(l).map(e=>{n.append(e,l[e])});let{success:o,data:r}=await (0,d.$)(n);o?(C((0,i.Im)(r)),j?b.push(y):v().fire("Success","Hospital Updated","success")):v().fire("Failed",r,"error"),setTimeout(()=>{s(!1)},400)},children:e=>{let{values:a,errors:s,touched:o,handleChange:d,handleBlur:i,handleSubmit:r,isSubmitting:c,setFieldValue:u}=e;return(0,t.jsxs)(h.Z,{onSubmit:r,className:"d-flex flex-column gap-1 w-100",children:[(0,t.jsx)(l.TextInput,{label:"Your Hospital Name",description:"",placeholder:"Type Hospital Name",size:"md",value:a.name,variant:"filled",radius:"md",onChange:d,onBlur:i,type:"text",name:"name",mt:"md",error:o.name&&s.name?"".concat(s.name):void 0}),(0,t.jsxs)(m.default,{children:[(0,t.jsx)(p.default,{md:12,lg:6,children:(0,t.jsx)(l.TextInput,{label:"Division",description:"",placeholder:"Type Division",size:"md",readOnly:!0,value:(null==N?void 0:N.division)||"",variant:"filled",radius:"md",onChange:d,onBlur:i,type:"text",name:"division",mt:"md",error:o.division&&s.division?"".concat(s.division):void 0})}),(0,t.jsx)(p.default,{children:(0,t.jsx)(l.TextInput,{label:"City",description:"",placeholder:"Type City",size:"md",value:a.city,variant:"filled",radius:"md",onChange:d,onBlur:i,type:"text",name:"city",mt:"md",error:o.city&&s.city?"".concat(s.city):void 0})})]}),(0,t.jsx)(l.TextInput,{label:"Full Address",description:"",placeholder:"Type address",size:"md",value:a.address,variant:"filled",radius:"md",onChange:d,onBlur:i,type:"text",name:"address",mt:"md",error:o.address&&s.address?"".concat(s.address):void 0}),(0,t.jsxs)(m.default,{children:[(0,t.jsx)(p.default,{md:12,lg:6,children:(0,t.jsx)(l.TextInput,{label:"Phone-number 1/ Telephone",description:"",placeholder:"Type phone number",size:"md",value:a.phone1,variant:"filled",radius:"md",onChange:d,onBlur:i,type:"text",name:"phone1",mt:"md",error:o.phone1&&s.phone1?"".concat(s.phone1):void 0})}),(0,t.jsx)(p.default,{children:(0,t.jsx)(l.TextInput,{label:"Phone-number 2",description:"",placeholder:"Type phone number",size:"md",value:a.phone2,variant:"filled",radius:"md",onChange:d,onBlur:i,type:"text",name:"phone2",mt:"md",error:o.phone2&&s.phone2?"".concat(s.phone2):void 0})})]}),(0,t.jsx)(l.TextInput,{label:"Phone-number to send Pc Payment Message",description:"",placeholder:"Type phone number",size:"md",value:a.smsPhone,variant:"filled",radius:"md",onChange:d,onBlur:i,type:"text",name:"smsPhone",mt:"md",error:o.smsPhone&&s.smsPhone?"".concat(s.smsPhone):void 0}),(0,t.jsx)(g.Z,{setFieldValue:u,fieldName:"logo",previousLogoUrl:(null==N?void 0:N.logo)||"",offlineLogoUrl:(null==N?void 0:N.offlineLogo)||""}),(0,t.jsx)(n.Button,{type:"submit",size:"compact-xl",className:"mt-3",fullWidth:!0,children:f||"Next"})]})}})]})})})})}},98318:function(e,a,s){s.d(a,{Z:function(){return P}});var t=s(68328),l=s(9722),n=s(31204),o=s(20234),d=s(58895),i=s(8372),r=s(23583);s(4505);var c=s(14193),u=s(68176),m=s(12450),p=s(53502),h=s(14798),x=s(72940),f=s(6780),v=s(67732);let j=async e=>{try{let a=await f.default.patch("".concat("http://sasthotech.local:5000/api/v1","/profile"),e,{...x.FD,...x.Hn});return{success:!0,data:a.data.data}}catch(e){if(e instanceof v.d7){var a;return{success:!1,data:null===(a=e.response)||void 0===a?void 0:a.data.message}}return{success:!1,data:"An error occurred"}}};var g=s(85872),w=s(70818),y=s(42062),C=s(90660),b=s.n(C);let N=c.Ry().shape({oldPassword:c.Z_().required("Old password is required"),password:c.Z_().min(6,"Password length cannot be less that 6").max(127,"Password is too long").required("Password is required"),confirmPassword:c.Z_().required("Please retype your password ").oneOf([c.iH("password")],"Your passwords do not match.")});var P=e=>{let{doesEmailFieldExist:a=!0,buttonText:s,headerText:c,center:x=!0,doesSkipAndContactUs:f=!0,routeToOther:v,routeLink:C}=e,P=(0,m.useRouter)(),Z=(0,p.v9)(e=>{var a,s;return null===(s=e.auth)||void 0===s?void 0:null===(a=s.user)||void 0===a?void 0:a.email});return(0,t.jsx)(g.Z,{fluid:!0,className:"d-flex h-100 p-0 align-items-center",children:(0,t.jsx)(w.default,{className:"".concat(x?"justify-content-center":""," w-100"),children:(0,t.jsxs)(y.default,{lg:6,children:[(0,t.jsx)("h1",{className:"".concat(x?"text-center":""," fw-bolder"),children:c||"Set Password"}),(0,t.jsx)(r.J9,{initialValues:{email:"",password:"",confirmPassword:"",oldPassword:""},validationSchema:N,onSubmit:async(e,a)=>{let{setSubmitting:s,resetForm:t}=a,{password:l,oldPassword:n}=e,{success:o,data:d}=await j({password:l,oldPassword:n});o?(t(),v?P.push(C):b().fire("Success","Password Updated Successfully","success")):b().fire("Failed",d,"error"),setTimeout(()=>{s(!1)},400)},children:e=>{let{values:o,errors:c,touched:u,handleChange:m,handleBlur:p,handleSubmit:x,isSubmitting:f}=e;return(0,t.jsxs)(r.l0,{onSubmit:x,className:"w-100 d-flex flex-column gap-1",children:[a&&(0,t.jsx)(l.I,{leftSection:(0,t.jsx)(d.Z,{size:20}),placeholder:"Your Email",readOnly:!0,value:Z,variant:"unstyled",radius:"md",onChange:m,onBlur:p,type:"email",name:"email",mt:"lg"}),(0,t.jsx)(l.I,{leftSection:(0,t.jsx)(h.Z,{size:20}),placeholder:"Old Password",value:o.oldPassword,variant:"filled",radius:"md",onChange:m,onBlur:p,type:"password",name:"oldPassword",mt:"md",error:c.oldPassword&&u.oldPassword})," ",c.oldPassword&&u.oldPassword?(0,t.jsx)("p",{className:"text-danger",children:c.oldPassword}):null,(0,t.jsx)(l.I,{leftSection:(0,t.jsx)(i.Z,{size:20}),placeholder:"Create Password",value:o.password,variant:"filled",radius:"md",onChange:m,onBlur:p,type:"password",name:"password",mt:"md",error:c.password&&u.password})," ",c.password&&u.password?(0,t.jsx)("p",{className:"text-danger",children:c.password}):null,(0,t.jsx)(l.I,{leftSection:(0,t.jsx)(i.Z,{size:20}),placeholder:"Confirm Password",value:o.confirmPassword,variant:"filled",radius:"md",onChange:m,onBlur:p,type:"password",name:"confirmPassword",mt:"md",error:c.confirmPassword&&u.confirmPassword})," ",c.confirmPassword&&u.confirmPassword?(0,t.jsx)("p",{className:"text-danger",children:c.confirmPassword}):null,(0,t.jsx)("div",{className:"w-25",children:(0,t.jsx)(n.Button,{type:"submit",size:"lg",className:"mt-3",children:s||"Next"})})]})}}),f?(0,t.jsxs)("div",{className:" mt-3",children:[(0,t.jsx)("p",{className:"text-center fw-bold",children:(0,t.jsx)(o.Anchor,{onClick:()=>{P.push("?Details=true")},children:"Skip for now"})}),(0,t.jsx)(u.Z,{})]}):""]})})})}},72940:function(e,a,s){s.d(a,{FD:function(){return l},Hn:function(){return t},y4:function(){return n}});let t={headers:{"Content-Type":"application/json"}},l={withCredentials:!0},n={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},74559:function(e,a,s){s.d(a,{Im:function(){return o},av:function(){return n},nC:function(){return l}});let t=(0,s(79258).createSlice)({name:"auth",initialState:{isAuth:null,user:null,isProfileIncomplete:!1,diagnostic:null},reducers:{setUser:(e,a)=>{var s;e.user=a.payload,e.isAuth=!!a.payload,(null===(s=a.payload)||void 0===s?void 0:s.name)?localStorage.setItem("name",a.payload.name):localStorage.removeItem("name")},setDiagnostic:(e,a)=>{let s=a.payload;"hospital.sasthotech.com"===window.location.hostname?s.activeLogo=s.logo:s.activeLogo=s.offlineLogo,e.diagnostic=s},setProfileIncomplete:(e,a)=>{e.isProfileIncomplete=a.payload}}}),l=e=>{var a;return null===(a=e.auth.user)||void 0===a?void 0:a.role},{setUser:n,setDiagnostic:o}=t.actions;a.ZP=t.reducer},25499:function(e,a,s){s.d(a,{C:function(){return n},T:function(){return l}});var t=s(53502);let l=()=>(0,t.I0)(),n=t.v9}}]);