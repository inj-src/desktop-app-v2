"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3336],{93911:function(e,r,t){t.d(r,{Z:function(){return J}});var s=t(68328),i=t(72940),n=t(6780),a=t(67732);let l=async e=>{console.log("Adding chambered doctors with data:",e);try{let r=await n.default.post("".concat("http://sasthotech.local:5000/api/v1","/doctorchamber"),e,{...i.FD,...i.Hn});return{success:!0,data:r.data.data}}catch(e){if(e instanceof a.d7){var r;return{success:!1,data:null===(r=e.response)||void 0===r?void 0:r.data.message}}return{success:!1,data:"An error occurred"}}},o=async()=>{try{let e=await n.default.get("".concat("http://sasthotech.local:5000/api/v1","/admin/doctor"),{...i.FD});return{success:!0,data:e.data}}catch(r){if(r instanceof a.d7){var e;return{success:!1,data:null===(e=r.response)||void 0===e?void 0:e.data.message}}return{success:!1,data:"An error occurred"}}},d=async(e,r)=>{try{let t=await n.default.patch("".concat("http://sasthotech.local:5000/api/v1","/doctorchamber/").concat(e),r,{...i.FD,...i.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof a.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}};var c=t(41224),u=t(48604),m=t(68242),h=t(22614),x=t(31204),g=t(9654),f=t(23583),p=t(4505),v=t(90660),b=t.n(v),j=t(29663),S=t(87967),y=t(97428),T=t(22041),C=t(29259);function w(e){let[r,t]=(0,p.useState)(e.value);return(0,p.useEffect)(()=>{let t=setTimeout(()=>{var t;r&&(null===(t=e.onChange)||void 0===t||t.call(e,r))},300);return()=>clearTimeout(t)},[r]),(0,s.jsx)(C.Y,{...e,value:r,onChange:t,styles:{input:{borderColor:"#d1d5db",backgroundColor:"#f9fafb","&:focus":{borderColor:"#3b82f6",backgroundColor:"white",boxShadow:"0 0 0 2px rgba(59, 130, 246, 0.1)"}},...e.styles||{}}})}var z=t(55911);function R(e){let[r,t]=(0,p.useState)(e.value);return(0,p.useEffect)(()=>{let t=setTimeout(()=>{if(null!=r){var t;null===(t=e.onChange)||void 0===t||t.call(e,r)}},300);return()=>clearTimeout(t)},[r]),(0,s.jsx)(z.TextInput,{...e,value:r,onChange:e=>t(e.currentTarget.value),styles:{input:{borderColor:"#d1d5db",backgroundColor:"#f9fafb","&:focus":{borderColor:"#3b82f6",backgroundColor:"white",boxShadow:"0 0 0 2px rgba(59, 130, 246, 0.1)"}},...e.styles||{}}})}var I=e=>{let{doctorList:r,setFieldValue:t}=e;return(0,s.jsxs)(j.Grid,{children:[(0,s.jsxs)(j.Grid.Col,{span:12,children:[(0,s.jsx)(f.gN,{name:"doctorId",children:e=>{let{field:i}=e;return(0,s.jsx)(S.P,{...i,label:"Select Doctor",placeholder:"Search and choose a doctor for this chamber",size:"md",radius:"md",searchable:!0,clearable:!0,nothingFoundMessage:"No doctors found",data:(null==r?void 0:r.map(e=>{var r;return{value:null==e?void 0:e.id.toString(),label:null==e?void 0:e.name,disabled:(null==e?void 0:null===(r=e._count)||void 0===r?void 0:r.doctorChamber)!==0}}))||[],onChange:e=>t("doctorId",e),styles:{input:{borderColor:"#d1d5db",backgroundColor:"#f9fafb","&:focus":{borderColor:"#3b82f6",backgroundColor:"white",boxShadow:"0 0 0 2px rgba(59, 130, 246, 0.1)"}},dropdown:{borderColor:"#d1d5db"}},renderOption:e=>{var t;let{option:i}=e,n=r.find(e=>e.id.toString()===i.value);return(0,s.jsxs)(h.Group,{gap:"sm",children:[(0,s.jsx)(y.q,{src:null==n?void 0:n.image,size:32,radius:"xl"}),(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Text,{size:"sm",fw:500,children:null==n?void 0:n.name}),(null==n?void 0:n.designation)&&(0,s.jsx)(T.Text,{size:"xs",c:"dimmed",children:n.designation}),(null==n?void 0:null===(t=n._count)||void 0===t?void 0:t.doctorChamber)!==0&&(0,s.jsx)(T.Text,{size:"xs",c:"red",children:"Already has a chamber"})]})]})}})}}),(0,s.jsx)(f.Bc,{name:"doctorId",children:e=>(0,s.jsx)(T.Text,{size:"xs",c:"red",mt:4,children:e})})]}),(0,s.jsxs)(j.Grid.Col,{span:{base:12,sm:6},children:[(0,s.jsx)(f.gN,{name:"room",children:e=>{let{field:r}=e;return(0,s.jsx)(R,{...r,onChange:e=>{r.onChange({target:{name:r.name,value:e}})},value:r.value,label:"Room Number",placeholder:"e.g., Room 101",size:"md",radius:"md",onFocus:e=>{let r=e.currentTarget;r.dataset.placeholder=r.placeholder,r.placeholder=""},onBlur:e=>{let r=e.currentTarget;r.dataset.placeholder&&(r.placeholder=r.dataset.placeholder)}})}}),(0,s.jsx)(f.Bc,{name:"room",children:e=>(0,s.jsx)(T.Text,{size:"xs",c:"red",mt:4,children:e})})]}),(0,s.jsxs)(j.Grid.Col,{span:{base:12,sm:6},children:[(0,s.jsx)(f.gN,{name:"timeInterval",children:e=>{let{field:r}=e;return(0,s.jsx)(w,{...r,value:0===r.value?"":r.value,onChange:e=>{r.onChange({target:{name:r.name,value:""===e?0:e}})},label:"Time Interval (minutes)",placeholder:"0 min",size:"md",radius:"md",min:5,max:120,suffix:" min",onFocus:e=>{let r=e.currentTarget;r.dataset.placeholder=r.placeholder,r.placeholder=""},onBlur:e=>{let r=e.currentTarget;r.dataset.placeholder&&(r.placeholder=r.dataset.placeholder)}})}}),(0,s.jsx)(f.Bc,{name:"timeInterval",children:e=>(0,s.jsx)(T.Text,{size:"xs",c:"red",mt:4,children:e})})]}),(0,s.jsxs)(j.Grid.Col,{span:{base:12,sm:6},children:[(0,s.jsx)(f.gN,{name:"oldPatientFee",children:e=>{let{field:r}=e;return(0,s.jsx)(w,{...r,value:0===r.value?"":r.value,onChange:e=>{r.onChange({target:{name:r.name,value:""===e?0:e}})},label:"Old Patient Fee",placeholder:"৳ 0",size:"md",radius:"md",min:0,prefix:"৳ ",onFocus:e=>{let r=e.currentTarget;r.dataset.placeholder=r.placeholder,r.placeholder=""},onBlur:e=>{let r=e.currentTarget;r.dataset.placeholder&&(r.placeholder=r.dataset.placeholder)}})}}),(0,s.jsx)(f.Bc,{name:"oldPatientFee",children:e=>(0,s.jsx)(T.Text,{size:"xs",c:"red",mt:4,children:e})})]}),(0,s.jsxs)(j.Grid.Col,{span:{base:12,sm:6},children:[(0,s.jsx)(f.gN,{name:"newPatientFee",children:e=>{let{field:r}=e;return(0,s.jsx)(w,{...r,value:0===r.value?"":r.value,onChange:e=>{r.onChange({target:{name:r.name,value:""===e?0:e}})},label:"New Patient Fee",placeholder:"৳ 0",size:"md",radius:"md",min:0,prefix:"৳ ",onFocus:e=>{let r=e.currentTarget;r.dataset.placeholder=r.placeholder,r.placeholder=""},onBlur:e=>{let r=e.currentTarget;r.dataset.placeholder&&(r.placeholder=r.dataset.placeholder)}})}}),(0,s.jsx)(f.Bc,{name:"newPatientFee",children:e=>(0,s.jsx)(T.Text,{size:"xs",c:"red",mt:4,children:e})})]}),(0,s.jsxs)(j.Grid.Col,{span:12,children:[(0,s.jsx)(f.gN,{name:"renewalPeriodDays",children:e=>{let{field:r}=e;return(0,s.jsx)(w,{...r,value:0===r.value?"":r.value,onChange:e=>{r.onChange({target:{name:r.name,value:""===e?0:e}})},label:"Renewal Period (days)",placeholder:"0 days",size:"md",radius:"md",min:1,max:365,suffix:" days",description:"Number of days after which a patient is considered new again",onFocus:e=>{let r=e.currentTarget;r.dataset.placeholder=r.placeholder,r.placeholder=""},onBlur:e=>{let r=e.currentTarget;r.dataset.placeholder&&(r.placeholder=r.dataset.placeholder)}})}}),(0,s.jsx)(f.Bc,{name:"renewalPeriodDays",children:e=>(0,s.jsx)(T.Text,{size:"xs",c:"red",mt:4,children:e})})]})]})},k=t(11114),E=t(3741),F=t(85033),N=t(67781),P=t(12697),A=t(92671),D=t(9722);let G=e=>{if(!e)return"";try{let r=new Date(e),t=r.getHours().toString().padStart(2,"0"),s=r.getMinutes().toString().padStart(2,"0");return"".concat(t,":").concat(s)}catch(e){return""}},B=e=>{if(!e)return"";let[r,t]=e.split(":").map(Number),s=new Date;return s.setHours(r,t,0,0),s.toISOString()};var M=t(37947),Z=e=>{let{id:r,label:t,value:i,onChange:n,inputRef:a}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(T.Text,{size:"sm",fw:500,mb:5,c:"#374151",children:t}),(0,s.jsx)("input",{id:r,type:"time",style:{width:"100%",padding:"10px 12px",border:"1px solid #d1d5db",borderRadius:"8px",fontSize:"14px",backgroundColor:"#f9fafb",color:"#374151",outline:"none",transition:"all 0.2s ease"},onFocus:e=>{e.target.style.borderColor="#3b82f6",e.target.style.backgroundColor="white",e.target.style.boxShadow="0 0 0 3px rgba(59, 130, 246, 0.1)"},onBlur:e=>{e.target.style.borderColor="#d1d5db",e.target.style.backgroundColor="#f9fafb",e.target.style.boxShadow="none"},ref:a,value:i,onChange:n})]})},L=e=>{let{id:r,startTime:t,endTime:i,onStartTimeChange:n,onEndTimeChange:a,onClose:l,startTimeRef:o,endTimeRef:d}=e;return(0,s.jsxs)(u.Z,{id:"time-picker-".concat(r),shadow:"xl",p:"md",radius:"md",style:{position:"absolute",bottom:"100%",marginBottom:"5px",left:0,right:0,zIndex:1e3,backgroundColor:"white",border:"1px solid #e5e7eb",minWidth:"300px"},children:[(0,s.jsxs)(h.Group,{justify:"space-between",align:"center",mb:"md",children:[(0,s.jsx)(T.Text,{size:"md",fw:600,c:"#374151",children:"Select Time Range"}),(0,s.jsx)(E.A,{variant:"subtle",color:"gray",size:"sm",onClick:l,children:(0,s.jsx)(M.Z,{size:16})})]}),(0,s.jsxs)(h.Group,{grow:!0,children:[(0,s.jsx)(Z,{id:"start-time-".concat(r),label:"Start Time",value:t,onChange:n,inputRef:o}),(0,s.jsx)(Z,{id:"end-time-".concat(r),label:"End Time",value:i,onChange:a,inputRef:d})]}),(0,s.jsxs)(h.Group,{justify:"flex-end",gap:"sm",mt:"md",children:[(0,s.jsx)(x.Button,{variant:"subtle",color:"gray",size:"sm",onClick:l,children:"Cancel"}),(0,s.jsx)(x.Button,{variant:"filled",color:"blue",size:"sm",onClick:l,disabled:!t||!i,children:"Apply"})]})]})},_=e=>{let{id:r,label:t,onTimeChange:i,initialStartTime:n,initialEndTime:a}=e,[l,o]=(0,p.useState)(G(n||"")),[d,c]=(0,p.useState)(G(a||"")),[u,m]=(0,p.useState)(""),[h,x]=(0,p.useState)(!1),g=(0,p.useRef)(null),f=(0,p.useRef)(null),v=(0,p.useRef)(null);return(0,p.useEffect)(()=>{l&&d?m("".concat(l," - ").concat(d)):m("")},[l,d]),(0,p.useEffect)(()=>{l&&d?i(B(l),B(d)):i("","")},[l,d]),(0,p.useEffect)(()=>{function e(e){v.current&&!v.current.contains(e.target)&&x(!1)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,s.jsxs)("div",{style:{position:"relative"},ref:v,children:[t&&(0,s.jsx)(T.Text,{size:"sm",fw:500,mb:5,c:"#374151",children:t}),(0,s.jsx)(D.I,{id:"time-range-input-".concat(r),type:"text",value:u,placeholder:"Select time range",onClick:()=>x(!h),readOnly:!0,size:"md",radius:"md",styles:{input:{cursor:"pointer",backgroundColor:"#f9fafb",borderColor:"#d1d5db","&:focus":{borderColor:"#3b82f6",backgroundColor:"white",boxShadow:"0 0 0 2px rgba(59, 130, 246, 0.1)"}}}}),h&&(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(L,{id:r,startTime:l,endTime:d,onStartTimeChange:e=>o(e.target.value),onEndTimeChange:e=>c(e.target.value),onClose:()=>x(!1),startTimeRef:g,endTimeRef:f})})]})},q=t(98170),O=e=>{var r,t,i,n;let{item:a,onDelete:l,onSelectedDaysChange:o,onMorningTimeChange:d,onEveningTimeChange:c}=e;return(0,s.jsxs)(u.Z,{radius:"md",p:"md",withBorder:!0,bg:"linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%)",style:{borderColor:"#e2e8f0",overflow:"initial"},children:[(0,s.jsxs)(h.Group,{justify:"space-between",mb:"sm",children:[(0,s.jsxs)(h.Group,{gap:"xs",children:[(0,s.jsx)(N.Z,{size:16,color:"#3b82f6"}),(0,s.jsx)(T.Text,{size:"sm",fw:600,c:"#1e293b",children:"Schedule"}),a.dayIds.length>0&&(0,s.jsxs)(k.C,{size:"sm",variant:"filled",color:"blue",children:[a.dayIds.length," day",a.dayIds.length>1?"s":""]})]}),(0,s.jsx)(E.A,{variant:"subtle",color:"red",size:"sm",onClick:()=>l(a.id),title:"Delete this schedule",style:{"&:hover":{backgroundColor:"#fee2e2",color:"#dc2626"}},children:(0,s.jsx)(P.Z,{size:16})})]}),(0,s.jsx)(F.N,{placeholder:"Select days of the week",data:q.s,value:a.dayIds,onChange:e=>o(a.id,e),searchable:!0,nothingFoundMessage:"Nothing found...",clearable:!0,withCheckIcon:!0,size:"md",radius:"md",mb:"md",leftSection:(0,s.jsx)(N.Z,{size:16}),styles:{input:{borderColor:"#cbd5e1",backgroundColor:"#f9fafb","&:focus":{borderColor:"#3b82f6",backgroundColor:"white"}},pill:{backgroundColor:"#dbeafe",color:"#1e40af","&:hover":{backgroundColor:"#bfdbfe"}}}}),(0,s.jsxs)(h.Group,{align:"flex-start",grow:!0,children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)(h.Group,{gap:"xs",mb:"xs",children:[(0,s.jsx)(A.Z,{size:16,color:"#f59e0b"}),(0,s.jsx)(T.Text,{size:"sm",fw:600,c:"#f59e0b",children:"Morning Session"})]}),(0,s.jsx)(_,{id:"morning-".concat(a.id),label:"",initialStartTime:null===(r=a.morningTime)||void 0===r?void 0:r.startTime,initialEndTime:null===(t=a.morningTime)||void 0===t?void 0:t.endTime,onTimeChange:(e,r)=>d(a.id,e,r)})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)(h.Group,{gap:"xs",mb:"xs",children:[(0,s.jsx)(A.Z,{size:16,color:"#6366f1"}),(0,s.jsx)(T.Text,{size:"sm",fw:600,c:"#6366f1",children:"Evening Session"})]}),(0,s.jsx)(_,{id:"evening-".concat(a.id),label:"",initialStartTime:null===(i=a.eveningTime)||void 0===i?void 0:i.startTime,initialEndTime:null===(n=a.eveningTime)||void 0===n?void 0:n.endTime,onTimeChange:(e,r)=>c(a.id,e,r)})]})]})]})},U=t(87767);let W=async e=>{try{let r=await n.default.patch("".concat("http://sasthotech.local:5000/api/v1","/doctorchamber/slot-delete"),e,{...i.FD,...i.Hn});return{success:!0,data:r.data.data}}catch(e){if(e instanceof a.d7){var r;return{success:!1,data:null===(r=e.response)||void 0===r?void 0:r.data.message}}return{success:!1,data:"An error occurred"}}},H=e=>{let[r,t]=(0,p.useState)([]);(0,p.useEffect)(()=>{e&&e.length>0&&t(e)},[e]);let s=(0,p.useCallback)(async e=>{var s,i;let n=r.find(r=>r.id===e),a=[];(null==n?void 0:null===(s=n.morningTime)||void 0===s?void 0:s.id)&&a.push(n.morningTime.id),(null==n?void 0:null===(i=n.eveningTime)||void 0===i?void 0:i.id)&&a.push(n.eveningTime.id);try{a.length>0&&await W({slotIds:a})}catch(e){console.error("Error deleting slot:",e)}t(r=>r.filter(r=>r.id!==e))},[r]),i=(0,p.useCallback)((e,r)=>{t(t=>t.map(t=>t.id===e?{...t,dayIds:r}:t))},[]),n=(0,p.useCallback)((e,r,s)=>{t(t=>t.map(t=>{var i;return t.id===e?{...t,morningTime:{startTime:r,endTime:s,id:null==t?void 0:null===(i=t.morningTime)||void 0===i?void 0:i.id}}:t}))},[]),a=(0,p.useCallback)((e,r,s)=>{t(t=>t.map(t=>{var i;return t.id===e?{...t,eveningTime:{startTime:r,endTime:s,id:null==t?void 0:null===(i=t.eveningTime)||void 0===i?void 0:i.id}}:t}))},[]);return{slots:r,setSlots:t,handleAddDayClick:()=>{t([...r,(0,U.Px)()])},handleDeleteClick:s,handleSelectedDaysChange:i,handleMorningTimeChange:n,handleEveningTimeChange:a}};var Y=t(14193);let V=Y.Ry({doctorId:Y.Z_().required("Doctor is required"),room:Y.Z_().required("Room number is required"),timeInterval:Y.Rx().required("Time interval is required"),oldPatientFee:Y.Rx().required("Old patient fee is required"),newPatientFee:Y.Rx().required("New patient fee is required"),renewalPeriodDays:Y.Rx().required("Renewal period is required")});var J=e=>{let{close:r,userId:t,isEdit:i=!1,chamberId:n,initialData:a,initialSlots:v,rawSlots:j}=e,[S,y]=(0,p.useState)([]),{slots:T,setSlots:C,handleAddDayClick:w,handleDeleteClick:z,handleSelectedDaysChange:R,handleMorningTimeChange:k,handleEveningTimeChange:E}=H(v);(0,p.useEffect)(()=>{(async()=>{try{let e=await o();y(e.data.data.items)}catch(e){console.error("Error fetching doctor list:",e)}})()},[]);let F=async e=>{try{let s;if(i&&n){let r=(0,U.nJ)({slots:T,values:e,initialData:a,rawSlots:j});s=await d(n,r)}else{let r=(0,U.f)(T,e,t);s=await l(r)}(null==s?void 0:s.success)===!0&&(b().fire({icon:"success",title:"Doctor chamber ".concat(i?"updated":"added"," successfully"),showConfirmButton:!1,timer:1500}),r())}catch(e){console.error("Error ".concat(i?"updating":"adding"," chamber:"),e)}};return(0,s.jsx)("div",{children:(0,s.jsx)(f.J9,{initialValues:(0,U.f7)(a),validationSchema:V,onSubmit:F,enableReinitialize:!0,children:e=>{let{setFieldValue:r}=e;return(0,s.jsx)(f.l0,{children:(0,s.jsxs)(c.Stack,{gap:"lg",children:[(0,s.jsxs)(u.Z,{p:"lg",radius:"md",withBorder:!0,bg:"linear-gradient(135deg, #fef7ff 0%, #f8fafc 100%)",style:{borderColor:"#e5e7eb"},children:[(0,s.jsxs)(m.Title,{order:4,mb:"md",c:"#374151",style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("div",{style:{width:"4px",height:"20px",backgroundColor:"#3b82f6",borderRadius:"2px"}}),"Basic Information"]}),(0,s.jsx)(I,{doctorList:S,setFieldValue:r})]}),(0,s.jsxs)(u.Z,{p:"lg",radius:"md",withBorder:!0,bg:"linear-gradient(135deg, #f0f9ff 0%, #f8fafc 100%)",style:{borderColor:"#e5e7eb"},children:[(0,s.jsxs)(h.Group,{justify:"space-between",mb:"md",children:[(0,s.jsxs)(m.Title,{order:4,c:"#374151",style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,s.jsx)("div",{style:{width:"4px",height:"20px",backgroundColor:"#10b981",borderRadius:"2px"}}),"Schedule Configuration"]}),(0,s.jsx)(x.Button,{leftSection:(0,s.jsx)(g.Z,{size:16}),variant:"filled",color:"blue",size:"sm",onClick:w,radius:"md",style:{fontWeight:600},children:"Add Day"})]}),(0,s.jsx)(c.Stack,{gap:"md",children:0===T.length?(0,s.jsx)("div",{style:{textAlign:"center",padding:"40px 20px",borderRadius:"12px",backgroundColor:"#f8fafc",border:"2px dashed #cbd5e1"},children:(0,s.jsx)("span",{style:{color:"#64748b",fontSize:"14px",fontWeight:500},children:'No schedule configured yet. Click "Add Day" to create a schedule.'})}):T.map(e=>(0,s.jsx)(O,{item:e,onDelete:z,onSelectedDaysChange:R,onMorningTimeChange:k,onEveningTimeChange:E},e.id))})]}),(0,s.jsx)(h.Group,{justify:"center",mt:"xl",children:(0,s.jsx)(x.Button,{type:"submit",size:"lg",radius:"md",style:{minWidth:"200px",fontWeight:600,fontSize:"16px"},variant:"filled",color:"blue",children:i?"Update Chamber":"Add Chamber"})})]})})}})})}},89833:function(e,r,t){t.d(r,{ZP:function(){return s.Z},_M:function(){return i._M},mM:function(){return i.mM}});var s=t(93911);t(98170);var i=t(87767)},98170:function(e,r,t){t.d(r,{o:function(){return s},s:function(){return i}});let s={saturday:0,sunday:1,monday:2,tuesday:3,wednesday:4,thursday:5,friday:6},i=["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"]},87767:function(e,r,t){t.d(r,{Px:function(){return l},_M:function(){return c},f:function(){return o},f7:function(){return a},mM:function(){return u},nJ:function(){return m}});var s=t(98170),i=t(42752),n=t.n(i);let a=e=>e||{doctorId:"",room:"",timeInterval:0,oldPatientFee:0,newPatientFee:0,renewalPeriodDays:0},l=()=>({id:Date.now(),dayIds:[],morningTime:{startTime:"",endTime:""},eveningTime:{startTime:"",endTime:""}}),o=(e,r,t)=>({...r,userId:t,slots:d(e)});function d(e){return console.log("Transforming slots:",e),e.reduce((e,r)=>{var t,i,n,a;let l=()=>r.dayIds.map(e=>s.o[e.toLowerCase()]);return(null===(t=r.morningTime)||void 0===t?void 0:t.startTime)&&(null===(i=r.morningTime)||void 0===i?void 0:i.endTime)&&e.push({dayIds:l(),slotName:"Morning",id:r.morningTime.id||void 0,startTime:r.morningTime.startTime,endTime:r.morningTime.endTime}),(null===(n=r.eveningTime)||void 0===n?void 0:n.startTime)&&(null===(a=r.eveningTime)||void 0===a?void 0:a.endTime)&&e.push({dayIds:l(),slotName:"Evening",id:r.eveningTime.id||void 0,startTime:r.eveningTime.startTime,endTime:r.eveningTime.endTime}),e},[])}let c=e=>{var r,t,s;return{doctorId:(null===(r=e.doctorId)||void 0===r?void 0:r.toString())||(null===(s=e.Doctor)||void 0===s?void 0:null===(t=s.id)||void 0===t?void 0:t.toString())||"",room:e.room||"",timeInterval:e.timeInterval||0,oldPatientFee:e.oldPatientFee||0,newPatientFee:e.newPatientFee||0,renewalPeriodDays:e.renewalPeriodDays||0}},u=e=>{let r={0:"saturday",1:"sunday",2:"monday",3:"tuesday",4:"wednesday",5:"thursday",6:"friday"},t={};return e.forEach((e,s)=>{let i=e.dayIds.join(",");t[i]||(t[i]={id:s,dayIds:e.dayIds.map(e=>r[e]),morningTime:{startTime:"",endTime:""},eveningTime:{startTime:"",endTime:""}}),"morning"===e.slotName.toLowerCase()?t[i].morningTime={startTime:e.startTime,endTime:e.endTime,id:e.id}:"evening"===e.slotName.toLowerCase()&&(t[i].eveningTime={startTime:e.startTime,endTime:e.endTime,id:e.id})}),Object.values(t)};function m(e){let{slots:r,values:t,initialData:s,rawSlots:i}=e;console.log({slots:r,values:t,initialData:s,rawSlots:i});let a={};Object.keys(t).forEach(e=>{"doctorId"!==e&&s&&s[e]!==t[e]&&(a[e]=t[e])});let l=d(r),o=[],c=[];return l.forEach(e=>{if(e.id){let r=null==i?void 0:i.find(r=>r.id===e.id);r&&!n().isEqual(r,e)&&c.push(e)}else o.push(e)}),o.length>0&&(a.newSlots=o),c.length>0&&(a.previousSlots=c),console.log({returnData:a}),a}},92649:function(e,r,t){t.d(r,{p:function(){return c}});var s=t(68328),i=t(48604),n=t(22614),a=t(22041),l=t(11114),o=t(32451),d=t(97698);let c=e=>{let{day:r,dayIndex:t,slotsForDay:c}=e,u=c.length>0;return(0,s.jsxs)(i.Z,{shadow:u?"sm":"none",p:"sm",bg:u?"#f0f9f0":"#9999991a",children:[(0,s.jsxs)(n.Group,{mb:u?"xs":0,justify:"space-between",children:[(0,s.jsx)(a.Text,{fw:600,size:"sm",children:r}),(0,s.jsx)(l.C,{color:u?"green":"gray",size:"sm",children:u?"".concat(c.length," slots"):"No slots"})]}),u&&(0,s.jsx)(n.Group,{wrap:"wrap",mt:"xs",children:c.map((e,r)=>(0,s.jsxs)(o.Box,{flex:1,py:"xs",children:[(0,s.jsx)(a.Text,{size:"sm",fw:500,children:e.slotName}),(0,s.jsxs)(a.Text,{size:"xs",c:"dimmed",children:[(0,d.Z)(new Date(e.startTime),"hh:mm a")," -"," ",(0,d.Z)(new Date(e.endTime),"hh:mm a")]})]},r))})]})}},46581:function(e,r,t){t.d(r,{iW:function(){return V}});var s=t(68328),i=t(22614),n=t(22041),a=t(11114),l=t(48604),o=t(984),d=t(42604),c=t(31204),u=t(25299),m=t(90660),h=t.n(m);function x(e){let{id:r,onRefetch:t}=e,i=async()=>{let{success:e}=await (0,d.i)(r);e?(h().fire("Success","Chamber deleted successfully","success"),t&&t()):h().fire("Error","Failed to delete chamber","error")};return(0,s.jsx)(c.Button,{size:"sm",variant:"light",radius:"md",color:"red",onClick:()=>{u.qk.openConfirmModal({title:"Delete Chamber",centered:!0,children:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"d-block h4",children:"Are you sure?"}),(0,s.jsx)(n.Text,{size:"sm",c:"dimmed",mt:"xs",children:"This action cannot be undone. The chamber will be permanently removed."})]}),labels:{confirm:"Delete",cancel:"Cancel"},confirmProps:{color:"red"},onConfirm:()=>i()})},children:"Delete Chamber"})}var g=t(22975),f=t(46557),p=t(89833);function v(e){let{doctor:r,userId:t,onRefetch:i}=e,[n,{open:a,close:l}]=(0,f.q)(!1),o=()=>{l(),i&&i()};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Button,{size:"sm",radius:"md",variant:"light",color:"blue",onClick:()=>{a()},children:"Update Chamber"}),(0,s.jsx)(g.u,{opened:n,onClose:o,title:"Update Doctor Chamber",size:"xl",radius:"md",children:n&&(0,s.jsx)(p.ZP,{isEdit:!0,chamberId:r.id,userId:t||"",close:o,initialData:(0,p._M)(r),initialSlots:(0,p.mM)(r.slots||[]),rawSlots:r.slots||[]})})]})}var b=t(4505),j=t(83493),S=t(89043),y=t(49905),T=t(29259),C=t(41224),w=t(81209),z=t(68242),R=t(3741),I=t(87967),k=t(46373),E=t(77303),F=t(47720),N=t(22115),P=t(8372),A=t(7965),D=t(51973),G=t(60711),B=t(9654),M=t(12697),Z=t(13916),L=t(72940),_=t(6780),q=t(67732);let O=async(e,r)=>{try{let t=await _.default.patch("".concat("http://sasthotech.local:5000/api/v1","/doctorchamber/reserved-serial-settings/").concat(e),r,{...L.FD,...L.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof q.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}},U=e=>{let{opened:r,onClose:t,chamberId:o,currentSettings:d,onUpdate:u}=e,[m,h]=(0,b.useState)(!1),[x,f]=(0,b.useState)(!0);console.log(d,"current settings in modal");let p=(0,F.c)({initialValues:{enableReservedSerials:(null==d?void 0:d.enableReservedSerials)||!1,reservedSerialStrategies:(null==d?void 0:d.reservedSerialStrategies)&&d.reservedSerialStrategies.length>0?d.reservedSerialStrategies:[]},validate:{}}),v=e=>{let r=p.values.reservedSerialStrategies||[];p.setFieldValue("reservedSerialStrategies",r.filter((r,t)=>t!==e))},j=async e=>{h(!0);try{let{success:r}=await O(o,e);if(!r)throw Error("Failed to update reservation settings");N.N9.show({title:"Success",message:"Reservation settings updated successfully",color:"green"}),null==u||u(),t()}catch(e){N.N9.show({title:"Error",message:"Failed to update reservation settings",color:"red"})}finally{h(!1)}},L=(e,r,t)=>{let{reservedSerialStrategy:s,reservedSerialCount:i,reservedSerialMultiple:n,reservedSerialLeftOffset:a,reservedSerialRightOffset:l,reservedSerialStartNumber:o,reservedSerialEndNumber:d,reservedSpecificSerial:c}=r;switch(s){case"FIRST_N":return e<=(i||0);case"LAST_N":return e>t-(i||0);case"MULTIPLE":if(!n)return!1;if(e%n==0)return!0;for(let r=1;r<=(a||0);r++)if((e+r)%n==0)return!0;for(let r=1;r<=(l||0);r++){let t=e-r;if(t>0&&t%n==0)return!0}return!1;case"SPECIFIC":return c===e;case"RANGE":return!!(o&&d&&e>=o&&e<=d);default:return!1}},_=(e,r)=>{let t=[];for(let r=1;r<=20;r++)L(r,e,20)&&t.push(r);return(0,s.jsxs)(S.X,{p:"xs",withBorder:!0,bg:"gray.0",children:[(0,s.jsxs)(i.Group,{justify:"space-between",mb:"xs",children:[(0,s.jsxs)(n.Text,{size:"xs",fw:500,children:["Strategy ",r+1," Preview"]}),(0,s.jsxs)(n.Text,{size:"xs",c:"dimmed",children:[t.length,"/",20," reserved"]})]}),(0,s.jsx)(y.M,{cols:10,spacing:2,children:Array.from({length:20},(e,r)=>{let i=r+1,n=t.includes(i);return(0,s.jsx)(a.C,{variant:n?"filled":"outline",color:n?"red":"gray",size:"xs",style:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:"20px",height:"20px",fontSize:"10px"},children:i},i)})})]})},q=(e,r)=>{switch(r.reservedSerialStrategy){case"FIRST_N":return(0,s.jsx)(T.Y,{label:"Number of First Serials to Reserve",description:"Reserve the first N serials (e.g., serials 1, 2, 3)",placeholder:"Enter count",min:1,max:50,...p.getInputProps("reservedSerialStrategies.".concat(e,".reservedSerialCount"))});case"LAST_N":return(0,s.jsx)(T.Y,{label:"Number of Last Serials to Reserve",description:"Reserve the last N serials from the end",placeholder:"Enter count",min:1,max:50,...p.getInputProps("reservedSerialStrategies.".concat(e,".reservedSerialCount"))});case"MULTIPLE":return(0,s.jsxs)(C.Stack,{gap:"sm",children:[(0,s.jsx)(T.Y,{label:"Reserve Every Nth Serial",description:"Reserve every multiple of this number (e.g., 5 = serials 5, 10, 15, 20...)",placeholder:"Enter multiple",min:2,max:20,...p.getInputProps("reservedSerialStrategies.".concat(e,".reservedSerialMultiple"))}),(0,s.jsxs)(i.Group,{grow:!0,children:[(0,s.jsx)(T.Y,{label:"Left Offset",description:"Also reserve positions before multiples",placeholder:"0",min:0,max:5,...p.getInputProps("reservedSerialStrategies.".concat(e,".reservedSerialLeftOffset"))}),(0,s.jsx)(T.Y,{label:"Right Offset",description:"Also reserve positions after multiples",placeholder:"0",min:0,max:5,...p.getInputProps("reservedSerialStrategies.".concat(e,".reservedSerialRightOffset"))})]})]});case"SPECIFIC":return(0,s.jsx)(T.Y,{label:"Specific Serial Number",description:"Reserve a specific serial number",placeholder:"Enter serial number",min:1,max:100,...p.getInputProps("reservedSerialStrategies.".concat(e,".reservedSpecificSerial"))});case"RANGE":return(0,s.jsxs)(i.Group,{grow:!0,children:[(0,s.jsx)(T.Y,{label:"Start Serial",description:"Starting serial number of range",placeholder:"Start",min:1,max:100,...p.getInputProps("reservedSerialStrategies.".concat(e,".reservedSerialStartNumber"))}),(0,s.jsx)(T.Y,{label:"End Serial",description:"Ending serial number of range",placeholder:"End",min:1,max:100,...p.getInputProps("reservedSerialStrategies.".concat(e,".reservedSerialEndNumber"))})]});default:return null}},U=e=>{switch(e){case"FIRST_N":return"Reserve the first few serials for VIP patients or special cases.";case"LAST_N":return"Reserve the last few serials for emergency cases or late appointments.";case"MULTIPLE":return"Reserve serials at regular intervals (every 5th, 10th, etc.) with optional padding.";case"SPECIFIC":return"Reserve a specific serial number for special purposes.";case"RANGE":return"Reserve a range of serial numbers (e.g., serials 10-15).";case"NONE":return"No serials will be reserved. All slots are available for regular booking.";default:return""}};return(0,s.jsx)(g.u,{opened:r,onClose:t,title:"Serial Reservation Settings",size:"lg",children:(0,s.jsx)("form",{onSubmit:p.onSubmit(j),children:(0,s.jsxs)(C.Stack,{gap:"lg",children:[(0,s.jsx)(w.r,{label:"Enable Serial Reservations",description:"Reserve specific serials for special bookings (VIP, emergency, etc.)",...p.getInputProps("enableReservedSerials",{type:"checkbox"})}),p.values.enableReservedSerials&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.Group,{justify:"space-between",align:"center",children:[(0,s.jsx)(z.Title,{order:4,children:"Reservation Strategies"}),(0,s.jsxs)(i.Group,{children:[(0,s.jsxs)(c.Button,{size:"sm",variant:"outline",leftSection:x?(0,s.jsx)(D.Z,{size:16}):(0,s.jsx)(G.Z,{size:16}),onClick:()=>f(!x),children:[x?"Hide":"Show"," Combined Preview"]}),(0,s.jsx)(c.Button,{size:"sm",variant:"outline",leftSection:(0,s.jsx)(B.Z,{size:16}),onClick:()=>{let e=p.values.reservedSerialStrategies||[];p.setFieldValue("reservedSerialStrategies",[...e,{reservedSerialStrategy:"FIRST_N",reservedSerialCount:3}])},children:"Add Strategy"})]})]}),x&&p.values.reservedSerialStrategies&&p.values.reservedSerialStrategies.length>0&&(0,s.jsxs)(l.Z,{withBorder:!0,p:"md",bg:"blue.0",children:[(0,s.jsxs)(i.Group,{justify:"space-between",mb:"sm",children:[(0,s.jsx)(n.Text,{fw:600,size:"sm",c:"blue",children:"\uD83D\uDCCA Combined Preview - All Strategies Applied Together"}),(0,s.jsx)(c.Button,{size:"xs",variant:"subtle",color:"blue",leftSection:(0,s.jsx)(D.Z,{size:14}),onClick:()=>f(!1),children:"Hide"})]}),(()=>{let e=p.values.reservedSerialStrategies||[],r=(()=>{let r=[];for(let t=1;t<=40;t++){let s=!1;for(let r of e)if(L(t,r,40)){s=!0;break}s&&r.push(t)}return r})();return(0,s.jsxs)(S.X,{p:"md",withBorder:!0,children:[(0,s.jsxs)(n.Text,{size:"sm",fw:600,mb:"sm",children:["Preview (Total Slots: ",40,")"]}),(0,s.jsx)(y.M,{cols:10,spacing:"xs",children:Array.from({length:40},(e,t)=>{let i=t+1,l=r.includes(i);return(0,s.jsxs)(a.C,{variant:l?"filled":"outline",color:l?"red":"blue",size:"sm",style:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:"32px",height:"32px"},children:[l?(0,s.jsx)(P.Z,{size:12}):(0,s.jsx)(A.Z,{size:12}),(0,s.jsx)(n.Text,{size:"xs",ml:2,children:i})]},i)})}),(0,s.jsxs)(i.Group,{mt:"sm",gap:"sm",children:[(0,s.jsxs)(i.Group,{gap:4,children:[(0,s.jsx)(a.C,{variant:"filled",color:"red",size:"xs",children:(0,s.jsx)(P.Z,{size:10})}),(0,s.jsxs)(n.Text,{size:"xs",children:["Reserved (",r.length,")"]})]}),(0,s.jsxs)(i.Group,{gap:4,children:[(0,s.jsx)(a.C,{variant:"outline",color:"blue",size:"xs",children:(0,s.jsx)(A.Z,{size:10})}),(0,s.jsxs)(n.Text,{size:"xs",children:["Available (",40-r.length,")"]})]})]})]})})()]}),p.values.reservedSerialStrategies&&p.values.reservedSerialStrategies.length>0?(0,s.jsx)(C.Stack,{gap:"md",children:p.values.reservedSerialStrategies.map((e,r)=>(0,s.jsxs)(l.Z,{withBorder:!0,p:"md",children:[(0,s.jsxs)(i.Group,{justify:"space-between",align:"flex-start",mb:"sm",children:[(0,s.jsxs)(n.Text,{fw:600,size:"sm",children:["Strategy ",r+1]}),(0,s.jsx)(R.A,{color:"red",variant:"subtle",onClick:()=>v(r),size:"sm",children:(0,s.jsx)(M.Z,{size:16})})]}),(0,s.jsxs)(C.Stack,{gap:"sm",children:[(0,s.jsx)(I.P,{label:"Strategy Type",description:"Choose how serials should be reserved",data:[{value:"FIRST_N",label:"First N Serials - Reserve from beginning"},{value:"LAST_N",label:"Last N Serials - Reserve from end"},{value:"MULTIPLE",label:"Every Nth Serial - Reserve at intervals"},{value:"SPECIFIC",label:"Specific Serial - Reserve one specific serial"},{value:"RANGE",label:"Range - Reserve a range of serials"}],...p.getInputProps("reservedSerialStrategies.".concat(r,".reservedSerialStrategy"))}),(0,s.jsx)(k.b,{icon:(0,s.jsx)(Z.Z,{size:16}),color:"blue",children:(0,s.jsx)(n.Text,{size:"sm",children:U(e.reservedSerialStrategy)})}),q(r,e),(0,s.jsx)(E.Divider,{size:"xs"}),_(e,r)]})]},r))}):(0,s.jsx)(k.b,{icon:(0,s.jsx)(Z.Z,{size:16}),color:"blue",children:(0,s.jsx)(n.Text,{size:"sm",children:"No reservation strategies configured. Click “Add Strategy” to create your first reservation rule."})})]}),(0,s.jsxs)(i.Group,{justify:"flex-end",mt:"md",children:[(0,s.jsx)(c.Button,{variant:"outline",onClick:t,disabled:m,children:"Cancel"}),(0,s.jsx)(c.Button,{type:"submit",loading:m,children:"Save Settings"})]})]})})})},W=e=>{let{doctor:r,onRefetch:t}=e,[i,n]=(0,b.useState)(!1),a={enableReservedSerials:r.enableReservedSerials,reservedSerialStrategies:r.reservedSerialStrategies||[]};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.Button,{variant:"outline",size:"sm",leftSection:(0,s.jsx)(j.Z,{size:16}),onClick:()=>n(!0),children:"Reservation"}),(0,s.jsx)(U,{opened:i,onClose:()=>n(!1),chamberId:r.id,currentSettings:a,onUpdate:t})]})},H=e=>{var r,t,l;let{doctor:o,userId:d,onRefetch:c}=e;return(0,s.jsxs)(i.Group,{justify:"space-between",mb:"md",children:[(0,s.jsxs)(i.Group,{children:[(0,s.jsx)(n.Text,{fw:700,children:(null==o?void 0:null===(r=o.Doctor)||void 0===r?void 0:r.name)||"Doctor Name"}),(null==o?void 0:null===(t=o.Doctor)||void 0===t?void 0:t.designation)&&(0,s.jsx)(a.C,{color:"blue",variant:"light",children:null==o?void 0:null===(l=o.Doctor)||void 0===l?void 0:l.designation})]}),(0,s.jsxs)(i.Group,{gap:"sm",children:[(0,s.jsx)(W,{doctor:o,onRefetch:c}),(0,s.jsx)(v,{doctor:o,userId:d,onRefetch:c}),(0,s.jsx)(x,{id:o.id,onRefetch:c})]})]})},Y=e=>{let{doctor:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.Group,{children:[(0,s.jsxs)(n.Text,{size:"sm",c:"dimmed",children:["Room: ",(null==r?void 0:r.room)||"N/A"]}),(null==r?void 0:r.phone)&&(0,s.jsxs)(n.Text,{size:"sm",c:"dimmed",children:["Contact: ",r.phone]})]}),(0,s.jsx)(o.S,{doctor:r})]})},V=e=>{let{doctor:r,userId:t,onRefetch:i}=e;return(0,s.jsxs)(l.Z,{radius:"md",p:"md",withBorder:!0,mb:"lg",children:[(0,s.jsx)(H,{doctor:r,userId:t,onRefetch:i}),(0,s.jsx)(Y,{doctor:r})]})}},13336:function(e,r,t){t.d(r,{A:function(){return b}});var s=t(68328),i=t(22614),n=t(22041),a=t(31204),l=t(3741),o=t(48604),d=t(98542),c=t(49238),u=t(12697),m=t(4505),h=t(9323),x=t(46581),g=t(22789),f=t(90660),p=t.n(f);let v=e=>{let{manager:r,index:t,onAddChamber:o,isExpanded:u,onToggleExpanded:m,chambersCount:h}=e,x=void 0!=t;return(0,s.jsxs)(i.Group,{display:"flex",justify:"space-between",children:[(0,s.jsxs)(i.Group,{children:[(0,s.jsxs)(n.Text,{fw:600,size:"lg",children:[x&&t+1+"."," ",r.email]}),h>0&&(0,s.jsxs)(n.Text,{size:"sm",color:"dimmed",children:["(",h," chamber",h>1?"s":"",")"]})]}),(0,s.jsxs)(i.Group,{gap:"sm",children:[(0,s.jsx)(a.Button,{onClick:o,variant:"outline",color:"dark",radius:"md",children:"Add Chamber"}),h>0&&x&&(0,s.jsx)(l.A,{variant:"subtle",color:"gray",onClick:m,size:"lg",children:u?(0,s.jsx)(d.Z,{size:20}):(0,s.jsx)(c.Z,{size:20})})]})]})},b=e=>{let{manager:r,index:t,onAddChamber:d,onRefetch:c}=e,[f,b]=(0,m.useState)(!0),j=(0,h.a)("(max-width: 768px)"),S=(null==r?void 0:r.doctorChamber.length)===0,y=(null==r?void 0:r.doctorChamber.length)||0,[T]=(0,g.ef)(),C=async()=>{try{let e=await T(r.id);"error"in e?p().fire("Error","Unknown  error occurred","error"):(p().fire("Success","Serial Manager Deleted","success"),c())}catch(e){p().fire("Error","Unknown error occurred","error")}},w=void 0!=t;return(0,s.jsx)(o.Z,{mb:"xl",radius:"md",withBorder:!0,p:"lg",bg:"#fafafa",children:S?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(i.Group,{mb:"lg",display:"flex",justify:"space-between",children:[(0,s.jsx)(i.Group,{children:(0,s.jsxs)(n.Text,{fw:600,size:"lg",children:[w&&t+1+"."," ",r.email]})}),w&&(0,s.jsx)(l.A,{variant:"subtle",color:"red",onClick:C,size:"lg",children:(0,s.jsx)(u.Z,{size:20})})]}),(0,s.jsxs)("div",{style:{textAlign:"center",padding:"40px 20px"},children:[(0,s.jsx)(n.Text,{c:"dimmed",size:"md",mb:"xl",children:"No chambers added yet"}),(0,s.jsx)(a.Button,{onClick:d,variant:"subtle",color:"blue",size:"lg",radius:"md",style:{minWidth:"200px"},children:"Add Chamber"})]})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(v,{manager:r,index:t,onAddChamber:d,isExpanded:f,onToggleExpanded:()=>{b(e=>!e)},chambersCount:y}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateRows:f?"1fr":"0fr",transition:"grid-template-rows 0.5s"},children:(0,s.jsxs)("div",{style:{paddingLeft:w?j?"0":"16px":"0",borderLeft:w?j?"none":"3px solid #228be6":"none",overflow:"hidden"},children:[(0,s.jsx)(i.Group,{mt:"md"}),null==r?void 0:r.doctorChamber.map(e=>(0,s.jsx)(x.iW,{doctor:e,userId:r.id,onRefetch:c},e.id))]})})]})},r.id)}},984:function(e,r,t){t.d(r,{S:function(){return d}});var s=t(68328),i=t(77303),n=t(22041),a=t(49905),l=t(92649);let o=["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],d=e=>{let{doctor:r}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.Divider,{my:"lg"}),(0,s.jsx)(n.Text,{fw:500,size:"sm",mb:"xs",children:"Weekly Schedule"}),(0,s.jsx)(a.M,{cols:{base:2,md:3},children:o.map((e,t)=>{var i;let n=(null==r?void 0:null===(i=r.slots)||void 0===i?void 0:i.filter(e=>e.dayIds.includes(t)))||[];return(0,s.jsx)(l.p,{day:e,dayIndex:t,slotsForDay:n},t)})})]})}},72940:function(e,r,t){t.d(r,{FD:function(){return i},Hn:function(){return s},y4:function(){return n}});let s={headers:{"Content-Type":"application/json"}},i={withCredentials:!0},n={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},42604:function(e,r,t){t.d(r,{i:function(){return a}});var s=t(72940),i=t(6780),n=t(67732);let a=async e=>{try{let r=await i.default.delete("".concat("http://sasthotech.local:5000/api/v1","/doctorchamber/").concat(e),s.FD);return{success:!0,data:r.data.data}}catch(e){if(e instanceof n.d7){var r;return{success:!1,data:null===(r=e.response)||void 0===r?void 0:r.data.message}}return{success:!1,data:"An error occurred"}}}},78101:function(e,r,t){t.d(r,{g:function(){return l}});var s=t(49854),i=t(68240),n=t(94183),a=t(28317);let l=(0,i.LC)({baseQuery:(0,n.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,r)=>fetch(e,r).then(async t=>{let i="string"==typeof e?e:e.url;return i.includes("?")||(null==r?void 0:r.body)||"string"!=typeof e&&e.body||await (0,a.t8)(i,await t.clone().json().catch(()=>null),(0,s.x)()),t}).catch(async t=>{if(t instanceof TypeError){let t="string"==typeof e?e:e.url;if(!t.includes("?")&&!(null==r?void 0:r.body)&&!("string"!=typeof e&&e.body)){let e=await (0,a.U2)(t,(0,s.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw t})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},22789:function(e,r,t){t.d(r,{$4:function(){return s},ef:function(){return n},sc:function(){return i}});let{useGetSerialManagersQuery:s,useCreateSerialManagerMutation:i,useDeleteSerialManagerMutation:n}=t(78101).g.injectEndpoints({endpoints:e=>({getSerialManagers:e.query({query:()=>({url:"/admin/serialManager"}),transformResponse(e){var r,t,s;return{message:"Serial Managers list",data:{totalPage:(null===(r=e.data)||void 0===r?void 0:r.totalPage)||1,totalItems:(null===(t=e.data)||void 0===t?void 0:t.totalItems)||0,items:(null===(s=e.data)||void 0===s?void 0:s.items)||[]}}}}),createSerialManager:e.mutation({query:e=>({url:"/admin/serialManager",method:"POST",body:e})}),deleteSerialManager:e.mutation({query:e=>({url:"/admin/serialManager/".concat(e),method:"DELETE"})})})})},49854:function(e,r,t){let s;t.d(r,{d:function(){return d},x:function(){return o}});var i=t(72940),n=t(6780),a=t(67732),l=t(28317);function o(){return s||(s=(0,l.MT)("cached-responses-store","cached-responses")),s}async function d(e,r){try{let t=await n.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:r,...i.FD});return await (0,l.t8)(e,t.data,o()),t.data}catch(r){if(r instanceof a.d7&&[a.d7.ERR_NETWORK,a.d7.ETIMEDOUT].includes(r.code)){let r=await (0,l.U2)(e,o());if(r)return r}throw r instanceof a.d7&&r.response&&401===r.response.status||console.error(r),r}}}}]);