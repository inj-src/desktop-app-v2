(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[218],{38656:function(e,t,l){Promise.resolve().then(l.bind(l,20234)),Promise.resolve().then(l.bind(l,31204)),Promise.resolve().then(l.bind(l,22041)),Promise.resolve().then(l.bind(l,76889)),Promise.resolve().then(l.bind(l,77052)),Promise.resolve().then(l.bind(l,60331)),Promise.resolve().then(l.t.bind(l,40154,23)),Promise.resolve().then(l.t.bind(l,90718,23)),Promise.resolve().then(l.t.bind(l,71,23)),Promise.resolve().then(l.bind(l,53531)),Promise.resolve().then(l.t.bind(l,14702,23))},53531:function(e,t,l){"use strict";l.r(t);var s=l(68328),r=l(25621),a=l(29663),n=l(48604),i=l(58812),o=l(22041),d=l(43495),c=l(22614),u=l(31204),m=l(22975),h=l(42407),x=l(59406),p=l(45437),v=l(12697),f=l(31151),j=l(4505),g=l(1683),y=l(3591),b=l(65038),S=l(72071),P=l(43410),k=l(24049),Z=l(91611);let z=k.Ry({name:k.Z_().min(3,"Plan name must be at least 3 characters").max(50,"Plan name must not exceed 50 characters"),totalSMS:k.Z_().transform(e=>parseInt(e,10)).refine(e=>!isNaN(e)&&e>0,{message:"SMS count must be a positive number"}),price:k.Z_().transform(e=>parseFloat(e)).refine(e=>!isNaN(e)&&e>0,{message:"Price must be a positive number"}),validityDays:k.Z_().min(1,"Please select a validity period"),features:k.IX(k.Z_()).min(1,"Please add at least one feature")});t.default=()=>{let[e,t]=(0,j.useState)(!1),[l,k]=(0,j.useState)(!1),[C,w]=(0,j.useState)(null),[M,T]=(0,j.useState)([]),{data:D,isFetching:E,isLoading:G}=(0,g.Er)(void 0),[B]=(0,g.tT)(),[_]=(0,g.iE)(),F=e=>{w(e),k(!0)};(0,j.useEffect)(()=>{T(D)},[D]);let N=e=>{w(e),t(!0)},I=async()=>{let e=f.toast.loading("Deleting plan...");try{let l=await B(null==C?void 0:C.id).unwrap();Object.keys(l).length>0?f.toast.success("Plan deleted successfully",{id:e}):f.toast.error("Failed to delete plan",{id:e}),t(!1),w(null)}catch(t){f.toast.error(t.message||"Failed to delete plan",{id:e})}},A=async e=>{let t=f.toast.loading("Updating plan...");try{let l={name:null==e?void 0:e.name,totalSMS:parseInt(null==e?void 0:e.totalSMS),price:parseFloat(null==e?void 0:e.price),validityDays:null==e?void 0:e.validityDays,features:null==e?void 0:e.features};await _({id:null==C?void 0:C.id,body:l}).unwrap()?(f.toast.success("Plan updated successfully",{id:t}),k(!1),w(null)):f.toast.error("Failed to update plan",{id:t})}catch(e){f.toast.error(e.message||"Failed to update plan",{id:t})}};return E||G?(0,s.jsx)(r.O,{}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{marginTop:"2rem"},children:(0,s.jsx)(a.Grid,{gutter:"md",children:null==M?void 0:M.map(e=>(0,s.jsx)(a.Grid.Col,{span:{base:12,sm:6,lg:4},children:(0,s.jsxs)(n.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,style:{backgroundColor:"#fff",height:"100%",position:"relative"},children:[(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"1rem"},children:[(0,s.jsx)(i.k,{size:60,radius:"xl",variant:"light",color:"blue",style:{margin:"0 auto 1rem"},children:(0,s.jsx)(h.Z,{size:30})}),(0,s.jsx)(o.Text,{size:"xl",fw:600,c:"#2c2e33",children:e.name}),(0,s.jsxs)(o.Text,{size:"sm",c:"#63707A",mt:4,children:["Valid for ",e.validityDays," days"]})]}),(0,s.jsxs)("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[(0,s.jsx)(o.Text,{size:"3xl",fw:700,c:"#2c2e33",children:e.totalSMS.toLocaleString()}),(0,s.jsx)(o.Text,{size:"sm",c:"#63707A",children:"SMS Messages"}),(0,s.jsxs)(o.Text,{size:"2xl",fw:600,c:"#1c7ed6",mt:"sm",children:["৳",e.price]}),(0,s.jsxs)(o.Text,{size:"xs",c:"#63707A",children:["৳",(e.price/e.totalSMS).toFixed(3)," per SMS"]})]}),(0,s.jsx)(d.a,{spacing:"xs",size:"sm",center:!0,icon:(0,s.jsx)(i.k,{color:"teal",size:18,radius:"xl",children:(0,s.jsx)(x.Z,{size:12})}),style:{marginBottom:"1.5rem"},children:e.features.map((e,t)=>(0,s.jsx)(d.a.Item,{children:(0,s.jsx)(o.Text,{size:"sm",c:"#63707A",children:e})},t))}),(0,s.jsxs)(c.Group,{grow:!0,style:{marginTop:"auto"},children:[(0,s.jsx)(u.Button,{variant:"subtle",color:"blue",size:"md",leftSection:(0,s.jsx)(p.Z,{size:18}),onClick:()=>F(e),children:"Edit"}),(0,s.jsx)(u.Button,{variant:"subtle",color:"red",size:"md",leftSection:(0,s.jsx)(v.Z,{size:18}),onClick:()=>N(e),children:"Delete"})]})]})},e.id))})}),(0,s.jsxs)(m.u,{opened:e,onClose:()=>t(!1),title:"Delete Plan",centered:!0,children:[(0,s.jsxs)(o.Text,{size:"sm",mb:"lg",children:["Are you sure you want to delete the ",(0,s.jsx)("strong",{children:null==C?void 0:C.name})," plan? This action cannot be undone."]}),(0,s.jsxs)(c.Group,{justify:"flex-end",mt:"md",children:[(0,s.jsx)(u.Button,{variant:"default",onClick:()=>t(!1),children:"Cancel"}),(0,s.jsx)(u.Button,{color:"red",onClick:I,children:"Delete Plan"})]})]}),(0,s.jsx)(m.u,{opened:l,onClose:()=>k(!1),title:"Edit Plan",centered:!0,size:"lg",children:(0,s.jsx)(y.Z,{onSubmit:A,resolver:(0,Z.F)(z),defaultValues:C?{name:C.name,totalSMS:C.totalSMS.toString(),price:C.price.toString(),validityDays:C.validityDays.toString(),features:C.features}:{},children:(0,s.jsxs)(a.Grid,{gutter:"md",children:[(0,s.jsx)(a.Grid.Col,{span:12,children:(0,s.jsx)(b.Z,{name:"name",label:"Plan Name",placeholder:"Enter plan name"})}),(0,s.jsx)(a.Grid.Col,{span:6,children:(0,s.jsx)(b.Z,{name:"totalSMS",label:"Total SMS",placeholder:"Enter total SMS",type:"number"})}),(0,s.jsx)(a.Grid.Col,{span:6,children:(0,s.jsx)(b.Z,{name:"price",label:"Price (৳)",placeholder:"Enter price",type:"number"})}),(0,s.jsx)(a.Grid.Col,{span:12,children:(0,s.jsx)(S.Z,{name:"validityDays",label:"Validity Period",options:[{value:"7",label:"7 Days"},{value:"15",label:"15 Days"},{value:"30",label:"30 Days"},{value:"45",label:"45 Days"},{value:"60",label:"60 Days"},{value:"90",label:"90 Days"}],placeholder:"Select validity period"})}),(0,s.jsx)(a.Grid.Col,{span:12,children:(0,s.jsx)(P.Z,{name:"features",label:"Plan Features",placeholder:"Enter a feature (e.g., 24/7 support)",emptyMessage:"No features added yet.",cardProps:{shadow:"none",padding:"sm",withBorder:!1}})}),(0,s.jsx)(a.Grid.Col,{span:12,children:(0,s.jsxs)(c.Group,{justify:"flex-end",children:[(0,s.jsx)(u.Button,{variant:"default",onClick:()=>k(!1),children:"Cancel"}),(0,s.jsx)(u.Button,{type:"submit",color:"blue",children:"Update Plan"})]})})]})})})]})}},43410:function(e,t,l){"use strict";var s=l(68328),r=l(48604),a=l(22041),n=l(22614),i=l(55911),o=l(31204),d=l(41224),c=l(3741),u=l(9654),m=l(59406),h=l(12697),x=l(4505),p=l(80948);t.Z=e=>{let{name:t,label:l="Package Features",placeholder:v="Enter a feature (e.g., 24/7 support)",emptyMessage:f="No features added yet. Add some features to make your package more attractive.",cardProps:j={shadow:"sm",padding:"lg",radius:"md",withBorder:!0,style:{backgroundColor:"#fff"}}}=e,{control:g,setValue:y,getValues:b,formState:{errors:S}}=(0,p.Gc)(),[P,k]=(0,x.useState)(""),Z=()=>{if(!P.trim())return;let e=b(t)||[];y(t,[...e,P.trim()]),k("")},z=e=>{let l=(b(t)||[]).filter((t,l)=>l!==e);y(t,l)};return(0,s.jsx)(p.Qr,{control:g,name:t,defaultValue:[],render:e=>{var x;let{field:p}=e;return(0,s.jsxs)(r.Z,{...j,children:[(0,s.jsx)(a.Text,{size:"lg",fw:600,mb:"md",c:"#2c2e33",children:l}),(0,s.jsxs)(n.Group,{mb:"md",children:[(0,s.jsx)(i.TextInput,{placeholder:v,value:P,onChange:e=>k(e.target.value),style:{flex:1},onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),Z())}}),(0,s.jsx)(o.Button,{leftSection:(0,s.jsx)(u.Z,{size:16}),onClick:Z,disabled:!P.trim(),children:"Add Feature"})]}),S[t]&&(0,s.jsx)(a.Text,{size:"sm",c:"red",mb:"sm",children:(null===(x=S[t])||void 0===x?void 0:x.message)||"This field is required"}),(0,s.jsx)(d.Stack,{gap:"xs",children:(p.value||[]).map((e,t)=>(0,s.jsxs)(n.Group,{justify:"space-between",p:"sm",style:{backgroundColor:"#f8f9fa",borderRadius:"4px"},children:[(0,s.jsxs)(n.Group,{children:[(0,s.jsx)(m.Z,{size:16,color:"green"}),(0,s.jsx)(a.Text,{size:"sm",children:e})]}),(0,s.jsx)(c.A,{color:"red",variant:"light",onClick:()=>z(t),children:(0,s.jsx)(h.Z,{size:16})})]},t))}),(!p.value||0===p.value.length)&&(0,s.jsx)(a.Text,{size:"sm",c:"#63707A",ta:"center",py:"xl",children:f})]})}})}},3591:function(e,t,l){"use strict";var s=l(68328),r=l(4505),a=l(80948);t.Z=e=>{let{children:t,onSubmit:l,resolver:n,defaultValues:i,onMethods:o}=e,d={};n&&(d.resolver=n),i&&(d.defaultValues=i);let c=(0,a.cI)(d),{handleSubmit:u,reset:m,formState:{isSubmitSuccessful:h}}=c;return(0,r.useEffect)(()=>{o&&o(c)},[c,o]),(0,r.useEffect)(()=>{h&&m(i)},[h,m,i]),(0,s.jsx)(a.RV,{...c,children:(0,s.jsx)("form",{onSubmit:u(l),children:t})})}},65038:function(e,t,l){"use strict";var s=l(68328),r=l(55911),a=l(4505),n=l(80948);let i=(0,a.memo)(function(e){let{type:t="text",name:l,placeholder:i,size:o="sm",label:d,required:c,handleChange:u,defaultValue:m,disabled:h=!1}=e,{control:x,setValue:p}=(0,n.Gc)();return(0,a.useEffect)(()=>{m&&p(l,m)},[m,l,p]),(0,s.jsx)(n.Qr,{control:x,name:l,render:e=>{let{field:a,fieldState:{error:n}}=e;return(0,s.jsx)(r.TextInput,{...a,label:(0,s.jsxs)("span",{children:[d,c&&(0,s.jsx)("span",{style:{color:"red",marginLeft:4},children:"*"})]}),type:t,size:o,onChange:e=>{a.onChange(e.target.value),null==u||u(e.target.value)},error:null==n?void 0:n.message,placeholder:i,disabled:h,onFocus:e=>{0==Number(e.currentTarget.value)&&p(l,"")}})}})});t.Z=i},72071:function(e,t,l){"use strict";var s=l(68328),r=l(4505),a=l(87967),n=l(80948);let i=(0,r.memo)(function(e){let{name:t,size:l="sm",label:i,placeholder:o,required:d=!1,options:c,handleChange:u,defaultValue:m,disabled:h=!1}=e,{control:x}=(0,n.Gc)(),{isSubmitSuccessful:p}=(0,n.cl)({control:x,name:t,exact:!0}),v=e=>{null==u||u(e)};return(0,s.jsx)(n.Qr,{control:x,name:t,defaultValue:m,render:e=>{let{field:t,fieldState:{error:s}}=e;return(0,r.createElement)(a.P,{...t,key:p?"reset":"normal",label:i,placeholder:o,onChange:e=>{t.onChange(e),v(e)},data:c,size:l,searchable:!0,required:d,value:t.value,error:null==s?void 0:s.message,disabled:h,clearable:!0})}})});t.Z=i},43495:function(e,t,l){"use strict";l.d(t,{a:function(){return f}});var s=l(68328);l(4505);var r=l(63773),a=l(55622),n=l(65786),i=l(28266),o=l(32451),d=l(36246);let[c,u]=(0,l(98296).R)("List component was not found in tree");var m={root:"m_abbac491",item:"m_abb6bec2",itemWrapper:"m_75cd9f71",itemIcon:"m_60f83e5b"};let h={},x=(0,d.d5)((e,t)=>{let{classNames:l,className:r,style:a,styles:i,vars:d,icon:c,children:m,mod:x,...p}=(0,n.w)("ListItem",h,e),v=u(),f=c||v.icon,j={classNames:l,styles:i};return(0,s.jsx)(o.Box,{...v.getStyles("item",{...j,className:r,style:a}),component:"li",mod:[{"with-icon":!!f,centered:v.center},x],ref:t,...p,children:(0,s.jsxs)("div",{...v.getStyles("itemWrapper",j),children:[f&&(0,s.jsx)("span",{...v.getStyles("itemIcon",j),children:f}),(0,s.jsx)("span",{...v.getStyles("itemLabel",j),children:m})]})})});x.classes=m,x.displayName="@mantine/core/ListItem";let p={type:"unordered"},v=(0,a.Z)((e,t)=>{let{size:l,spacing:s}=t;return{root:{"--list-fz":(0,r.yv)(l),"--list-lh":(0,r.Dp)(l),"--list-spacing":(0,r.bG)(s)}}}),f=(0,d.d5)((e,t)=>{let l=(0,n.w)("List",p,e),{classNames:r,className:a,style:d,styles:u,unstyled:h,vars:x,children:f,type:j,withPadding:g,icon:y,spacing:b,center:S,listStyleType:P,mod:k,...Z}=l,z=(0,i.y)({name:"List",classes:m,props:l,className:a,style:d,classNames:r,styles:u,unstyled:h,vars:x,varsResolver:v});return(0,s.jsx)(c,{value:{center:S,icon:y,getStyles:z},children:(0,s.jsx)(o.Box,{...z("root",{style:{listStyleType:P}}),component:"unordered"===j?"ul":"ol",mod:[{"with-padding":g},k],ref:t,...Z,children:f})})});f.classes=m,f.displayName="@mantine/core/List",f.Item=x},45437:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});let s=(0,l(52165).Z)("outline","edit","Edit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]])},42407:function(e,t,l){"use strict";l.d(t,{Z:function(){return s}});let s=(0,l(52165).Z)("outline","message","Message",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12",key:"svg-2"}]])}},function(e){e.O(0,[1601,3069,6945,3852,1656,9722,4670,9258,9533,966,12,7538,1166,7967,154,7186,1493,9669,7125,6889,6004,7974,4930,9175,7402,1744],function(){return e(e.s=38656)}),_N_E=e.O()}]);