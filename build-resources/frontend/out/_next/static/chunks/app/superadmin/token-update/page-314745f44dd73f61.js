(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[942],{55362:function(e,t,n){Promise.resolve().then(n.bind(n,10769))},10769:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var a=n(68328),r=n(4505),i=n(34473),s=n(89043),o=n(22041),d=n(41224),l=n(55911),u=n(29259),c=n(31204),p=n(47720),h=n(22115),m=n(23366),f=n(72940),k=n(6780),g=n(67732);let E=async e=>{try{let t=await k.default.patch("".concat("http://sasthotech.local:5000/api/v1","/diagnostic/ckeditor-token"),e,{...f.FD,...f.Hn});return{success:!0,data:t.data.data,message:t.data.message}}catch(e){if(e instanceof g.d7){var t;return{success:!1,message:(null===(t=e.response)||void 0===t?void 0:t.data.message)||"Update failed",data:null}}return{success:!1,message:"An unexpected error occurred",data:null}}};var x=function(){let[e,t]=(0,r.useState)(!1),n=(0,p.c)({initialValues:{ckEditorToken:"",ckEditorUpdateDate:null,ckEditorFreePlanDuration:14},validate:{ckEditorToken:e=>e?null:"Token is required",ckEditorFreePlanDuration:e=>void 0!==e&&e<0?"Duration must be positive":null}}),f=async e=>{try{t(!0);let{success:a}=await E(e);h.N9.show({title:"Success",message:"CKEditor settings updated successfully",color:"green"}),n.reset()}catch(e){h.N9.show({title:"Error",message:"Failed to update CKEditor settings",color:"red"})}finally{t(!1)}};return(0,a.jsx)(i.Container,{size:"sm",children:(0,a.jsxs)(s.X,{shadow:"lg",p:"md",radius:"md",children:[(0,a.jsx)(o.Text,{size:"xl",w:500,mb:"md",children:"Update CKEditor Settings"}),(0,a.jsx)("form",{onSubmit:n.onSubmit(f),children:(0,a.jsxs)(d.Stack,{gap:"md",children:[(0,a.jsx)(l.TextInput,{required:!0,label:"CKEditor Token",placeholder:"Enter your CKEditor token",...n.getInputProps("ckEditorToken")}),(0,a.jsx)(m.x,{label:"Update Date",placeholder:"Select update date and time",valueFormat:"DD MMM YYYY hh:mm A",clearable:!0,...n.getInputProps("ckEditorUpdateDate")}),(0,a.jsx)(u.Y,{label:"Free Plan Duration (days)",placeholder:"Enter duration in days",min:0,...n.getInputProps("ckEditorFreePlanDuration")}),(0,a.jsx)(c.Button,{type:"submit",loading:e,fullWidth:!0,children:"Update Settings"})]})})]})})}},72940:function(e,t,n){"use strict";n.d(t,{FD:function(){return r},Hn:function(){return a},y4:function(){return i}});let a={headers:{"Content-Type":"application/json"}},r={withCredentials:!0},i={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}}},function(e){e.O(0,[1601,3069,6945,1656,9722,4670,9533,12,7538,6306,7186,9645,107,9175,7402,1744],function(){return e(e.s=55362)}),_N_E=e.O()}]);