(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1191],{21420:function(e,t,a){Promise.resolve().then(a.bind(a,23303))},23303:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return D}});var n=a(68328),s=a(14443),i=a(87967),c=a(31204),o=a(29593),r=a(7140),l=a(22041),d=a(94131),u=a(12450),m=a(4505),g=a(56815),h=a.n(g),p=a(22614),f=a(9722),v=e=>{let{item:t}=e,[a,s]=(0,m.useState)(0);return(0,m.useEffect)(()=>{s(null==t?void 0:t.percentage)},[null==t?void 0:t.percentage]),(0,n.jsx)(p.Group,{children:(0,n.jsx)(f.I,{variant:"filled",size:"sm",value:a,readOnly:!0,placeholder:"Set Discount",onChange:e=>{s(Number(e.target.value))}})})},x=a(72940),j=a(6780),_=a(67732);let N=async e=>{let{page:t,limit:a}=e;try{let e="".concat("http://sasthotech.local:5000/api/v1","/admin/doctor?isAppointed=",!0,"&");t&&a&&(e+="page=".concat(t,"&limit=").concat(a));let n=await j.default.get(e,x.FD);return{success:!0,data:n.data.data}}catch(e){if(e instanceof _.d7){var n;return{success:!1,data:null===(n=e.response)||void 0===n?void 0:n.data.message}}return{success:!1,data:"An error occurred"}}};var y=a(78256),C=a(90660),w=a.n(C),D=()=>{let e=(0,u.useSearchParams)(),t=(0,u.useRouter)(),[a,g]=(0,m.useState)(""),[p,f]=(0,m.useState)([]),[x,j]=(0,m.useState)(0),_=async e=>{let{success:t,data:a}=await (0,y.W)(e);t?f(p.filter(t=>t.id!==e)):w().fire("Error",a,"error")};return(0,m.useEffect)(()=>{(async()=>{let{success:t,data:a}=await N({page:e.get("page")||"1",limit:e.get("limit")||"16"});t&&(j(null==a?void 0:a.totalPage),f(a.items))})()},[e]),(0,n.jsxs)("div",{className:h().container,children:[" ",(0,n.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,n.jsx)("div",{children:(0,n.jsx)("h2",{className:"fw-bold",children:"Commissioned Doctors "})}),(0,n.jsx)(i.P,{label:"Select Limit",data:["16","32","48","64","80","96"],value:e.get("limit")||"16",onChange:a=>t.push("?limit=".concat(a,"&page=").concat(e.get("page")||1))})]}),(0,n.jsx)("div",{className:"d-flex justify-content-md-start align-items-center justify-content-center my-2",children:(0,n.jsxs)(c.Button,{color:"#2A85FF",onClick:()=>t.push("/doctor/add-doctor/new-doctor"),size:"md",children:[(0,n.jsx)(d.Z,{}),(0,n.jsx)(o.Space,{w:4}),"Add New Doctor"]})}),(null==p?void 0:p.length)!==0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"m-4",children:(0,n.jsx)(s.Z,{headers:["Doctor Name","Designation","Commission","Actions"],data:p||[],dataKeys:["name","designation","percentage"],customComponentKeyName:"percentage",isEditable:!0,editLink:"/doctor/details",queryParamName:"doctorId",isDeleteAble:!0,deleteFunction:_,customComponent:e=>(0,n.jsx)(v,{item:e})})}),(0,n.jsx)("div",{className:h().pagination,children:(0,n.jsx)(r.t,{value:parseInt(e.get("page")||"1"),onChange:a=>t.push("?limit=".concat(e.get("limit")||16,"&page=").concat(a)),total:x})})]}):(0,n.jsx)(l.Text,{ta:"center",size:"xl",c:"red",fw:700,children:"No Doctor Found"})]})}},78256:function(e,t,a){"use strict";a.d(t,{W:function(){return c}});var n=a(72940),s=a(6780),i=a(67732);let c=async e=>{try{let t=await s.default.delete("".concat("http://sasthotech.local:5000/api/v1","/admin/doctor/").concat(e),n.FD);return{success:!0,data:t.data.data}}catch(e){if(e instanceof i.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}}},56815:function(e){e.exports={container:"DoctorContainer_container___SgT1",highlight:"DoctorContainer_highlight__zZjVl",pagination:"DoctorContainer_pagination__6BY_I",designation:"DoctorContainer_designation__rwOlQ"}}},function(e){e.O(0,[1601,2975,3069,6945,3852,1656,9722,4670,9533,1166,7967,6029,154,7698,4927,7140,1805,9746,5490,9175,7402,1744],function(){return e(e.s=21420)}),_N_E=e.O()}]);