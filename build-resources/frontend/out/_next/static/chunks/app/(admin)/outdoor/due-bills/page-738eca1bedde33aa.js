(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5547],{41516:function(e,t,n){Promise.resolve().then(n.bind(n,66990))},66990:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var l=n(68328),a=n(91171),o=n(94131),i=n(22104),s=n(4505),r=n(70818),c=n(91848),u=n(61501),d=n(81009),f=n.n(d),x=n(67963),h=n(72940),m=n(6780),v=n(67732);let p=async e=>{let{from:t,to:n,limit:l=25,page:a,isOwn:o=!1,filterData:i,phone:s,patientId:r,userId:c}=e;try{(t=new Date("2025-01-01")).setHours(0,0,0,0),(n=new Date).setHours(23,59,59,999);let e=await m.default.get("bill",{baseURL:"http://sasthotech.local:5000/api/v1",params:{from:t,to:n,limit:l,page:a,isOwn:o,...i,isPaid:!1,phone:s,patientId:r,userId:c},...h.FD});return{success:!0,data:e.data.data}}catch(e){if(e instanceof v.d7){var u;return{success:!1,data:null===(u=e.response)||void 0===u?void 0:u.data.message}}return{success:!1,data:"An error occurred"}}};var j=n(12450),b=n(53502),D=n(69667),C=()=>{let[e,t]=(0,s.useState)({paymentFilter:"due"}),[n,d]=(0,s.useState)([null,null]),[h,m]=(0,s.useState)(null),[v,C]=(0,s.useState)(null),k=(0,b.v9)(e=>e.auth.user),g=(0,j.useSearchParams)();(0,b.v9)(e=>e.dates);let{isLoading:I,data:P,refetch:w}=(0,x.Z)(n,e,m,v,!1,p,!g.get("overall")&&(null==k?void 0:k.role)==="receptionist");return(0,l.jsxs)("div",{className:f().container,children:[(0,l.jsx)(a.Z,{headerText:"Due Bills",doesDatePickerExists:!1,doesButtonExists:!0,buttonText:"Create New Bill",buttonIcon:(0,l.jsx)(o.Z,{size:20}),routeLink:"/billing",setValue:d,btnBg:"#1A72E9"}),(0,l.jsx)(D.W,{}),(0,l.jsxs)(r.default,{className:"bg-white mt-3 py-3 rounded-3 gy-3",children:[(0,l.jsx)(c.Z,{textColor:"black",bgColorIconContainer:"black",colorOfIcon:"white",color:"#CABDFF40",amount:"".concat((null==h?void 0:h.totalCount)||0),title:"Total Due Bills",col:4,icon:(0,l.jsx)(i.Z,{})}),(0,l.jsx)(c.Z,{textColor:"black",bgColorIconContainer:"black",colorOfIcon:"white",color:"#E9F6FC",amount:"".concat((null==h?void 0:h.totalAmount)||0),title:"Total Amount",col:4,icon:(0,l.jsx)(i.Z,{})}),(0,l.jsx)(c.Z,{textColor:"black",bgColorIconContainer:"red",colorOfIcon:"white",color:"#FFEBEE",amount:"".concat(parseInt(((null==h?void 0:h.totalAmount)||0).toString())-parseInt(((null==h?void 0:h.paidAmount)||0).toString())),title:"Due Amount",col:4,icon:(0,l.jsx)(i.Z,{})})]}),(0,l.jsx)(u.Z,{showFilter:!0,filterObject:e,setFilterObject:e=>{t({...e,paymentFilter:"due"})},selectedObj:v,extraInfo:h,setExtraInfo:m,dates:n,testInfo:null==P?void 0:P.items,totalPages:null==P?void 0:P.totalPage,limit:!1,setSelectedObj:C,refetch:w})]})}},91171:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var l=n(68328);n(4505);var a=n(77052),o=n(60331),i=n(67781),s=n(14702),r=n.n(s),c=n(16098),u=n(76889),d=e=>{let{type:t,setValue:n,setDate:s,setMonth:d,maxDate:f=!0,defaultValue:x,minDate:h}=e,m=(0,c.j)({components:{DatePickerInput:a.DatePickerInput.extend({classNames:r()}),MonthPickerInput:o.MonthPickerInput.extend({classNames:r()})}});return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(u.MantineProvider,{theme:m,children:d?(0,l.jsx)(o.MonthPickerInput,{leftSection:(0,l.jsx)(i.Z,{size:20}),leftSectionPointerEvents:"none",onChange:d,size:"md",radius:"md",variant:"filled"}):s?(0,l.jsx)(a.DatePickerInput,{type:"default",clearable:!0,onChange:s,defaultValue:x,leftSection:(0,l.jsx)(i.Z,{size:20}),maxDate:f?new Date:void 0,size:"md",minDate:h,radius:"md",variant:"filled"}):(0,l.jsx)(a.DatePickerInput,{type:"range",clearable:!0,valueFormat:"DD MMM, YYYY",onChange:n,leftSection:(0,l.jsx)(i.Z,{size:20}),maxDate:new Date,defaultValue:[new Date,new Date],size:"md",radius:"md",variant:"filled"})})})},f=n(71),x=n.n(f),h=n(91952),m=e=>{let{setValue:t,disableBtn:n,setMonth:a,setDate:o,headerText:i,buttonText:s="",buttonIcon:r,isButtonTextRightSide:c,onClick:u,doesButtonExists:f=!1,spaceBetweenDateAndHeader:m=!1,doesDatePickerExists:v=!1,buttonVariant:p="filled",routeLink:j,btnBg:b,defaultValue:D,maxDate:C,minDate:k}=e;return(0,l.jsxs)("div",{className:x().sectionHeaderParent,children:[(0,l.jsxs)("div",{style:m?{justifyContent:"space-between",width:"100%"}:{},className:x().sectionHeaderContainer,children:[(0,l.jsx)("h1",{className:"fw-bold",children:i}),v&&(0,l.jsx)(d,{setValue:t,setMonth:a,setDate:o,defaultValue:D,maxDate:C,minDate:k})]}),f&&(0,l.jsx)(h.Z,{btnBg:b,variant:p,buttonText:s,buttonIcon:r,isButtonTextRightSide:c,onClick:u||void 0,routeLink:j})]})}},81009:function(e){e.exports={container:"container_container__bMtJN"}},71:function(e){e.exports={sectionHeaderParent:"SectionHeader_sectionHeaderParent__oBL0i",sectionHeaderContainer:"SectionHeader_sectionHeaderContainer__6KnH7"}},14702:function(e){e.exports={input:"DatePickerField_input__Gn9FX"}},94131:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});let l=(0,n(52165).Z)("filled","square-rounded-plus-filled","SquareRoundedPlusFilled",[["path",{d:"M12 2l.324 .001l.318 .004l.616 .017l.299 .013l.579 .034l.553 .046c4.785 .464 6.732 2.411 7.196 7.196l.046 .553l.034 .579c.005 .098 .01 .198 .013 .299l.017 .616l.005 .642l-.005 .642l-.017 .616l-.013 .299l-.034 .579l-.046 .553c-.464 4.785 -2.411 6.732 -7.196 7.196l-.553 .046l-.579 .034c-.098 .005 -.198 .01 -.299 .013l-.616 .017l-.642 .005l-.642 -.005l-.616 -.017l-.299 -.013l-.579 -.034l-.553 -.046c-4.785 -.464 -6.732 -2.411 -7.196 -7.196l-.046 -.553l-.034 -.579a28.058 28.058 0 0 1 -.013 -.299l-.017 -.616c-.003 -.21 -.005 -.424 -.005 -.642l.001 -.324l.004 -.318l.017 -.616l.013 -.299l.034 -.579l.046 -.553c.464 -4.785 2.411 -6.732 7.196 -7.196l.553 -.046l.579 -.034c.098 -.005 .198 -.01 .299 -.013l.616 -.017c.21 -.003 .424 -.005 .642 -.005zm0 6a1 1 0 0 0 -1 1v2h-2l-.117 .007a1 1 0 0 0 .117 1.993h2v2l.007 .117a1 1 0 0 0 1.993 -.117v-2h2l.117 -.007a1 1 0 0 0 -.117 -1.993h-2v-2l-.007 -.117a1 1 0 0 0 -.993 -.883z",fill:"currentColor",key:"svg-0",strokeWidth:"0"}]])}},function(e){e.O(0,[1601,2975,3313,9826,4404,3439,7281,7852,3069,6945,3852,1656,9722,4670,9258,9533,966,12,7538,1166,7967,6029,154,6306,7698,3583,7186,4890,7125,729,4548,7484,1169,8532,557,3708,5385,6727,1028,3974,4564,9175,7402,1744],function(){return e(e.s=41516)}),_N_E=e.O()}]);