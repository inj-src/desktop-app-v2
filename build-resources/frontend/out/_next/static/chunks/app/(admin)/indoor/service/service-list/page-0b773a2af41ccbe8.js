(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3682],{47913:function(e,t,r){Promise.resolve().then(r.bind(r,79498))},79498:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Z}});var n=r(68328),a=r(7203),i=r(72940),s=r(6780),c=r(67732);let l=async e=>{try{let t=await s.default.delete("".concat("http://sasthotech.local:5000/api/v1","/service/").concat(e),i.FD);return{success:!0,data:t.data.data}}catch(e){if(e instanceof c.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}};var u=r(80538),o=r(25499),d=r(13713),f=r(22614),v=r(68242),h=r(31204),p=r(54632),m=r(3741),x=r(22975),j=r(94131),y=r(44019),T=r(12697),b=r(4505),w=r(90660),_=r.n(w),C=r(39097),g=r.n(C),S=r(46557),A=r(62379),E=r(13520),B=r(89876),N=()=>{let e=(0,o.T)(),[t,{open:r,close:i}]=(0,S.q)(!1),[s,c]=(0,b.useState)(),w=(0,o.C)(e=>e.services.services);return((0,b.useEffect)(()=>{(async()=>{let{success:t,data:r}=await (0,u.B)();t?e((0,d.H_)(r)):_().fire("Error",r,"error")})()},[e]),w)?(0,n.jsxs)("div",{className:g().container,children:[(0,n.jsxs)(f.Group,{mb:"md",children:[(0,n.jsx)(v.Title,{mr:"auto",children:"All Services"}),(0,n.jsx)(h.Button,{component:E.default,href:"/indoor/service/add-new-services",size:"md",radius:"md",leftSection:(0,n.jsx)(j.Z,{}),children:"Add New Service"})]}),(0,n.jsx)(B.Z,{headers:["Service Name","Per Unit Price","Actions"].map(e=>(0,n.jsx)(p.i.Th,{children:e},e)),rows:null==w?void 0:w.map(t=>(0,n.jsxs)(p.i.Tr,{children:[(0,n.jsx)(p.i.Td,{children:t.name}),(0,n.jsx)(p.i.Td,{children:t.price}),(0,n.jsx)(p.i.Td,{children:(0,n.jsxs)(f.Group,{children:[(0,n.jsx)(m.A,{variant:"transparent",onClick:()=>{c(t),r()},children:(0,n.jsx)(y.Z,{})}),(0,n.jsx)(m.A,{variant:"transparent",onClick:async()=>{if((await _().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#fa5252",confirmButtonText:"Yes, delete it!",focusCancel:!0})).isConfirmed){let{success:r,data:n}=await l(t.id);r?(e((0,d.wo)(t.id)),_().fire({title:"Deleted!",text:"Your service has been deleted.",icon:"success"})):_().fire("Error",n,"error")}},children:(0,n.jsx)(T.Z,{})})]})})]},t.id))}),(0,n.jsx)(x.u,{opened:t,onClose:i,title:"Enter Service Details",children:s&&(0,n.jsx)(A.V,{service:s,onValue:async()=>{await _().fire({title:"Updated!",text:"Your service has been updated.",icon:"success"}),i()}},s.id)})]}):(0,n.jsx)(a.Z,{})},Z=()=>(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(N,{})})},62379:function(e,t,r){"use strict";r.d(t,{V:function(){return T}});var n=r(68328),a=r(10713),i=r(31100),s=r(72940),c=r(6780),l=r(67732);let u=async e=>{try{let t=await c.default.post("".concat("http://sasthotech.local:5000/api/v1","/service").concat(Array.isArray(e)?"/multi":""),e,{...s.FD,...s.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof l.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}},o=async(e,t)=>{try{let r=await c.default.patch("".concat("http://sasthotech.local:5000/api/v1","/service/").concat(t),e,{...s.FD,...s.Hn});return{success:!0,data:r.data.data}}catch(e){if(e instanceof l.d7){var r;return{success:!1,data:null===(r=e.response)||void 0===r?void 0:r.data.message}}return{success:!1,data:"An error occurred"}}};var d=r(25499),f=r(13713),v=r(91793),h=r(76283),p=r(23583),m=r(90660),x=r.n(m),j=r(14193);let y=j.Ry({name:j.Z_().required(v.B),price:j.Rx().required(v.B)}),T=e=>{var t,r;let{service:s,onValue:c}=e,l=(0,d.T)();return(0,n.jsx)(p.J9,{validationSchema:y,initialValues:{name:null!==(t=null==s?void 0:s.name)&&void 0!==t?t:"",price:null!==(r=null==s?void 0:s.price)&&void 0!==r?r:0},onSubmit:async(e,t)=>{let{setSubmitting:r,resetForm:n}=t;try{let{success:t,data:r}=await ((null==s?void 0:s.id)?o(e,s.id):u(e));t?(l((0,f.H_)(r)),null==c||c(r)):x().fire("Failed",r,"error"),n()}finally{r(!1)}},children:(0,n.jsxs)(p.l0,{children:[(0,n.jsx)(a.Z,{name:"name",labelText:"Service Name",placeholder:"Type name",withAsterisk:!0,mt:0,"data-autofocus":!0}),(0,n.jsx)(a.Z,{name:"price",labelText:"Price",placeholder:"Type price",type:"number",min:0,withAsterisk:!0,mb:"md"}),(0,n.jsx)(i.M,{size:"md",radius:"md",leftSection:(0,n.jsx)(h.Z,{}),children:"Save"})]})})}},7203:function(e,t,r){"use strict";var n=r(68328),a=r(14587);r(4505),t.Z=()=>(0,n.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:600},children:(0,n.jsx)(a.Loader,{color:"teal",variant:"dots"})})},89876:function(e,t,r){"use strict";var n=r(68328),a=r(54632),i=r(7518),s=r.n(i),c=r(13520);t.Z=e=>{let{headers:t,rows:r,header:i,withColumnBorders:l,isStriped:u=!1,withRowBorders:o=!0,seeExtra:d=!1,extraLink:f,smallPadding:v,withTableBorder:h,extraClassForTable:p={},children:m,withBorder:x}=e;return(0,n.jsxs)("div",{className:"bg-white p-0 rounded-4",children:[(0,n.jsx)(a.i.ScrollContainer,{className:"p-0",minWidth:767,children:(0,n.jsxs)(a.i,{styles:{td:{paddingTop:v?8:16,paddingBottom:v?8:16},...p},striped:u,withRowBorders:o,withColumnBorders:l,withTableBorder:h,children:[(0,n.jsx)(a.i.Thead,{className:"w-100",children:(0,n.jsx)(a.i.Tr,{children:t})}),(0,n.jsxs)(a.i.Tbody,{children:[r,m]})]})}),d&&(0,n.jsx)("div",{className:s().extra,children:(0,n.jsxs)(c.default,{href:f||"/",children:["See more ",i]})})]})}},10713:function(e,t,r){"use strict";r.d(t,{E:function(){return f}});var n=r(68328),a=r(30331),i=r(30293),s=r(55911),c=r(87513),l=r(58689),u=r(73626),o=r(23583),d=r(4505);let f={size:"md",variant:"default",radius:"md"},v=(0,i.F)((0,d.forwardRef)(function(e,t){let{labelText:r,labelTextColor:i,size:v=f.size,variant:h=f.variant,radius:p=f.radius,mt:m="md",withAsterisk:x=!1,onChange:j,onBlur:y,onClick:T,readonly:b,styles:w,value:_,...C}=e,g=Object.assign({label:{color:null!=i?i:"black"}},w),[{value:S,onChange:A,onBlur:E,...B},N,Z]=(0,o.U$)(C.name),k=(0,d.useRef)(null),F=(0,l.Yx)(t,k),P=(0,u.y)(()=>{if(k.current){let e;let{type:t,value:r}=k.current;Z.setValue("number"===t?isNaN(e=parseFloat(r))?"":e:r)}},200);return(0,d.useEffect)(()=>{k.current&&k.current.value!==S&&!(document.hasFocus()&&document.activeElement===k.current)&&(k.current.value=null!=S?S:"")},[S]),(0,n.jsx)(s.TextInput,{label:r,readOnly:b,ref:F,error:N.touched&&N.error,styles:g,defaultValue:S,onChange:e=>{P()},onBlur:e=>{null==y||y(e),E(e)},onClick:e=>{"number"===C.type&&"0"===e.currentTarget.value&&e.currentTarget.select(),null==T||T(e)},onWheel:a.P,rightSectionPointerEvents:"all",rightSection:(0,n.jsx)(c.P,{"aria-label":"Clear input",onClick:()=>{Z.setValue(""),k.current&&(k.current.value="")},style:{display:S?void 0:"none"}}),...B,size:v,variant:h,radius:p,mt:m,withAsterisk:x,...C})}));t.Z=v},31100:function(e,t,r){"use strict";r.d(t,{M:function(){return s}});var n=r(68328),a=r(31204),i=r(23583);function s(e){let{loading:t,disabled:r,...s}=e,{isSubmitting:c}=(0,i.u6)();return(0,n.jsx)(a.Button,{type:"submit",loading:c||t,disabled:c||r,...s})}},72940:function(e,t,r){"use strict";r.d(t,{FD:function(){return a},Hn:function(){return n},y4:function(){return i}});let n={headers:{"Content-Type":"application/json"}},a={withCredentials:!0},i={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},80538:function(e,t,r){"use strict";r.d(t,{B:function(){return i}});var n=r(49854),a=r(67732);let i=async()=>{try{let e=await (0,n.d)("service");return{success:!0,data:e.data}}catch(t){if(t instanceof a.d7){var e;return{success:!1,data:null===(e=t.response)||void 0===e?void 0:e.data.message}}return{success:!1,data:"An error occurred"}}}},25499:function(e,t,r){"use strict";r.d(t,{C:function(){return i},T:function(){return a}});var n=r(53502);let a=()=>(0,n.I0)(),i=n.v9},13713:function(e,t,r){"use strict";r.d(t,{H_:function(){return a},wo:function(){return i}});let n=(0,r(79258).createSlice)({name:"services",initialState:{services:null},reducers:{setServices:(e,t)=>{let{payload:r}=t;if(Array.isArray(r))e.services=r.toSorted((e,t)=>e.id.localeCompare(t.id));else{var n,a;let t=!1,i=null!==(a=null===(n=e.services)||void 0===n?void 0:n.map(e=>e.id===r.id?(t=!0,r):e))&&void 0!==a?a:[];t||i.push(r),e.services=i}},deleteService:(e,t)=>{e.services&&(e.services=e.services.filter(e=>e.id!==t.payload))}}}),{setServices:a,deleteService:i}=n.actions;t.ZP=n.reducer},49854:function(e,t,r){"use strict";let n;r.d(t,{d:function(){return u},x:function(){return l}});var a=r(72940),i=r(6780),s=r(67732),c=r(28317);function l(){return n||(n=(0,c.MT)("cached-responses-store","cached-responses")),n}async function u(e,t){try{let r=await i.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:t,...a.FD});return await (0,c.t8)(e,r.data,l()),r.data}catch(t){if(t instanceof s.d7&&[s.d7.ERR_NETWORK,s.d7.ETIMEDOUT].includes(t.code)){let t=await (0,c.U2)(e,l());if(t)return t}throw t instanceof s.d7&&t.response&&401===t.response.status||console.error(t),t}}},30331:function(e,t,r){"use strict";function n(e){e.currentTarget.blur(),e.stopPropagation(),setTimeout(()=>{var t;null==e||null===(t=e.currentTarget)||void 0===t||t.focus()},0)}r.d(t,{P:function(){return n}})},91793:function(e,t,r){"use strict";r.d(t,{B:function(){return n}});let n=e=>{let{label:t,path:r}=e;return"".concat(null!=t?t:r.split(".").map(e=>e?e[0].toUpperCase()+e.slice(1):"").join(" ")," is required")}},39097:function(e){e.exports={container:"AllService_container__tx4GC"}},7518:function(e){e.exports={paid:"CustomTable_paid__E18ph",refund:"CustomTable_refund__ajKT1",due:"CustomTable_due___zEjL",extra:"CustomTable_extra__iSZ0R",table:"CustomTable_table__5eJFP",table1:"CustomTable_table1__ekRZh"}}},function(e){e.O(0,[1601,2975,3069,6945,3852,1656,9722,4670,9258,12,7538,154,3583,4193,4312,9175,7402,1744],function(){return e(e.s=47913)}),_N_E=e.O()}]);