(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6345],{5407:function(e,t,n){Promise.resolve().then(n.bind(n,68248))},68248:function(e,t,n){"use strict";n.r(t);var a=n(68328),o=n(91171),s=n(94131),l=n(22104),i=n(4505),r=n(70818),c=n(91848),u=n(61501),d=n(67963),x=n(13720),f=n(12450),m=n(53502),h=n(69667),j=n(34473);t.default=()=>{let[e,t]=(0,i.useState)({}),[n,v]=(0,i.useState)([null,null]),[b,p]=(0,i.useState)(null),[D,C]=(0,i.useState)(null),g=(0,m.v9)(e=>e.auth.user),k=(0,f.useSearchParams)(),w=(0,m.v9)(e=>e.dates),{isLoading:I,data:P,refetch:S}=(0,d.Z)(null==w?void 0:w.dates,e,p,D,!0,x.Q,!k.get("overall")&&(null==g?void 0:g.role)==="receptionist");return(0,a.jsxs)(j.Container,{size:"xl",py:"lg",children:[(0,a.jsx)(o.Z,{headerText:"Billing",doesDatePickerExists:!1,doesButtonExists:!0,buttonText:"Create New Bill",buttonIcon:(0,a.jsx)(s.Z,{size:20}),routeLink:"/billing",setValue:v,btnBg:"#1A72E9"}),(0,a.jsx)(h.W,{}),(0,a.jsxs)(r.default,{className:"bg-white mt-3 py-3 rounded-3 gy-3",children:[(0,a.jsx)(c.Z,{textColor:"black",bgColorIconContainer:"black",colorOfIcon:"white",color:"#CABDFF40",amount:"".concat((null==b?void 0:b.totalCount)||0),title:"Total Bill",col:4,icon:(0,a.jsx)(l.Z,{})}),(0,a.jsx)(c.Z,{textColor:"black",bgColorIconContainer:"black",colorOfIcon:"white",color:"#E9F6FC",amount:"".concat((null==b?void 0:b.totalAmount)||0),title:"Total Amount",col:4,icon:(0,a.jsx)(l.Z,{})}),(0,a.jsx)(c.Z,{textColor:"black",bgColorIconContainer:"black",colorOfIcon:"white",color:"#CABDFF40",amount:"".concat(parseInt(((null==b?void 0:b.totalAmount)||0).toString())-parseInt(((null==b?void 0:b.paidAmount)||0).toString())),title:"Due Amount",col:4,icon:(0,a.jsx)(l.Z,{})})]}),(0,a.jsx)(u.Z,{showFilter:!0,filterObject:e,setFilterObject:t,selectedObj:D,extraInfo:b,setExtraInfo:p,dates:n,testInfo:null==P?void 0:P.items,totalPages:null==P?void 0:P.totalPage,limit:!1,setSelectedObj:C,refetch:S})]})}},91171:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var a=n(68328);n(4505);var o=n(77052),s=n(60331),l=n(67781),i=n(14702),r=n.n(i),c=n(16098),u=n(76889),d=e=>{let{type:t,setValue:n,setDate:i,setMonth:d,maxDate:x=!0,defaultValue:f,minDate:m}=e,h=(0,c.j)({components:{DatePickerInput:o.DatePickerInput.extend({classNames:r()}),MonthPickerInput:s.MonthPickerInput.extend({classNames:r()})}});return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(u.MantineProvider,{theme:h,children:d?(0,a.jsx)(s.MonthPickerInput,{leftSection:(0,a.jsx)(l.Z,{size:20}),leftSectionPointerEvents:"none",onChange:d,size:"md",radius:"md",variant:"filled"}):i?(0,a.jsx)(o.DatePickerInput,{type:"default",clearable:!0,onChange:i,defaultValue:f,leftSection:(0,a.jsx)(l.Z,{size:20}),maxDate:x?new Date:void 0,size:"md",minDate:m,radius:"md",variant:"filled"}):(0,a.jsx)(o.DatePickerInput,{type:"range",clearable:!0,valueFormat:"DD MMM, YYYY",onChange:n,leftSection:(0,a.jsx)(l.Z,{size:20}),maxDate:new Date,defaultValue:[new Date,new Date],size:"md",radius:"md",variant:"filled"})})})},x=n(71),f=n.n(x),m=n(91952),h=e=>{let{setValue:t,disableBtn:n,setMonth:o,setDate:s,headerText:l,buttonText:i="",buttonIcon:r,isButtonTextRightSide:c,onClick:u,doesButtonExists:x=!1,spaceBetweenDateAndHeader:h=!1,doesDatePickerExists:j=!1,buttonVariant:v="filled",routeLink:b,btnBg:p,defaultValue:D,maxDate:C,minDate:g}=e;return(0,a.jsxs)("div",{className:f().sectionHeaderParent,children:[(0,a.jsxs)("div",{style:h?{justifyContent:"space-between",width:"100%"}:{},className:f().sectionHeaderContainer,children:[(0,a.jsx)("h1",{className:"fw-bold",children:l}),j&&(0,a.jsx)(d,{setValue:t,setMonth:o,setDate:s,defaultValue:D,maxDate:C,minDate:g})]}),x&&(0,a.jsx)(m.Z,{btnBg:p,variant:v,buttonText:i,buttonIcon:r,isButtonTextRightSide:c,onClick:u||void 0,routeLink:b})]})}},13720:function(e,t,n){"use strict";n.d(t,{Q:function(){return l}});var a=n(72940),o=n(6780),s=n(67732);let l=async e=>{let{from:t,to:n,limit:l,page:i,isOwn:r=!1,filterData:c,phone:u,patientId:d,labId:x,testId:f,userId:m}=e;try{t?(t=new Date(t)).setHours(0,0,0,0):(t=new Date("2025-01-01")).setHours(0,0,0,0),n?(n=new Date(n)).setHours(23,59,59,999):(n=new Date).setHours(23,59,59,999);let e=await o.default.get("bill",{baseURL:"http://sasthotech.local:5000/api/v1",params:{from:t,to:n,limit:l,page:i,isOwn:r,testId:f,...c,phone:u,patientId:d,labId:x,userId:m},...a.FD});return{success:!0,data:e.data.data}}catch(e){if(e instanceof s.d7){var h;return{success:!1,data:null===(h=e.response)||void 0===h?void 0:h.data.message}}return{success:!1,data:"An error occurred"}}}},71:function(e){e.exports={sectionHeaderParent:"SectionHeader_sectionHeaderParent__oBL0i",sectionHeaderContainer:"SectionHeader_sectionHeaderContainer__6KnH7"}},14702:function(e){e.exports={input:"DatePickerField_input__Gn9FX"}}},function(e){e.O(0,[1601,2975,3313,9826,4404,3439,7281,7852,3069,6945,3852,1656,9722,4670,9258,9533,966,12,7538,1166,7967,6029,154,6306,7698,3583,7186,4890,7125,729,4548,7484,1169,8532,557,819,5385,6727,1028,3974,4564,9175,7402,1744],function(){return e(e.s=5407)}),_N_E=e.O()}]);