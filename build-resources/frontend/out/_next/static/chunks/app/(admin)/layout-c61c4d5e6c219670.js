(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4480,5865],{74993:function(e,t,n){Promise.resolve().then(n.bind(n,49853))},61321:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(48694),o=n(21279),a=n(47003),i=n(44377),l=n(65399),s=n(55749);function u(e,t){if((0,l.Z)(2,arguments),!t||"object"!==(0,r.Z)(t))return new Date(NaN);var n=t.years?(0,s.Z)(t.years):0,u=t.months?(0,s.Z)(t.months):0,c=t.weeks?(0,s.Z)(t.weeks):0,d=t.days?(0,s.Z)(t.days):0,v=t.hours?(0,s.Z)(t.hours):0,m=t.minutes?(0,s.Z)(t.minutes):0,p=t.seconds?(0,s.Z)(t.seconds):0,f=(0,i.Z)(e),g=u||n?(0,a.Z)(f,u+12*n):f;return new Date((d||c?(0,o.Z)(g,d+7*c):g).getTime()+1e3*(p+60*(m+60*v)))}},21279:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(55749),o=n(44377),a=n(65399);function i(e,t){(0,a.Z)(2,arguments);var n=(0,o.Z)(e),i=(0,r.Z)(t);return isNaN(i)?new Date(NaN):(i&&n.setDate(n.getDate()+i),n)}},47003:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(55749),o=n(44377),a=n(65399);function i(e,t){(0,a.Z)(2,arguments);var n=(0,o.Z)(e),i=(0,r.Z)(t);if(isNaN(i))return new Date(NaN);if(!i)return n;var l=n.getDate(),s=new Date(n.getTime());return(s.setMonth(n.getMonth()+i+1,0),l>=s.getDate())?s:(n.setFullYear(s.getFullYear(),s.getMonth(),l),n)}},37873:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(31749),o=n(78259),a=n(65399);function i(e,t){(0,a.Z)(2,arguments);var n=(0,o.Z)(e),i=(0,o.Z)(t);return Math.round((n.getTime()-(0,r.Z)(n)-(i.getTime()-(0,r.Z)(i)))/864e5)}},49853:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return C}});var r=n(68328),o=n(51172),a=n(22975),i=n(41224),l=n(23138),s=n(22041),u=n(22614),c=n(31204),d=n(4505),v=n(37873),m=n(41185),p=n(65399),f=n(11659),g=n(61321),h=n(97698),w=n(21279),y=n(25499),x=n(27553),D=n(13520),b=()=>{let e=(0,y.C)(e=>e.auth.diagnostic),[t,n]=(0,d.useState)(null),[o,b]=(0,d.useState)(!1),[k,C]=(0,d.useState)(null);return(0,d.useEffect)(()=>{if(!e)return;let t=(0,v.Z)(new Date,(null==e?void 0:e.paymentDate)?new Date(null==e?void 0:e.paymentDate):new Date),r=function(e,t,n){(0,p.Z)(2,arguments);var r=(0,m.Z)(e,t)/1e3;return(0,f.u)(null==n?void 0:n.roundingMethod)(r)}((0,g.Z)(new Date((null==e?void 0:e.serviceChargePaymentDate)||""),{days:null==e?void 0:e.serviceChargePaymentPeriod}),new Date);e.serviceCharge||e.indoorServiceCharge?(n(r),r<=86400&&b(!0)):(n(t),t>27&&b(!0)),(async()=>{let e=await (0,x.d)({});e.success&&C(e.data)})()},[e,null==e?void 0:e.paymentDate]),(0,r.jsxs)(a.u,{p:20,centered:!0,size:"60%",opened:o,onClose:()=>{(t&&t>27&&t<=30||"object"!=typeof t&&((null==e?void 0:e.serviceCharge)||(null==e?void 0:e.indoorServiceCharge))&&t<=86400&&t>=0)&&b(!1)},styles:{close:{color:"black"}},withCloseButton:!!t&&t>27&&t<=30||"object"!=typeof t&&(null!=e&&!!e.serviceCharge||null!=e&&!!e.indoorServiceCharge)&&t<=86400&&t>=0,children:[(0,r.jsxs)(i.Stack,{align:"center",children:[(0,r.jsx)(l.E,{alt:"Payment Photo",src:"/qr_code.png",h:300,w:300}),(0,r.jsx)("pre",{children:(0,r.jsx)(s.Text,{size:"md",fw:600,children:"বিকাশ অ্যাপ দিয়ে, QR কোডটি স্ক্যান করুন এবং Reference এ আপনার প্রতিষ্ঠানের নাম উল্লেখ করুন ।"})})]}),(0,r.jsx)(i.Stack,{align:"center",children:(0,r.jsxs)(i.Stack,{children:[(0,r.jsxs)(u.Group,{children:[(0,r.jsx)(l.E,{alt:"Bkash",radius:"lg",h:75,w:"auto",fit:"contain",src:"/images/bkash.png"}),(null==e?void 0:e.serviceCharge)||(null==e?void 0:e.indoorServiceCharge)?(((null==k?void 0:k.sumOfCharge._sum.serviceCharge)||0)+((null==k?void 0:k.sumOfIndoorCharge._sum.serviceCharge)||0)).toFixed(2):((null==e?void 0:e.paymentAmount)||0).toFixed(2)," ","BDT"]}),t&&t>30||"object"!=typeof t&&t<0?(0,r.jsx)(s.Text,{c:"red",px:20,fw:700,size:"lg",children:"Your Payment is overdue . To continue with our services complete your payment now . Contact with us."}):(0,r.jsxs)(s.Text,{px:20,fw:700,size:"lg",children:["Please clear your payment before "," ",(null==e?void 0:e.serviceCharge)||(null==e?void 0:e.indoorServiceCharge)?(0,h.Z)((0,w.Z)(new Date((null==e?void 0:e.serviceChargePaymentDate)||""),null==e?void 0:e.serviceChargePaymentPeriod),"dd MMM,yyyy; hh:mm a"):(null==e?void 0:e.paymentDate)&&(0,h.Z)((0,w.Z)(new Date(null==e?void 0:e.paymentDate),30),"dd MMM,yyyy; hh:mm a"),"    ",(0,r.jsx)(c.Button,{w:"100px",href:"/expense/sasthotech-service-charge",component:D.default,children:"Details"})]})]})})]})},k=n(96720);function C(e){let{children:t}=e;return(0,r.jsx)(o.default,{children:(0,r.jsxs)(k.PrintProvider,{children:[(0,r.jsx)(b,{}),t]})})}},27553:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(72940),o=n(6780),a=n(67732);let i=async e=>{let{diagnosticId:t}=e;try{let e="".concat("http://sasthotech.local:5000/api/v1","/serviceCharge");t&&(e+="?diagnosticId=".concat(t));let n=await o.default.get(e,r.FD);return{success:!0,data:n.data.data}}catch(e){if(e instanceof a.d7){var n;return{success:!1,data:null===(n=e.response)||void 0===n?void 0:n.data.message}}return{success:!1,data:"An error occurred"}}}},23138:function(e,t,n){"use strict";n.d(t,{E:function(){return p}});var r=n(68328),o=n(4505),a=n(63773),i=n(55622),l=n(65786),s=n(28266),u=n(32451),c=n(4687),d={root:"m_9e117634"};let v={},m=(0,i.Z)((e,t)=>{let{radius:n,fit:r}=t;return{root:{"--image-radius":void 0===n?void 0:(0,a.H5)(n),"--image-object-fit":r}}}),p=(0,c.b)((e,t)=>{let n=(0,l.w)("Image",v,e),{classNames:a,className:i,style:c,styles:p,unstyled:f,vars:g,onError:h,src:w,radius:y,fit:x,fallbackSrc:D,mod:b,...k}=n,[C,Z]=(0,o.useState)(!w);(0,o.useEffect)(()=>Z(!w),[w]);let M=(0,s.y)({name:"Image",classes:d,props:n,className:i,style:c,classNames:a,styles:p,unstyled:f,vars:g,varsResolver:m});return C&&D?(0,r.jsx)(u.Box,{component:"img",ref:t,src:D,...M("root"),onError:h,mod:["fallback",b],...k}):(0,r.jsx)(u.Box,{component:"img",ref:t,...M("root"),src:w,onError:e=>{null==h||h(e),Z(!0)},mod:b,...k})});p.classes=d,p.displayName="@mantine/core/Image"},75865:function(e,t,n){"use strict";n.d(t,{v:function(){return R}});var r=n(68328),o=n(4505),a=n(57434),i=n(52382),l=n(82826),s=n(72355),u=n(28266),c=n(65786),d=n(36246),v=n(29533);let[m,p]=(0,n(98296).R)("Menu component was not found in the tree");var f=n(32451),g={dropdown:"m_dc9b7c9f",label:"m_9bfac126",divider:"m_efdf90cb",item:"m_99ac2aa1",itemLabel:"m_5476e0d3",itemSection:"m_8b75e504"};let h={},w=(0,d.d5)((e,t)=>{let{classNames:n,className:o,style:a,styles:i,vars:l,...s}=(0,c.w)("MenuDivider",h,e),u=p();return(0,r.jsx)(f.Box,{ref:t,...u.getStyles("divider",{className:o,style:a,styles:i,classNames:n}),...s})});w.classes=g,w.displayName="@mantine/core/MenuDivider";var y=n(58689),x=n(3432);let D={},b=(0,d.d5)((e,t)=>{let{classNames:n,className:a,style:i,styles:l,vars:s,onMouseEnter:u,onMouseLeave:d,onKeyDown:m,children:f,...g}=(0,c.w)("MenuDropdown",D,e),h=(0,o.useRef)(null),w=p(),b=(0,x.x)(m,e=>{if("ArrowUp"===e.key||"ArrowDown"===e.key){var t,n;e.preventDefault(),null===(n=h.current)||void 0===n||null===(t=n.querySelectorAll("[data-menu-item]:not(:disabled)")[0])||void 0===t||t.focus()}}),k=(0,x.x)(u,()=>("hover"===w.trigger||"click-hover"===w.trigger)&&w.openDropdown()),C=(0,x.x)(d,()=>("hover"===w.trigger||"click-hover"===w.trigger)&&w.closeDropdown());return(0,r.jsxs)(v.J.Dropdown,{...g,onMouseEnter:k,onMouseLeave:C,role:"menu","aria-orientation":"vertical",ref:(0,y.Yx)(t,h),...w.getStyles("dropdown",{className:a,style:i,styles:l,classNames:n,withStaticClass:!1}),tabIndex:-1,"data-menu-dropdown":!0,onKeyDown:b,children:[w.withInitialFocusPlaceholder&&(0,r.jsx)("div",{tabIndex:-1,"data-autofocus":!0,"data-mantine-stop-propagation":!0,style:{outline:0}}),f]})});b.classes=g,b.displayName="@mantine/core/MenuDropdown";var k=n(86620),C=n(73490),Z=n(11692),M=n(4687),j=n(66593),I=n(4923);let S={},T=(0,M.b)((e,t)=>{let{classNames:n,className:a,style:i,styles:l,vars:s,color:u,closeMenuOnClick:d,leftSection:v,rightSection:m,children:f,disabled:g,"data-disabled":h,...w}=(0,c.w)("MenuItem",S,e),D=p(),b=(0,Z.rZ)(),{dir:M}=(0,j.gm)(),T=(0,o.useRef)(null),P=D.getItemIndex(T.current),N=(0,x.x)(w.onMouseLeave,()=>D.setHovered(-1)),E=(0,x.x)(w.onMouseEnter,()=>D.setHovered(D.getItemIndex(T.current))),_=(0,x.x)(w.onClick,()=>{!h&&("boolean"==typeof d?d&&D.closeDropdownImmediately():D.closeOnItemClick&&D.closeDropdownImmediately())}),A=(0,x.x)(w.onFocus,()=>D.setHovered(D.getItemIndex(T.current))),F=u?b.variantColorResolver({color:u,theme:b,variant:"light"}):void 0,R=u?(0,C.E)({color:u,theme:b}):null;return(0,r.jsxs)(I.k,{...w,unstyled:D.unstyled,tabIndex:D.menuItemTabIndex,onFocus:A,...D.getStyles("item",{className:a,style:i,styles:l,classNames:n}),ref:(0,y.Yx)(T,t),role:"menuitem",disabled:g,"data-menu-item":!0,"data-disabled":g||h||void 0,"data-hovered":D.hovered===P||void 0,"data-mantine-stop-propagation":!0,onMouseEnter:E,onMouseLeave:N,onClick:_,onKeyDown:(0,k.R)({siblingSelector:"[data-menu-item]:not([data-disabled])",parentSelector:"[data-menu-dropdown]",activateOnFocus:!1,loop:D.loop,dir:M,orientation:"vertical",onKeyDown:w.onKeyDown}),__vars:{"--menu-item-color":(null==R?void 0:R.isThemeColor)&&(null==R?void 0:R.shade)===void 0?"var(--mantine-color-".concat(R.color,"-6)"):null==F?void 0:F.color,"--menu-item-hover":null==F?void 0:F.hover},children:[v&&(0,r.jsx)("div",{...D.getStyles("itemSection",{styles:l,classNames:n}),"data-position":"left",children:v}),f&&(0,r.jsx)("div",{...D.getStyles("itemLabel",{styles:l,classNames:n}),children:f}),m&&(0,r.jsx)("div",{...D.getStyles("itemSection",{styles:l,classNames:n}),"data-position":"right",children:m})]})});T.classes=g,T.displayName="@mantine/core/MenuItem";let P={},N=(0,d.d5)((e,t)=>{let{classNames:n,className:o,style:a,styles:i,vars:l,...s}=(0,c.w)("MenuLabel",P,e),u=p();return(0,r.jsx)(f.Box,{ref:t,...u.getStyles("label",{className:o,style:a,styles:i,classNames:n}),...s})});N.classes=g,N.displayName="@mantine/core/MenuLabel";var E=n(55111);let _={refProp:"ref"},A=(0,o.forwardRef)((e,t)=>{let{children:n,refProp:a,...i}=(0,c.w)("MenuTarget",_,e);if(!(0,E.k)(n))throw Error("Menu.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");let l=p(),s=n.props,u=(0,x.x)(s.onClick,()=>{"click"===l.trigger?l.toggleDropdown():"click-hover"!==l.trigger||(l.setOpenedViaClick(!0),l.opened||l.openDropdown())}),d=(0,x.x)(s.onMouseEnter,()=>("hover"===l.trigger||"click-hover"===l.trigger)&&l.openDropdown()),m=(0,x.x)(s.onMouseLeave,()=>{"hover"===l.trigger?l.closeDropdown():"click-hover"!==l.trigger||l.openedViaClick||l.closeDropdown()});return(0,r.jsx)(v.J.Target,{refProp:a,popupType:"menu",ref:t,...i,children:(0,o.cloneElement)(n,{onClick:u,onMouseEnter:d,onMouseLeave:m,"data-expanded":!!l.opened||void 0})})});A.displayName="@mantine/core/MenuTarget";let F={trapFocus:!0,closeOnItemClick:!0,withInitialFocusPlaceholder:!0,clickOutsideEvents:["mousedown","touchstart","keydown"],loop:!0,trigger:"click",openDelay:0,closeDelay:100,menuItemTabIndex:-1};function R(e){let t=(0,c.w)("Menu",F,e),{children:n,onOpen:d,onClose:p,opened:f,defaultOpened:h,trapFocus:w,onChange:y,closeOnItemClick:x,loop:D,closeOnEscape:b,trigger:k,openDelay:C,closeDelay:Z,classNames:M,styles:j,unstyled:I,variant:S,vars:T,menuItemTabIndex:P,keepMounted:N,withInitialFocusPlaceholder:E,..._}=t,A=(0,u.y)({name:"Menu",classes:g,props:t,classNames:M,styles:j,unstyled:I}),[R,{setHovered:L,resetHovered:O}]=function(){let[e,t]=(0,o.useState)(-1);return[e,{setHovered:t,resetHovered:()=>t(-1)}]}(),[B,z]=(0,a.C)({value:f,defaultValue:h,finalValue:!1,onChange:y}),[H,Y]=(0,o.useState)(!1),q=()=>{z(!1),Y(!1),B&&(null==p||p())},K=()=>{z(!0),B||null==d||d()},V=()=>{B?q():K()},{openDropdown:J,closeDropdown:U}=function(e){let{open:t,close:n,openDelay:r,closeDelay:a}=e,i=(0,o.useRef)(-1),l=(0,o.useRef)(-1),s=()=>{window.clearTimeout(i.current),window.clearTimeout(l.current)};return(0,o.useEffect)(()=>s,[]),{openDropdown:()=>{s(),0===r||void 0===r?t():i.current=window.setTimeout(t,r)},closeDropdown:()=>{s(),0===a||void 0===a?n():l.current=window.setTimeout(n,a)}}}({open:K,close:q,closeDelay:Z,openDelay:C}),{resolvedClassNames:G,resolvedStyles:Q}=(0,s.h)({classNames:M,styles:j,props:t});return(0,i.l)(()=>{O()},[B]),(0,r.jsx)(m,{value:{getStyles:A,opened:B,toggleDropdown:V,getItemIndex:e=>{var t;return e?Array.from((null===(t=(0,l.p)(e,"[data-menu-dropdown]"))||void 0===t?void 0:t.querySelectorAll("[data-menu-item]"))||[]).findIndex(t=>t===e):null},hovered:R,setHovered:L,openedViaClick:H,setOpenedViaClick:Y,closeOnItemClick:x,closeDropdown:"click"===k?q:U,openDropdown:"click"===k?K:J,closeDropdownImmediately:q,loop:D,trigger:k,unstyled:I,menuItemTabIndex:P,withInitialFocusPlaceholder:E},children:(0,r.jsx)(v.J,{..._,opened:B,onChange:V,defaultOpened:h,trapFocus:!N&&w,closeOnEscape:b,__staticSelector:"Menu",classNames:G,styles:Q,unstyled:I,variant:S,keepMounted:N,children:n})})}R.extend=e=>e,R.withProps=(0,d.ug)(R),R.classes=g,R.displayName="@mantine/core/Menu",R.Item=T,R.Label=N,R.Dropdown=b,R.Target=A,R.Divider=w},86620:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(82826);function o(e){let{parentSelector:t,siblingSelector:n,onKeyDown:o,loop:a=!0,activateOnFocus:i=!1,dir:l="rtl",orientation:s}=e;return e=>{var u;null==o||o(e);let c=Array.from((null===(u=(0,r.p)(e.currentTarget,t))||void 0===u?void 0:u.querySelectorAll(n))||[]).filter(n=>{var o;return o=e.currentTarget,(0,r.p)(o,t)===(0,r.p)(n,t)}),d=c.findIndex(t=>e.currentTarget===t),v=function(e,t,n){for(let n=e+1;n<t.length;n+=1)if(!t[n].disabled)return n;if(n){for(let e=0;e<t.length;e+=1)if(!t[e].disabled)return e}return e}(d,c,a),m=function(e,t,n){for(let n=e-1;n>=0;n-=1)if(!t[n].disabled)return n;if(n){for(let e=t.length-1;e>-1;e-=1)if(!t[e].disabled)return e}return e}(d,c,a),p="rtl"===l?m:v,f="rtl"===l?v:m;switch(e.key){case"ArrowRight":"horizontal"===s&&(e.stopPropagation(),e.preventDefault(),c[p].focus(),i&&c[p].click());break;case"ArrowLeft":"horizontal"===s&&(e.stopPropagation(),e.preventDefault(),c[f].focus(),i&&c[f].click());break;case"ArrowUp":"vertical"===s&&(e.stopPropagation(),e.preventDefault(),c[m].focus(),i&&c[m].click());break;case"ArrowDown":"vertical"===s&&(e.stopPropagation(),e.preventDefault(),c[v].focus(),i&&c[v].click());break;case"Home":e.stopPropagation(),e.preventDefault(),c[0].disabled||c[0].focus();break;case"End":{e.stopPropagation(),e.preventDefault();let t=c.length-1;c[t].disabled||c[t].focus()}}}}},82826:function(e,t,n){"use strict";function r(e,t){let n=e;for(;(n=n.parentElement)&&!n.matches(t););return n}n.d(t,{p:function(){return r}})}},function(e){e.O(0,[1601,2975,3069,6945,3852,1656,9722,4670,9258,9533,966,12,7538,1166,7967,154,7698,7186,9669,7125,2469,729,1291,4548,551,5385,1172,9175,7402,1744],function(){return e(e.s=74993)}),_N_E=e.O()}]);