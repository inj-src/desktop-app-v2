(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[699,1054],{91054:function(){},27555:function(e,t,o){Promise.resolve().then(o.bind(o,31305))},31305:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return z}});var n=o(68328),l=o(71256),i=o(7203),s=o(72752),r=o(72940),a=o(6780),d=o(67732);let c=async e=>{let{dates:t}=e;try{let e=new Date,o=new Date;if(t){let[n,l]=t;n&&(e=new Date(n)),l&&(o=new Date(l))}e.setHours(0,0,0,0),o.setHours(23,59,59,999);let n="".concat("http://sasthotech.local:5000/api/v1","/statement/category?from=").concat(new Date(e).toISOString(),"&to=").concat(new Date(o).toISOString()),l=await a.default.get(n,r.FD);return{success:!0,data:l.data.result}}catch(e){if(e instanceof d.d7){var o;return{success:!1,data:null===(o=e.response)||void 0===o?void 0:o.data.message}}return{success:!1,data:"An error occurred"}}};var u=o(25499),h=o(32451),x=o(22614),m=o(31204),f=o(22041),v=o(54632),g=o(22975),y=o(58185),j=o(12450),p=o(4505),w=o(24757),b=o.n(w),S=o(46557),C=o(65850),T=o(62549),A=o(26809);let M=C.mM.create({table:{width:"100%",borderWidth:1,borderColor:"#000000"},tableRow:{flexDirection:"row"},tableCol:{borderRightWidth:1,borderBottomWidth:1,borderColor:"#000000",flex:1,padding:4,textAlign:"center",fontSize:14},tableHeader:{fontWeight:"bold"},totalRow:{fontWeight:"bold"},noData:{marginTop:10,textAlign:"center",fontWeight:"bold"}});var D=e=>{let{statement:t,total:o}=e,l=(0,u.C)(e=>e.auth.user),i=(0,u.C)(e=>e.auth.diagnostic),s=(0,u.C)(e=>e.dates),r={name:(null==i?void 0:i.name)||"",address:(null==i?void 0:i.address)||"",phone1:(null==i?void 0:i.phone1)||"",phone2:(null==i?void 0:i.phone2)||"",division:(null==i?void 0:i.division)||"",logo:(null==i?void 0:i.logo)||"",id:(null==i?void 0:i.id)||"",city:(null==i?void 0:i.city)||"",paymentDate:(null==i?void 0:i.paymentDate)||"",admin:(null==i?void 0:i.admin)||""},a=null==l?void 0:l.name;return(0,n.jsx)("div",{style:{width:"100%",height:"100%"},children:(0,n.jsx)(C.Z$,{style:{width:"100%",height:"720px"},children:(0,n.jsx)(()=>(0,n.jsx)(C.BB,{children:(0,n.jsxs)(C.T3,{size:"A4",orientation:"landscape",style:{padding:10},children:[(0,n.jsx)(T.default,{diagnosticState:r}),(0,n.jsx)(A.Z,{small:!1,dates:s,userName:null!=a?a:""}),";",0!==t.length?(0,n.jsxs)(C.G7,{style:M.table,children:[(0,n.jsxs)(C.G7,{style:[M.tableRow,M.tableHeader,{fontWeight:800}],children:[(0,n.jsx)(C.xv,{style:M.tableCol,children:"Category Name"}),(0,n.jsx)(C.xv,{style:M.tableCol,children:"Qty."}),(0,n.jsx)(C.xv,{style:M.tableCol,children:"Rate"}),(0,n.jsx)(C.xv,{style:M.tableCol,children:"Less"}),(0,n.jsx)(C.xv,{style:M.tableCol,children:"Total Amount"}),(0,n.jsx)(C.xv,{style:M.tableCol,children:"Commission Amount"}),(0,n.jsx)(C.xv,{style:M.tableCol,children:"Net Amount"})]}),t.map(e=>{var t,o,l,i,s,r,a,d,c;return(0,n.jsxs)(C.G7,{style:M.tableRow,children:[(0,n.jsx)(C.xv,{style:M.tableCol,children:e.categoryName}),(0,n.jsx)(C.xv,{style:M.tableCol,children:null!==(t=e.qty)&&void 0!==t?t:0}),(0,n.jsx)(C.xv,{style:M.tableCol,children:Math.floor(null!==(o=e.amount)&&void 0!==o?o:0).toLocaleString()}),(0,n.jsx)(C.xv,{style:M.tableCol,children:Math.floor(null!==(l=e.discountAmount)&&void 0!==l?l:0).toLocaleString()}),(0,n.jsx)(C.xv,{style:M.tableCol,children:(Math.floor(null!==(i=e.amount)&&void 0!==i?i:0)-Math.floor(null!==(s=e.discountAmount)&&void 0!==s?s:0)).toLocaleString()}),(0,n.jsx)(C.xv,{style:M.tableCol,children:Math.floor(null!==(r=e.commissionAmount)&&void 0!==r?r:0).toLocaleString()}),(0,n.jsx)(C.xv,{style:M.tableCol,children:(Math.floor(null!==(a=e.amount)&&void 0!==a?a:0)-Math.floor(null!==(d=e.discountAmount)&&void 0!==d?d:0)-Math.floor(null!==(c=e.commissionAmount)&&void 0!==c?c:0)).toLocaleString()})]},e.categoryId)}),o&&(0,n.jsxs)(C.G7,{style:[M.tableRow,M.totalRow],children:[(0,n.jsx)(C.xv,{style:M.tableCol,children:"Total"}),(0,n.jsx)(C.xv,{style:M.tableCol,children:o.qty}),(0,n.jsx)(C.xv,{style:M.tableCol,children:Math.floor(o.amount).toLocaleString()}),(0,n.jsx)(C.xv,{style:M.tableCol,children:Math.floor(o.discountAmount).toLocaleString()}),(0,n.jsx)(C.xv,{style:M.tableCol,children:(Math.floor(o.amount)-Math.floor(o.discountAmount)).toLocaleString()}),(0,n.jsx)(C.xv,{style:M.tableCol,children:Math.floor(o.commissionAmount).toLocaleString()}),(0,n.jsx)(C.xv,{style:M.tableCol,children:o.netAmount.toLocaleString()})]})]}):(0,n.jsx)(C.xv,{style:M.noData,children:"No Category Statement History Found for this period"})]})}),{})})})},z=()=>{let e=(0,u.C)(e=>e.auth.diagnostic),t=(0,u.C)(e=>e.dates),[o,r]=(0,p.useState)(null),[a,d]=(0,p.useState)(),w=(0,p.useRef)(null),C=(0,p.useRef)(Promise.resolve()),T=(0,j.useSearchParams)();T.has("printNow");let[A,{open:M,close:z}]=(0,S.q)(!1);return((0,p.useEffect)(()=>{C.current=c(t).then(e=>{let{success:t,data:o}=e;t?(r(o),d(o.reduce((e,t)=>{var o,n,l,i,s,r,a;return e.qty+=null!==(o=t.qty)&&void 0!==o?o:0,e.amount+=null!==(n=t.amount)&&void 0!==n?n:0,e.discountAmount+=null!==(l=t.discountAmount)&&void 0!==l?l:0,e.commissionAmount+=null!==(i=t.commissionAmount)&&void 0!==i?i:0,e.netAmount+=(null!==(s=t.amount)&&void 0!==s?s:0)-(null!==(r=t.discountAmount)&&void 0!==r?r:0)-(null!==(a=t.commissionAmount)&&void 0!==a?a:0),e},{qty:0,amount:0,discountAmount:0,commissionAmount:0,netAmount:0}))):console.error(o)})},[t,T]),o)?(0,n.jsxs)(h.Box,{className:"p-3 bg-light p-md-5 printable ".concat(b().page),ref:w,children:[(0,n.jsx)("style",{type:"text/css",media:"print",children:"@page { size: A4 landscape; }"}),(0,n.jsx)(l.Z,{diagnostic:e,children:(0,n.jsx)(x.Group,{align:"end",className:"hide__print",children:(0,n.jsx)(m.Button,{onClick:M,leftSection:(0,n.jsx)(y.Z,{}),children:"Print"})})}),(0,n.jsx)(s.Z,{}),(0,n.jsx)(f.Text,{ta:"center",fw:600,my:10,size:"xl",children:"Category Statement"}),0!==o.length?(0,n.jsxs)(v.i,{withColumnBorders:!0,withTableBorder:!0,borderColor:"#000000",className:b().table,verticalSpacing:0,layout:"fixed",children:[(0,n.jsx)(v.i.Thead,{children:(0,n.jsxs)(v.i.Tr,{children:[(0,n.jsx)(v.i.Th,{children:"Category Name"}),(0,n.jsx)(v.i.Th,{children:"Qty."}),(0,n.jsx)(v.i.Th,{children:"Rate"}),(0,n.jsx)(v.i.Th,{children:"Less"}),(0,n.jsx)(v.i.Th,{children:"Total Amount"}),(0,n.jsx)(v.i.Th,{children:"Commission Amount"}),(0,n.jsx)(v.i.Th,{children:"Net Amount"})]})}),(0,n.jsxs)(v.i.Tbody,{children:[o.map(e=>{var t,o,l,i,s,r,a,d,c;return(0,n.jsxs)(v.i.Tr,{children:[(0,n.jsx)(v.i.Td,{children:e.categoryName}),(0,n.jsx)(v.i.Td,{children:null!==(t=e.qty)&&void 0!==t?t:0}),(0,n.jsx)(v.i.Td,{children:Math.floor(null!==(o=e.amount)&&void 0!==o?o:0).toLocaleString()}),(0,n.jsx)(v.i.Td,{children:Math.floor(null!==(l=e.discountAmount)&&void 0!==l?l:0).toLocaleString()}),(0,n.jsx)(v.i.Td,{children:(Math.floor(null!==(i=e.amount)&&void 0!==i?i:0)-Math.floor(null!==(s=e.discountAmount)&&void 0!==s?s:0)).toLocaleString()}),(0,n.jsx)(v.i.Td,{children:Math.floor(null!==(r=e.commissionAmount)&&void 0!==r?r:0).toLocaleString()}),(0,n.jsx)(v.i.Td,{children:(Math.floor(null!==(a=e.amount)&&void 0!==a?a:0)-Math.floor(null!==(d=e.discountAmount)&&void 0!==d?d:0)-Math.floor(null!==(c=e.commissionAmount)&&void 0!==c?c:0)).toLocaleString()})]},e.categoryId)}),a&&(0,n.jsxs)(v.i.Tr,{children:[(0,n.jsx)(v.i.Td,{style:{fontWeight:600},children:"Total"}),(0,n.jsx)(v.i.Td,{style:{fontWeight:600},children:a.qty}),(0,n.jsx)(v.i.Td,{style:{fontWeight:600},children:Math.floor(a.amount).toLocaleString()}),(0,n.jsx)(v.i.Td,{style:{fontWeight:600},children:Math.floor(a.discountAmount).toLocaleString()}),(0,n.jsx)(v.i.Td,{style:{fontWeight:600},children:(Math.floor(a.amount)-Math.floor(a.discountAmount)).toLocaleString()}),(0,n.jsx)(v.i.Td,{style:{fontWeight:600},children:Math.floor(a.commissionAmount).toLocaleString()}),(0,n.jsx)(v.i.Td,{style:{fontWeight:600},children:a.netAmount.toLocaleString()})]})]})]}):(0,n.jsx)(f.Text,{ta:"center",mt:10,fw:600,children:"No Category Statement History Found for this period"}),(0,n.jsx)(g.u,{opened:A,onClose:z,size:"80%",radius:0,transitionProps:{transition:"fade",duration:200},children:(0,n.jsx)(D,{statement:o,total:a})})]}):(0,n.jsx)(i.Z,{})}},71256:function(e,t,o){"use strict";var n=o(68328),l=o(22614),i=o(22041),s=o(77303),r=o(62471);t.Z=e=>{let{diagnostic:t,email:o,children:a,color:d,patientId:c,small:u,large:h,isBigLogo:x,idLabel:m,idBorder:f,labId:v}=e,g=(0,r._)({key:"print-show-division-name",defaultValue:"true"});return(0,n.jsxs)("div",{className:"diagnostic-info1",children:[(0,n.jsx)(l.Group,{children:x&&(0,n.jsx)("img",{style:{aspectRatio:"auto",width:"100%",height:"100px"},src:"/images/heathcare.png",alt:"Diagnotic Image"})}),(0,n.jsxs)(l.Group,{wrap:"nowrap",justify:x?"center":"space-between",children:[(0,n.jsxs)(l.Group,{wrap:"nowrap",bg:"white",py:1,mb:1,align:"center",children:[null!=x?x:(0,n.jsx)("img",{width:u?50:100,height:u?50:100,style:{objectFit:"cover"},src:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||window.location.hostname.includes("local")?null==t?void 0:t.offlineLogo:null==t?void 0:t.logo,alt:"Diagnotic Image"}),(0,n.jsx)(l.Group,{wrap:"nowrap",children:(0,n.jsxs)("div",{children:[(0,n.jsx)(i.Text,{styles:{root:{fontSize:"".concat(h?32:u?14:24)}},size:"xl",style:{fontSize:h?16:void 0},fw:700,children:null==t?void 0:t.name}),(0,n.jsxs)(i.Text,{fw:500,my:1,styles:{root:{wordBreak:"break-word",fontSize:h?12:void 0}},children:["Address: ",null==t?void 0:t.address,"true"===g&&(null==t?void 0:t.division)?";".concat(null==t?void 0:t.division):""]}),(0,n.jsxs)(l.Group,{children:[(0,n.jsxs)(i.Text,{my:1,fw:500,styles:{root:{wordBreak:"break-word",fontSize:h?12:void 0}},children:["Phone: ",null==t?void 0:t.phone1," , ",null==t?void 0:t.phone2]}),o?(0,n.jsxs)(i.Text,{my:1,fw:500,styles:{root:{wordBreak:"break-word",fontSize:h?16:void 0}},children:["; Email : ",o]}):(0,n.jsx)(n.Fragment,{})]})]})})]}),v&&(0,n.jsxs)(i.Text,{fw:700,mt:"auto",mb:9,style:{border:f?"2px solid #555":"none",padding:f?"4px":"0px",borderRadius:f?"2px":"0px"},styles:{root:{fontSize:"calc(var(--mantine-scale) * ".concat(h?16:u?12:14,")")}},children:["Lab\xa0ID:\xa0",v]}),c&&(0,n.jsxs)(i.Text,{fw:700,mt:"auto",mb:9,style:{border:f?"2px solid #555":"none",padding:f?"4px":"0px",borderRadius:f?"2px":"0px"},styles:{root:{fontSize:"calc(var(--mantine-scale) * ".concat(h?16:u?12:14,")")}},children:["Patient\xa0ID:\xa0",c]}),a]}),(0,n.jsx)(s.Divider,{size:"sm",color:d||"black",style:{marginBottom:"2px"}})]})}},7203:function(e,t,o){"use strict";var n=o(68328),l=o(14587);o(4505),t.Z=()=>(0,n.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:600},children:(0,n.jsx)(l.Loader,{color:"teal",variant:"dots"})})},72752:function(e,t,o){"use strict";var n=o(68328),l=o(25499),i=o(22614),s=o(22041),r=o(29593),a=o(77303),d=o(97698);o(4505),t.Z=e=>{let{small:t}=e,o=(0,l.C)(e=>e.dates),c=(0,l.C)(e=>e.auth.user);return(0,n.jsxs)("div",{className:"py-2",children:[(0,n.jsxs)(i.Group,{justify:"space-between",children:[(0,n.jsxs)(i.Group,{className:"fw-bold",gap:"sm",children:[(0,n.jsxs)(s.Text,{fw:700,style:{fontSize:t?10:16},size:"".concat(t?"xs":"md"),children:["Period :"," "]}),(0,n.jsx)(s.Text,{style:{fontSize:t?10:16},styles:{root:{textUnderlineOffset:5}},fw:700,children:(0,d.Z)((null==o?void 0:o.dates[0])?new Date(null==o?void 0:o.dates[0]):new Date,"dd-MMM-yyyy")}),(0,n.jsxs)(s.Text,{style:{fontSize:t?10:16},fw:700,children:[" "," To "," "," "]}),(0,n.jsx)(s.Text,{styles:{root:{textUnderlineOffset:5}},style:{fontSize:t?10:16},fw:700,children:(0,d.Z)((null==o?void 0:o.dates[1])?new Date(null==o?void 0:o.dates[1]):(null==o?void 0:o.dates[0])?new Date(null==o?void 0:o.dates[0]):new Date,"dd-MMM-yyyy")})]}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 4 4",fill:"none",children:(0,n.jsx)("circle",{cx:"2",cy:"2",r:"2",fill:"black"})}),(0,n.jsxs)(s.Text,{style:{fontSize:t?10:16},fw:600,children:["Printed By : ",null==c?void 0:c.name]}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"8",height:"8",viewBox:"0 0 4 4",fill:"none",children:(0,n.jsx)("circle",{cx:"2",cy:"2",r:"2",fill:"black"})}),(0,n.jsxs)(s.Text,{style:{fontSize:t?10:16},fw:600,children:["Print Time : ",(0,d.Z)(new Date,"MM/dd/yyyy : hh:mm a")]})]}),!t&&(0,n.jsx)(r.Space,{h:10}),(0,n.jsx)(a.Divider,{color:"#787878"})]})}},62549:function(e,t,o){"use strict";o.r(t),o.d(t,{LoadDiagnosticImageUrl:function(){return d}});var n=o(68328),l=o(4505),i=o(65850),s=o(62471),r=o(6780),a=o(25499);function d(){var e;let t=(0,a.C)(e=>e.auth.diagnostic),o="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||window.location.hostname.includes("local")||window.location.hostname.includes("198")?null==t?void 0:t.offlineLogo:null!==(e=null==t?void 0:t.logo)&&void 0!==e?e:null,n="/images/demo-fallback-logo.png";return(0,l.useEffect)(()=>{if(!o||""===o.trim()){sessionStorage.setItem("diagnostic-logo",n);return}r.default.get(o,{headers:{"Cache-Control":"no-cache"},timeout:3e3,responseType:"blob"}).then(e=>{if(!e||!e.data)throw Error("Image not found or invalid response");let t=e.data;return new Promise((e,o)=>{let n=new FileReader;n.onload=()=>e(n.result),n.onerror=o,n.readAsDataURL(t)})}).then(e=>{sessionStorage.setItem("diagnostic-logo",e)}).catch(e=>{console.warn("Error loading primary image, using fallback:",e),sessionStorage.setItem("diagnostic-logo",n)})},[o,n,3e3]),null}let c=i.mM.create({container:{width:"100%",alignItems:"center",display:"flex",flexDirection:"row",gap:10},logoContainer:{width:100,height:80,marginBottom:10,position:"relative"},image:{width:"100%",height:"100%",objectFit:"contain",borderRadius:100},headerContainer:{width:"100%"},hospitalName:{fontSize:20,fontWeight:"bold",fontFamily:"NotoSans",marginBottom:4,textAlign:"left"},address:{fontSize:12,fontFamily:"NotoSans",marginBottom:2,textAlign:"left"},phone:{fontSize:12,fontFamily:"NotoSans",textAlign:"left"}});t.default=e=>{let{diagnosticState:t,fallbackImageUrl:o="/images/demo-fallback-logo.png",timeoutDuration:l=3e3}=e,r=(0,s._)({key:"print-show-division-name",defaultValue:"true"}),a=sessionStorage.getItem("diagnostic-logo")||o;return(0,n.jsxs)(i.G7,{style:c.container,children:[(0,n.jsx)(i.G7,{style:c.logoContainer,children:a&&(0,n.jsx)(i.Ee,{src:a,style:c.image})}),(0,n.jsxs)(i.G7,{style:c.headerContainer,children:[(0,n.jsx)(i.xv,{style:c.hospitalName,children:null==t?void 0:t.name}),(0,n.jsxs)(i.xv,{style:c.address,children:[null==t?void 0:t.address,"true"===r&&(null==t?void 0:t.division)?", ".concat(null==t?void 0:t.division):""]}),(0,n.jsxs)(i.xv,{style:c.phone,children:["Phone: ",null==t?void 0:t.phone1,(null==t?void 0:t.phone2)?", ".concat(null==t?void 0:t.phone2):""]})]})]})}},26809:function(e,t,o){"use strict";var n=o(68328);o(4505);var l=o(65850),i=o(97698);let s=l.mM.create({container:{paddingVertical:5,fontSize:12},group:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},text:{fontSize:12,fontWeight:700},circle:{width:6,height:6,borderRadius:3,backgroundColor:"black",marginHorizontal:2},divider:{borderTop:"1px solid #787878",marginVertical:3}});t.Z=e=>{var t,o,r,a;let{small:d,dates:c,userName:u}=e,h=e=>(0,i.Z)(e?new Date(e):new Date,"dd-MMM-yyyy");return(0,n.jsxs)(l.G7,{style:s.container,children:[(0,n.jsx)(l.G7,{style:s.divider}),(0,n.jsxs)(l.G7,{style:s.group,children:[(0,n.jsxs)(l.G7,{style:{flexDirection:"row",alignItems:"center"},children:[(0,n.jsx)(l.xv,{style:[s.text,{fontSize:10}],children:"Period : "}),(0,n.jsx)(l.xv,{style:[s.text,{fontSize:10}],children:h(null!==(a=null==c?void 0:null===(t=c.dates)||void 0===t?void 0:t[0])&&void 0!==a?a:new Date)}),(0,n.jsxs)(l.xv,{style:[s.text,{fontSize:10}],children:[" "," To "," "]}),(0,n.jsx)(l.xv,{style:[s.text,{fontSize:10}],children:h((null==c?void 0:null===(o=c.dates)||void 0===o?void 0:o[1])||(null==c?void 0:null===(r=c.dates)||void 0===r?void 0:r[0])||new Date)})]}),(0,n.jsx)(l.G7,{style:s.circle}),(0,n.jsxs)(l.xv,{style:[s.text,{fontSize:10}],children:["Printed By : ",u||"Unknown"]}),(0,n.jsx)(l.G7,{style:s.circle}),(0,n.jsxs)(l.xv,{style:[s.text,{fontSize:10,marginTop:"15px"}],children:["Print Time : ",(0,i.Z)(new Date,"MM/dd/yyyy : hh:mm a")]})]}),!d&&(0,n.jsx)(l.G7,{style:s.divider})]})}},72940:function(e,t,o){"use strict";o.d(t,{FD:function(){return l},Hn:function(){return n},y4:function(){return i}});let n={headers:{"Content-Type":"application/json"}},l={withCredentials:!0},i={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},25499:function(e,t,o){"use strict";o.d(t,{C:function(){return i},T:function(){return l}});var n=o(53502);let l=()=>(0,n.I0)(),i=n.v9},24757:function(e){e.exports={page:"page_page__ZZN9l",table:"page_table__Zde17"}}},function(e){e.O(0,[1601,3313,9826,4404,3439,7281,3069,6945,3852,1656,4670,12,7538,7698,4890,7395,9175,7402,1744],function(){return e(e.s=27555)}),_N_E=e.O()}]);