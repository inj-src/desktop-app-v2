(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[583],{90982:function(e,t,n){Promise.resolve().then(n.bind(n,34473)),Promise.resolve().then(n.bind(n,41224)),Promise.resolve().then(n.bind(n,22041)),Promise.resolve().then(n.bind(n,68242)),Promise.resolve().then(n.bind(n,32451)),Promise.resolve().then(n.bind(n,9013))},60595:function(e,t,n){"use strict";var a=n(42752);n.o(a,"isArray")&&n.d(t,{isArray:function(){return a.isArray}})},71149:function(e,t,n){"use strict";n.d(t,{AN:function(){return u},HG:function(){return o},J7:function(){return l},UA:function(){return d},dB:function(){return m},ev:function(){return i},q:function(){return c},tK:function(){return s}});var a=n(62471),r=n(4505);let l=["A4 portrait","A5 portrait","A4 landscape"],i=[["outdoor-bill","A5 portrait",60],["indoor-bill","A4 portrait",60,void 0,120],["indoor-admission-form","A4 portrait",90,"isHospitalManagement",120],["outdoor-summary","A4 portrait",90],["indoor-summary","A4 portrait",90,"isHospitalManagement"],["receptionist-summary","A4 portrait",90],["pc-payment","A5 portrait",60]];function o(e){let t=(0,r.useMemo)(()=>i.find(t=>t[0]===e),[e]),[n]=(0,a.I)({key:"".concat(e,"-print-page-size"),defaultValue:null==t?void 0:t[1]}),[l]=(0,a.I)({key:"".concat(e,"-print-page-scale"),defaultValue:null==t?void 0:t[2]});return"\n    @page { size: ".concat(n,";margin:10px 0px; }\n    :root { --mantine-scale: ").concat(+l/100,"; }\n    .fs-1{font-size:calc(var(--mantine-scale) * calc(1.375rem + 1.5vw))!important}\n    .fs-2{font-size:calc(var(--mantine-scale) * calc(1.325rem + .9vw))!important}\n    .fs-3{font-size:calc(var(--mantine-scale) * calc(1.3rem + .6vw))!important}\n    .fs-4{font-size:calc(var(--mantine-scale) * calc(1.275rem + .3vw))!important}\n    .fs-5{font-size:calc(var(--mantine-scale) * 1.25rem)!important}\n    .fs-6{font-size:calc(var(--mantine-scale) * 1rem)!important}")}function s(e){var t,n,l;let o=(0,r.useMemo)(()=>i.find(t=>t[0]===e),[e]),[s]=(0,a.I)({key:"".concat(e,"-print-page-height"),defaultValue:null!==(n=null==o?void 0:null===(t=o[4])||void 0===t?void 0:t.toString())&&void 0!==n?n:""});return s?+s:null!==(l=null==o?void 0:o[4])&&void 0!==l?l:100}function d(){let[e]=(0,a.I)({key:"selected-admission-template-id",defaultValue:"1"});return e?+e:1}function u(){let[e]=(0,a.I)({key:"selected-bill-template-id",defaultValue:"1"});return e?+e:1}function c(){let[e]=(0,a.I)({key:"print-watermark-enabled",defaultValue:"true"});return"true"===e}function m(){let[e]=(0,a.I)({key:"selected-appointment-token-template-id",defaultValue:"2"});return e?+e:2}},9013:function(e,t,n){"use strict";n.r(t),n.d(t,{AppointmentForm:function(){return eH}});var a=n(68328),r=n(22392),l=n(25922),i=n(71149),o=n(69804),s=n(32267),d=n(17848),u=n(65038),c=n(72071),m=n(91611),p=n(32451),h=n(41224),v=n(25621),f=n(29663),g=n(81209),x=n(76029),y=n(22614),b=n(22975),j=n(62471),T=n(46557),C=n(38156),I=n(4505),S=n(80948),A=n(90660),w=n.n(A),D=n(59406),F=n(85033),k=n(54632),P=n(89043),N=n(22041),q=n(77303),M=e=>{let{title:t,rightSection:n,description:r,children:l}=e;return(0,a.jsxs)(P.X,{withBorder:!0,radius:"md",p:"lg",shadow:"xs",bg:"white",children:[(t||n)&&(0,a.jsxs)(y.Group,{justify:"space-between",align:"center",mb:"sm",children:[t?(0,a.jsx)(N.Text,{fw:600,size:"sm",c:"dark.7",children:t}):(0,a.jsx)("div",{}),n]}),r&&(0,a.jsx)(N.Text,{size:"sm",c:"dimmed",mb:"sm",children:r}),(t||r)&&(0,a.jsx)(q.Divider,{mb:"md"}),(0,a.jsx)(h.Stack,{gap:"sm",children:l})]})},E=n(29259),z=n(73626);let G=(0,I.memo)(function(e){let{testId:t,index:n,label:r,price:l,discount:i,onPriceChange:o,onDiscountChange:s}=e,[d,u]=(0,I.useState)(l),[c,m]=(0,I.useState)(i),p=(0,z.y)(e=>{o(t,"number"==typeof e?e:0)},300),h=(0,z.y)(e=>{s(t,"number"==typeof e?e:0)},300);return(0,I.useEffect)(()=>{u(l)},[l]),(0,I.useEffect)(()=>{m(i)},[i]),(0,a.jsxs)(k.i.Tr,{children:[(0,a.jsx)(k.i.Td,{children:n+1}),(0,a.jsx)(k.i.Td,{children:r}),(0,a.jsx)(k.i.Td,{children:(0,a.jsx)(E.Y,{value:d,onChange:e=>{u(e),p(e)},min:0,placeholder:"Enter price",hideControls:!0,maw:100,styles:{input:{border:"none",padding:"4px 8px"}}})}),(0,a.jsx)(k.i.Td,{children:(0,a.jsx)(E.Y,{value:c,onChange:e=>{m(e),h(e)},min:0,max:"number"==typeof d?d:100,placeholder:"Enter discount",hideControls:!0,maw:100,styles:{input:{border:"none",padding:"4px 8px"}}})})]})});var V=n(38254),R=n(53502);let Z=(0,I.memo)(function(){(0,V.x)();let e=(0,R.v9)(e=>e.tests),t=(0,I.useMemo)(()=>e.adminTests||[],[e.adminTests]),[n,r]=(0,j.I)({key:"show-tests-appointment",defaultValue:!1}),[l,i]=(0,I.useState)([]),[o,s]=(0,I.useState)({}),[d,u]=(0,I.useState)({}),c=(0,S.Gc)(),m=I.useRef(null);(0,I.useEffect)(()=>{if(!c)return;let e=c.getValues("tests");m.current&&m.current.length>0&&(!e||0===e.length)&&(i([]),s({}),u({})),m.current=e},[c.watch("tests"),c]);let p=(0,I.useMemo)(()=>t&&0!==t.length?t.map(e=>({value:e.id,label:e.name,price:e.price})):[],[t]),v=(0,I.useCallback)(e=>{let{option:t}=e,n=l.includes(t.value);return(0,a.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,a.jsx)(D.Z,{size:"1rem",color:n?"#868e96":"transparent"}),(0,a.jsxs)("span",{style:{flex:1},children:[t.label," ",(0,a.jsxs)("span",{style:{color:"#868e96",fontSize:"0.9em"},children:["(",t.price||0," Tk)"]})]})]})},[l]),f=(0,I.useCallback)(e=>{r(e.currentTarget.checked)},[r]),x=(0,I.useCallback)(e=>{i(e),s(n=>{let a={...n};return e.forEach(e=>{if(!(e in a)){let n=null==t?void 0:t.find(t=>t.id===e);a[e]=(null==n?void 0:n.price)||0}}),Object.keys(a).forEach(t=>{e.includes(t)||delete a[t]}),a}),u(n=>{let a={...n};return e.forEach(e=>{if(!(e in a)){let n=null==t?void 0:t.find(t=>t.id===e);a[e]=(null==n?void 0:n.discount)||0}}),Object.keys(a).forEach(t=>{e.includes(t)||delete a[t]}),a})},[t]),y=(0,I.useCallback)((e,t)=>{s(n=>({...n,[e]:t}))},[]),b=(0,I.useCallback)((e,t)=>{u(n=>({...n,[e]:t}))},[]),T=(0,I.useCallback)(e=>{var n;return(null==t?void 0:null===(n=t.find(t=>t.id===e))||void 0===n?void 0:n.name)||e},[t]);return(0,I.useEffect)(()=>{if(!c)return;let{setValue:e}=c;if(!l||0===l.length){e("tests",void 0);return}e("tests",l.map(e=>{let n=null==t?void 0:t.find(t=>t.id===e);return{name:(null==n?void 0:n.name)||"",price:"number"==typeof o[e]?o[e]:(null==n?void 0:n.price)||0,discount:"number"==typeof d[e]?d[e]:0,discountType:"amount",testId:e}}))},[l,o,d]),(0,a.jsx)(M,{title:"Add Tests",rightSection:(0,a.jsx)(g.r,{checked:n,onChange:f,size:"md",color:"blue",onLabel:"ON",offLabel:"OFF",thumbIcon:(0,a.jsx)(C.Z,{size:"0.8rem",stroke:2.5})}),children:(0,a.jsx)(h.Stack,{gap:"md",children:n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.N,{label:"Select tests",placeholder:"Choose tests",data:p,value:l,onChange:x,searchable:!0,clearable:!0,maxDropdownHeight:200,renderOption:v}),l.length>0&&(0,a.jsxs)(k.i,{striped:!0,highlightOnHover:!0,children:[(0,a.jsx)(k.i.Thead,{children:(0,a.jsxs)(k.i.Tr,{children:[(0,a.jsx)(k.i.Th,{children:"S.L"}),(0,a.jsx)(k.i.Th,{children:"Name"}),(0,a.jsx)(k.i.Th,{children:"Price"}),(0,a.jsx)(k.i.Th,{children:"Discount"})]})}),(0,a.jsx)(k.i.Tbody,{children:l.map((e,t)=>(0,a.jsx)(G,{testId:e,index:t,label:T(e),price:o[e]||0,discount:d[e]||0,onPriceChange:y,onDiscountChange:b},e))})]})]})})})});var _=n(13342),O=n(46373),B=n(9326);let L=(0,I.memo)(function(e){let{label:t,placeholder:n}=e,{control:r,setValue:l}=(0,S.Gc)(),i=(0,S.qo)({control:r,name:"discount"}),o=(0,I.useCallback)(e=>{l("discount",String(e),{shouldDirty:!0,shouldValidate:!0})},[l]);return(0,a.jsx)(E.Y,{value:null!=i?i:"",onChange:o,label:t,placeholder:n,size:"sm",hideControls:!0,min:0})}),Y=(0,I.memo)(function(e){let{children:t}=e,{control:n,setValue:r}=(0,S.Gc)(),l=(0,S.qo)({control:n,name:"discountType"}),i=(0,I.useCallback)(e=>{if(e!==l){if("none"===e){r("discountType",void 0),r("discount","");return}r("discountType",e)}},[l,r]);return(0,a.jsx)(_.m,{value:l||"none",onChange:i,children:t})}),H=(0,I.memo)(function(e){let{baseFee:t}=e,{control:n}=(0,S.Gc)(),[r,l]=(0,S.qo)({control:n,name:["discount","discountType"]}),i=(0,I.useMemo)(()=>{let e=Number(r||0);return"amount"===l&&e>t?{isValid:!1,message:"Discount cannot exceed doctor fee of ".concat(t," Tk")}:"percentage"===l&&e>100?{isValid:!1,message:"Discount percentage cannot exceed 100%"}:{isValid:!0,message:""}},[r,l,t]);return i.isValid?null:(0,a.jsx)(O.b,{icon:(0,a.jsx)(B.Z,{size:16}),color:"red",mt:"xs",children:i.message})}),U=(0,I.memo)(e=>{let{selectedDoctorChamber:t}=e,{control:n}=(0,S.Gc)(),[r,l,i,o]=(0,S.qo)({control:n,name:["type","discountType","tests","isFeeIncluded"]}),s=(0,I.useMemo)(()=>t?"FIRST_VISIT"===r?t.newPatientFee||0:t.oldPatientFee||0:0,[t,r]),d=(0,I.useMemo)(()=>i&&Array.isArray(i)&&0!==i.length?i.reduce((e,t)=>e+(("number"==typeof t.price?t.price:0)-("number"==typeof t.discount?t.discount:0)),0):0,[i]),u="true"===o&&(null==i?void 0:i.length)>0,c=u?0:s,m=c+d,h=(0,I.useMemo)(()=>"amount"===l?"Max : ".concat(m," Tk)"):"percentage"===l?"Max : 100% of ".concat(m):"",[l,m]);return(0,a.jsx)(p.Box,{children:(0,a.jsxs)(Y,{children:[(0,a.jsxs)(_.m.List,{children:[(0,a.jsx)(_.m.Tab,{value:"none",children:"None"}),(0,a.jsx)(_.m.Tab,{value:"amount",children:"Amount"}),(0,a.jsx)(_.m.Tab,{value:"percentage",children:"Percent"})]}),(0,a.jsx)(_.m.Panel,{value:"none",pt:"xs",children:(0,a.jsx)(N.Text,{size:"sm",fw:500,c:"dimmed",children:"No Discount Applied"})}),(0,a.jsxs)(_.m.Panel,{value:"amount",pt:"xs",children:[(0,a.jsx)(L,{label:(0,a.jsxs)(a.Fragment,{children:["Discount Amount (",(0,a.jsx)("span",{style:{color:"red"},children:h}),")"]}),placeholder:"Enter the discount amount"}),(0,a.jsxs)(N.Text,{size:"xs",c:"dimmed",mt:4,children:["Doctor Fee: ",c," Tk",u&&" (included in tests)"]}),(0,a.jsx)(H,{baseFee:m})]}),(0,a.jsxs)(_.m.Panel,{value:"percentage",pt:"xs",children:[(0,a.jsx)(L,{label:(0,a.jsxs)(a.Fragment,{children:["Discount Percentage (",(0,a.jsx)("span",{style:{color:"red"},children:h}),")"]}),placeholder:"Enter the discount percentage"}),(0,a.jsxs)(N.Text,{size:"xs",c:"dimmed",mt:4,children:["Doctor Fee: ",c," Tk",u&&" (included in tests)"]}),(0,a.jsx)(H,{baseFee:m})]})]})})});U.displayName="DiscountInput";var W=n(31204),K=n(24049);let Q=K.Ry({doctorChamberId:K.Z_().min(1,{message:"Doctor selection is required"}),slotId:K.Z_().min(1,{message:"Scheduled time selection is required"}),date:K.hT({required_error:"Date selection is required"}).nullable(),address:K.Z_().optional(),district:K.Z_().optional(),thana:K.Z_().optional(),selectedTime:K.Z_().optional(),selectedSlotType:K.Km(["available","reserved"]).optional(),excludedDays:K.IX(K.Rx()).optional(),phone:K.Z_(),name:K.Z_().min(1,{message:"Full Name is required"}),ageYear:K.Z_().min(1,{message:"Age is required"}),paidAmount:K.Z_().min(1,{message:"Paid Amount is required"}),discount:K.Z_().optional(),discountType:K.Z_().optional(),pCId:K.Z_().optional(),pcAmount:K.Z_().optional(),isFeeIncluded:K.Km(["true","false"]).optional(),tests:K.IX(K.Ry({name:K.Z_(),price:K.Rx(),roomNo:K.Z_().optional(),discount:K.Rx().default(0),discountType:K.Z_().optional(),testId:K.Z_()}).strict()).optional(),gender:K.Km(["male","female"],{message:"Gender selection is required"}),label:K.Km(["GENERAL","VIP","URGENT","PC"],{message:"Appointment label is required"}).optional(),type:K.Km(["FIRST_VISIT","OLD_VISIT"],{message:"Appointment type is required"}).optional()}),X={excludedDays:[],discountType:"none",gender:"male",label:"GENERAL",type:"FIRST_VISIT",paidAmount:"0",discount:"0"},J={Sunday:1,Monday:2,Tuesday:3,Wednesday:4,Thursday:5,Friday:6,Saturday:0},$=e=>t=>{let n=(t.getDay()+1)%7;return!(null==e?void 0:e.includes(n))},ee=e=>{let{disable:t,selectedDoctorChamber:n}=e,{watch:r}=(0,S.Gc)(),l=r("doctorChamberId"),i=r("phone"),o=r("slotId"),s=r("date"),d=r("paidAmount"),u=r("discount"),c=r("discountType"),m=r("type"),p=r("tests"),h="FIRST_VISIT"===m?(null==n?void 0:n.newPatientFee)||0:(null==n?void 0:n.oldPatientFee)||0,v=p&&Array.isArray(p)&&0!==p.length?p.reduce((e,t)=>e+(("number"==typeof t.price?t.price:0)-("number"==typeof t.discount?t.discount:0)),0):0,f=(()=>{if(!u||!c)return 0;let e=parseInt(u,10)||0;return"amount"===c?Math.min(e,h):"percentage"===c?Math.round(h*e/100):0})(),g=d?parseInt(d,10):0,x=t||!l||!o||!s||(null==i?void 0:i.length)<9||g>0&&g>Math.max(0,h+v-f);return(0,a.jsx)(W.Button,{type:"submit",disabled:x,children:"SUBMIT APPOINTMENT"})},et=()=>{let{reset:e,watch:t}=(0,S.Gc)(),n=t("doctorChamberId");return(0,I.useEffect)(()=>{n||e(X)},[n]),(0,a.jsx)(a.Fragment,{})};var en=n(55911);let ea=(0,I.memo)(function(e){let{selectedDoctorChamber:t}=e,{control:n}=(0,S.Gc)(),[r,l,i,o,s]=(0,S.qo)({control:n,name:["type","discount","discountType","tests","isFeeIncluded"]}),d="FIRST_VISIT"===r?(null==t?void 0:t.newPatientFee)||0:(null==t?void 0:t.oldPatientFee)||0,u=(0,I.useMemo)(()=>o&&Array.isArray(o)&&0!==o.length?o.reduce((e,t)=>e+(("number"==typeof t.price?t.price:0)-("number"==typeof t.discount?t.discount:0)),0):0,[o]),c="true"===s&&(null==o?void 0:o.length)>0?0:d,m=c+u,p=(0,I.useMemo)(()=>{if(!l||!i)return 0;let e=parseInt(l,10)||0;return"amount"===i?Math.min(e,m):"percentage"===i?Math.round(m*e/100):0},[l,i,m]),v=Math.max(0,m-p);return(0,a.jsxs)(h.Stack,{gap:2,children:[(0,a.jsxs)(y.Group,{justify:"",children:[(0,a.jsx)(N.Text,{size:"sm",fw:500,children:"Paid Amount"}),(0,a.jsxs)(N.Text,{size:"xs",fw:600,c:"red",children:[v," Tk"]})]}),(0,a.jsxs)(N.Text,{size:"xs",c:"dimmed",style:{marginBottom:10},children:["Doctor Fee: ",c," Tk",u>0&&(0,a.jsxs)(a.Fragment,{children:[" | Tests: ",u," Tk"]}),p>0&&(0,a.jsxs)(a.Fragment,{children:[" | Discount: -",p," Tk"]})]})]})}),er=(0,I.memo)(function(){var e,t;let{control:n}=(0,S.Gc)(),{field:r,fieldState:l}=(0,S.bc)({name:"paidAmount",control:n}),[i,o]=(0,I.useState)(null!==(t=r.value)&&void 0!==t?t:""),s=(0,I.useRef)(null);(0,I.useEffect)(()=>{var e;o(null!==(e=r.value)&&void 0!==e?e:"")},[r.value]);let d=e=>{o(e),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{r.onChange(e)},300)};return(0,I.useEffect)(()=>()=>{s.current&&clearTimeout(s.current)},[]),(0,a.jsx)(en.TextInput,{value:i,onChange:e=>d(e.target.value),onBlur:e=>{s.current&&clearTimeout(s.current),r.onChange(e.target.value),r.onBlur()},placeholder:"Enter the paid amount",error:null===(e=l.error)||void 0===e?void 0:e.message,size:"sm"})}),el=(0,I.memo)(function(e){let{selectedDoctorChamber:t}=e,{control:n}=(0,S.Gc)(),[r,l,i,o,s,d]=(0,S.qo)({control:n,name:["type","paidAmount","discount","discountType","tests","isFeeIncluded"]}),u="FIRST_VISIT"===r?(null==t?void 0:t.newPatientFee)||0:(null==t?void 0:t.oldPatientFee)||0,c=(0,I.useMemo)(()=>s&&Array.isArray(s)&&0!==s.length?s.reduce((e,t)=>e+(("number"==typeof t.price?t.price:0)-("number"==typeof t.discount?t.discount:0)),0):0,[s]),m=("true"===d&&(null==s?void 0:s.length)>0?0:u)+c,p=(0,I.useMemo)(()=>{if(!i||!o)return 0;let e=parseInt(i,10)||0;return"amount"===o?Math.min(e,m):"percentage"===o?Math.round(m*e/100):0},[i,o,m]),h=Math.max(0,m-p);return(l?parseInt(l,10):0)>h?(0,a.jsxs)(O.b,{icon:(0,a.jsx)(B.Z,{size:16}),color:"yellow",title:"Amount Exceeds",children:["Paid amount cannot exceed payable amount of ",h," Tk"]}):null}),ei=(0,I.memo)(e=>{let{selectedDoctorChamber:t}=e,{control:n}=(0,S.Gc)(),[r]=(0,S.qo)({control:n,name:["tests"]}),[l,i]=(0,j.I)({key:"isFeeIncluded",defaultValue:!1}),{field:o}=(0,S.bc)({name:"isFeeIncluded",control:n,defaultValue:l?"true":"false"});return(0,I.useEffect)(()=>{o.onChange(l?"true":"false")},[l,o]),(0,a.jsx)(p.Box,{children:(0,a.jsxs)(h.Stack,{gap:"xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(ea,{selectedDoctorChamber:t}),(0,a.jsx)(er,{}),(null==r?void 0:r.length)>0&&(0,a.jsx)(y.Group,{gap:"xs",mt:"xs",children:(0,a.jsx)(x.u,{label:"If checked, the doctor's fee will be included with the tests",children:(0,a.jsx)(p.Box,{children:(0,a.jsx)(g.r,{checked:"true"===o.value,onChange:e=>i(e.currentTarget.checked),label:"Test Includes Doctor Fee"})})})})]}),(0,a.jsx)(el,{selectedDoctorChamber:t})]})})});ei.displayName="PaidAmountInput";var eo=n(74559),es=n(25499),ed=n(75540),eu=n(87967),ec=n(53729),em=n(4923),ep=n(11445),eh=n(86083),ev=n(17135);let ef=(0,I.memo)(function(e){var t,n;let{name:r="pCId",label:l="PC Name",placeholder:i="Select or Search PC",withAsterisk:o=!1,disabled:s=!1,totalPayableAmount:d=0,onPcSelect:u}=e;(0,es.C)(eo.nC);let[c,{open:m,close:p}]=(0,T.q)(!1),[v,f]=(0,I.useState)(null),{watch:g,setValue:x,formState:{errors:y}}=(0,S.Gc)(),j=g(r),{data:C,refetch:A}=(0,ed.K0)(),w=(0,I.useMemo)(()=>(null==C?void 0:C.data)||[],[null==C?void 0:C.data]),D=(0,I.useMemo)(()=>(null==w?void 0:w.map(e=>({value:null==e?void 0:e.id,label:"".concat(null==e?void 0:e.name," - ").concat(null==e?void 0:e.mobile)})))||[],[w]),F=(0,I.useCallback)(e=>{if(!e){x("pcAmount","");return}let t=parseFloat(e);isNaN(t)||t<0||(d>0&&t>d?x("pcAmount",d.toString()):x("pcAmount",e))},[x,d]),k=null==y?void 0:null===(t=y[r])||void 0===t?void 0:t.message;return(0,a.jsxs)(h.Stack,{gap:"lg",children:[(0,a.jsx)(eu.P,{label:l,placeholder:i,withAsterisk:o,disabled:s,data:D,value:j||null,onChange:e=>{if(e){let t=null==w?void 0:w.find(t=>(null==t?void 0:t.id)===e);f(t||null),x(r,e),null==u||u(t||null)}else f(null),x(r,""),x("pcAmount",""),null==u||u(null)},searchable:!0,clearable:!0,rightSection:(0,a.jsx)(eh.Z,{style:{width:(0,ec.h)(16),height:(0,ec.h)(16)},stroke:1.5}),limit:20,maxDropdownHeight:200,error:k,nothingFoundMessage:(0,a.jsx)(em.k,{onClick:m,bg:"#F1F3F5",p:6,className:"w-100 text-center",children:"Add new PC"})}),v&&(0,a.jsx)(en.TextInput,{label:(0,a.jsxs)(N.Text,{size:"sm",fw:500,c:"dark.6",children:["PC Amount"," ",d>0&&(0,a.jsxs)(N.Text,{component:"span",size:"sm",c:"red",children:["(Max: ৳",d,")"]})]}),placeholder:"Enter PC amount",type:"number",min:0,max:d||void 0,value:g("pcAmount")||"",onChange:e=>{var t;return F(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},error:null==y?void 0:null===(n=y.pcAmount)||void 0===n?void 0:n.message}),(0,a.jsx)(ep.h,{children:(0,a.jsx)(b.u,{opened:c,onClose:p,title:"Add New PC",centered:!0,children:(0,a.jsx)(ev._,{onValue:e=>{x(r,null==e?void 0:e.id),null==u||u(e),setTimeout(()=>{null==A||A()},1e3),p()}})})})]})});var eg=e=>{let{selectedDoctorChamber:t}=e,{watch:n}=(0,S.Gc)(),r="FIRST_VISIT"===n("type")?null==t?void 0:t.newPatientFee:null==t?void 0:t.oldPatientFee;return(0,a.jsx)(ef,{name:"pCId",label:"PC Name",placeholder:"Select or Search PC",totalPayableAmount:r||0})},ex=n(17382),ey=n(25789),eb=n(14587),ej=n(39215),eT=n(37947);let eC=/^(?:\+?88)?01[3-9]\d{8}$/;function eI(e){let t=e.replace(/\D/g,"");return t.startsWith("88")&&(t="0"+t.slice(2)),t}function eS(e){return eC.test(e)}var eA=e=>{var t,n,r;let{name:l="phone",label:i="Phone Number",required:o=!1}=e,{watch:s,setValue:d,setError:u,clearErrors:c,formState:{errors:m}}=(0,S.Gc)(),h=s(l)||"",v=s("doctorChamberId"),f=(0,I.useRef)(null),{results:x,loading:b,handleSearchChange:j,clearResults:T}=(0,ey.VZ)({phoneOnly:!0}),[C,{isFetching:A}]=(0,ex.ju)(),w=(0,I.useMemo)(()=>x.map(e=>({value:"".concat(e.phone,"-").concat(e.name,"-").concat(e.id),label:"".concat(e.phone," - ").concat(e.name),patient:e})),[x]);(0,I.useEffect)(()=>{v&&f.current&&C({param:f.current.phone,args:{doctorChamberId:v}}).unwrap().then(e=>{var t;let n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.find(e=>{var t,n;return e.patientId===(null===(t=f.current)||void 0===t?void 0:t.patientId)||e.phone===(null===(n=f.current)||void 0===n?void 0:n.phone)});(null==n?void 0:n.hasRecentAppointment)&&d("type","OLD_VISIT")}).catch(console.error)},[v,C,d]);let D=(0,I.useCallback)(e=>{let t=eI(e.split("-")[0]);if(t!==h){if(d(l,t,{shouldDirty:!0}),t.length>=11&&!eS(t)){u(l,{type:"manual",message:"Invalid phone number"});return}c(l),eS(t)&&j(t)}},[l,d,u,c,j]),F=(0,I.useCallback)(e=>{let[t,n,a]=e.split("-"),r=eI(t);if(!eS(r)){u(l,{type:"manual",message:"Invalid Bangladeshi phone number"});return}c(l),d(l,r,{shouldValidate:!0});let i=x.find(e=>e.phone===t&&e.name===n&&e.id===a);i&&(f.current=i,d("name",i.name),d("ageYear",String(i.ageYears)),d("gender",i.gender),v&&C({param:i.phone,args:{doctorChamberId:v}}).unwrap().then(e=>{var t;let n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.find(e=>e.patientId===i.patientId||e.phone===i.phone);(null==n?void 0:n.hasRecentAppointment)&&d("type","OLD_VISIT")}).catch(console.error))},[x,l,d,u,c,v,C]),k=(0,I.useCallback)(()=>{d(l,""),d("name",""),d("ageYear",""),d("gender",""),c(l),f.current=null,T()},[l,d,c,T]),P=(0,a.jsx)(y.Group,{wrap:"nowrap",children:(0,a.jsx)(N.Text,{size:"sm",fw:500,c:"gray.7",px:12,children:"+88"})}),q=(0,I.useMemo)(()=>b||A?(0,a.jsx)(eb.Loader,{size:"xs"}):h?(0,a.jsx)(eT.Z,{size:16,style:{cursor:"pointer"},onClick:k}):(0,a.jsx)(eh.Z,{size:16}),[b,A,h,k]),M=(0,es.C)(e=>e.auth.diagnostic),E=null!==(r=null!==(n=null==M?void 0:M.phone1)&&void 0!==n?n:null==M?void 0:M.phone2)&&void 0!==r?r:"01851503939",z=h===eI(E);return(0,a.jsxs)(p.Box,{children:[(0,a.jsx)(ej.F,{value:h,data:w,onChange:D,onOptionSubmit:F,label:(0,a.jsxs)(N.Text,{fw:500,children:[i,o&&(0,a.jsx)("span",{style:{color:"red"},children:" *"})]}),leftSection:P,rightSection:q,error:"string"==typeof m[l]?m[l]:null===(t=m[l])||void 0===t?void 0:t.message,description:"Enter a valid Bangladeshi phone number",limit:15,withScrollArea:!0,maxDropdownHeight:280}),(0,a.jsx)(g.r,{mt:12,checked:z,label:"Default phone",onChange:e=>{if(e.currentTarget.checked){let e=eI(E);eS(e)&&(c(l),d(l,e,{shouldValidate:!0}),j(e))}else k()}})]})},ew=n(77379);let eD=(0,I.memo)(function(e){var t;let{name:n,label:r,defaultValue:l,options:i,required:o=!1}=e,{control:s}=(0,S.Gc)(),{field:d}=(0,S.bc)({name:n,control:s,defaultValue:l});return(0,a.jsxs)(h.Stack,{gap:"xs",children:[(0,a.jsx)(N.Text,{size:"sm",fw:500,c:"dark.6",children:(0,a.jsxs)("span",{children:[r,o&&(0,a.jsx)("span",{style:{color:"red",marginLeft:4},children:"*"})]})}),(0,a.jsx)(ew.s,{value:null!==(t=d.value)&&void 0!==t?t:l,onChange:d.onChange,data:i,color:"blue",styles:{indicator:{backgroundColor:"var(--mantine-color-blue-6)"}}})]})});eD.displayName="SegmentedSelect";var eF=e=>{let{name:t,label:n,required:r=!1,options:l,handleChange:i,itemsPerPage:o=10}=e,{control:s,formState:d,setValue:u}=(0,S.Gc)(),c=d.errors[t],[m,h]=(0,I.useState)(0),v=Math.ceil((null==l?void 0:l.length)/o)||1,[f,g]=(0,I.useState)(!1);(0,I.useEffect)(()=>{l&&l.length>0&&!f&&(u(t,l[0].value,{shouldValidate:!0}),g(!0),i&&setTimeout(()=>{i(l[0].value)},0)),h(0)},[l,t,u,i,f]),(0,I.useEffect)(()=>{g(!1)},[l]);let b=(e,t)=>{t(e),null==i||i(e)},j=()=>h(e=>Math.max(e-1,0)),T=()=>h(e=>Math.min(e+1,v-1)),C=m*o,A=null==l?void 0:l.slice(C,C+o);return(0,a.jsx)(S.Qr,{control:s,name:t,render:e=>{var t;let{field:i}=e;return(0,a.jsxs)(p.Box,{children:[(0,a.jsxs)(N.Text,{size:"sm",fw:500,mb:"xs",children:[n," ",r&&(0,a.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,a.jsxs)(y.Group,{align:"center",gap:"xs",children:[(null==l?void 0:l.length)>o&&(0,a.jsx)(x.u,{label:"Previous Page",children:(0,a.jsx)(W.Button,{onClick:j,disabled:0===m,size:"xs",variant:"outline",w:30,p:0,children:"←"})}),(0,a.jsx)(y.Group,{gap:"xs",wrap:"wrap",children:(null==A?void 0:A.length)>0?A.map(e=>(0,a.jsx)(W.Button,{variant:i.value===e.value?"filled":"outline",onClick:()=>b(e.value,i.onChange),size:"xs",p:5,children:e.label},e.value)):(0,a.jsx)(N.Text,{size:"xs",c:"red",children:"No available options"})}),(null==l?void 0:l.length)>o&&(0,a.jsx)(x.u,{label:"Next Page",children:(0,a.jsx)(W.Button,{onClick:T,disabled:m>=v-1,size:"xs",variant:"outline",w:30,p:0,children:"→"})})]}),c&&(0,a.jsx)(N.Text,{size:"xs",c:"red",mt:4,children:null===(t=c.message)||void 0===t?void 0:t.toString()})]})}})},ek=n(71996),eP=e=>{let{name:t,label:n,size:r="sm",required:l,excludeDate:i,placeholder:o,handleChange:s,minDate:d,maxDate:u,disabled:c=!1}=e,{control:m,formState:p}=(0,S.Gc)();return p.errors[t],(0,a.jsx)(S.Qr,{control:m,name:t,defaultValue:new Date,render:e=>{let{field:{onChange:t,value:m,...p},fieldState:{error:h}}=e;return(0,a.jsx)(ek.W,{...p,label:n,size:r,valueFormat:"dddd, MMMM D, YYYY",required:l,error:null==h?void 0:h.message,placeholder:o,excludeDate:i,value:m,minDate:d,maxDate:u,onChange:e=>{t(e),s&&s(e)},disabled:c})}})},eN=n(42793),eq=n(46156),eM=n(33908),eE=n.n(eM),ez=n(13916),eG=n(49854),eV=n(68240),eR=n(94183),eZ=n(28317);let{useGetAllTimeSlotQuery:e_}=(0,eV.LC)({baseQuery:(0,eR.ni)({baseUrl:"http://sasthotech.local:5000/api/v2",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async n=>{let a="string"==typeof e?e:e.url;return a.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,eZ.t8)(a,await n.clone().json().catch(()=>null),(0,eG.x)()),n}).catch(async n=>{if(n instanceof TypeError){let n="string"==typeof e?e:e.url;if(!n.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,eZ.U2)(n,(0,eG.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw n})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","inventory","appointment","patient","sms","notice"]}).injectEndpoints({endpoints:e=>({getAllTimeSlot:e.query({query:e=>({url:"appointment/available-time-slots",method:"GET",params:e}),providesTags:["appointment"],transformResponse:e=>({data:e.data})})})});var eO=n(89822);function eB(e){let{selectedDoctorChamber:t}=e,{setValue:n,control:r}=(0,S.Gc)(),l=(0,S.qo)({control:r,name:"excludedDays"}),i=(null==t?void 0:t.id)||"",o=(0,S.qo)({control:r,name:"slotId"}),s=(0,S.qo)({control:r,name:"date"}),d=(0,I.useCallback)(e=>$(l||[])(e),[l]),u=(0,I.useMemo)(()=>{if(s){var e;let n=eE()(s).format("YYYY-MM-DD"),a=null!==(e=J[eE()(n).format("dddd")])&&void 0!==e?e:-1,r=null==t?void 0:t.slots.filter(e=>{let t=(0,eN.Z)(new Date(s),{hours:new Date(e.endTime).getHours(),minutes:new Date(e.endTime).getMinutes(),seconds:0,milliseconds:0}).getTime();return e.dayIds.includes(a)&&(0,eq.Z)(new Date,new Date(t))});return null==r?void 0:r.map(e=>{let t=e.slotName,n=eE()(e.startTime).format("hh:mm A"),a=eE()(e.endTime).format("hh:mm A"),r="".concat(t," ").concat(n," - ").concat(a);return{value:e.id,label:r}})}},[s,null==t?void 0:t.slots]);return(0,I.useEffect)(()=>{i&&o||n("date",null)},[i,o,n]),(0,I.useEffect)(()=>{if(!t)return;let e=new Date;d(e)?n("date",null):n("date",e)},[t,n,d]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eP,{name:"date",label:"Date",excludeDate:d,placeholder:"Select Date",disabled:!i||""===i,minDate:new Date}),(0,a.jsx)(p.Box,{mt:4,children:(0,a.jsx)(eF,{name:"slotId",label:"Scheduled Time",required:!0,options:null!=u?u:[]})}),(0,a.jsx)(p.Box,{children:(0,a.jsxs)(_.m,{defaultValue:"automatic",onChange:e=>{"automatic"==e&&n("selectedTime",void 0)},children:[(0,a.jsxs)(_.m.List,{mb:"lg",children:[(0,a.jsx)(_.m.Tab,{value:"automatic",children:"Automatic"}),(0,a.jsx)(_.m.Tab,{value:"slots",children:"Slots"})]}),(0,a.jsx)(_.m.Panel,{value:"automatic",c:"dimmed",children:(0,a.jsxs)(y.Group,{style:{gap:6},align:"center",children:[(0,a.jsx)(ez.Z,{size:18}),(0,a.jsx)(N.Text,{size:"sm",children:"The patient is assigned to a time serially."})]})}),(0,a.jsx)(_.m.Panel,{value:"slots",children:s?(0,a.jsx)(eL,{selectedDoctorChamber:t,selectedDate:s.toISOString()}):(0,a.jsx)(N.Text,{size:"sm",c:"dimmed",children:"Please select a date to view available slots."})})]})})]})}function eL(e){let{selectedDoctorChamber:t,selectedDate:n}=e,{watch:r,setValue:i,control:o,formState:s}=(0,S.Gc)(),d=r("slotId"),u=r("doctorChamberId"),[c,m]=(0,I.useState)(""),[h,v]=(0,I.useState)("combined"),{data:f}=e_({doctorChamberId:u,date:n,slotId:d},{skip:!d||!u||!n,refetchOnMountOrArgChange:!0}),{data:g}=(0,l.lF)({doctorChamberId:u,date:n,slotId:d},{skip:!d||!u||!n,refetchOnMountOrArgChange:!0}),x=(0,I.useMemo)(()=>{var e,a;let r=[];if((null==f?void 0:f.data)&&t&&n){let t=null==f?void 0:null===(e=f.data[0])||void 0===e?void 0:e.availableSlots.map(e=>{let t=eE()(e.time).format("hh:mm A");return{value:e.time,label:t,serialNo:e.serialNo,type:"available"}});r.push(...t||[])}if((null==g?void 0:g.data)&&t&&n){let e=null===(a=g.data.availableReservedSlots)||void 0===a?void 0:a.map(e=>{let t=eE()(e.timeOf).format("hh:mm A");return{value:e.timeOf,label:t,serialNo:e.serialNo,type:"reserved"}});r.push(...e||[])}return r.sort((e,t)=>new Date(e.value).getTime()-new Date(t.value).getTime())},[null==f?void 0:f.data,null==g?void 0:g.data,t,n]),b=(0,I.useMemo)(()=>x.filter(e=>{var t;let n=null===(t=e.serialNo)||void 0===t?void 0:t.toString().includes(c),a="combined"===h||e.type===h;return""==c?a:n&&a}),[x,c,h]),j=s.errors.selectedTime;return(0,a.jsx)(S.Qr,{control:o,name:"selectedTime",render:e=>{var t;let{field:n}=e;return(0,a.jsxs)(p.Box,{children:[(0,a.jsxs)(y.Group,{mb:"xs",justify:"space-between",children:[(0,a.jsx)(N.Text,{size:"sm",fw:500,children:"Select Time Slot"}),(0,a.jsx)(ew.s,{color:"blue",size:"xs",value:h,onChange:v,data:[{label:"Combined",value:"combined"},{label:"Available",value:"available"},{label:"Reserved",value:"reserved"}]})]}),(null==x?void 0:x.length)>0&&(0,a.jsx)(en.TextInput,{placeholder:"Search by serial number...",value:c,onChange:e=>m(e.currentTarget.value),mb:"lg",size:"sm"}),(null==b?void 0:b.length)>0?(0,a.jsx)(eO.x,{h:150,type:"auto",children:(0,a.jsx)(y.Group,{gap:"xs",wrap:"wrap",mb:"sm",children:b.map(e=>{var t;return(0,a.jsxs)(W.Button,{variant:n.value===e.value?"filled":"outline",color:"reserved"===e.type?"orange":"blue",onClick:()=>{n.onChange(e.value),i("selectedSlotType",e.type)},size:"xs",p:8,children:[null==e?void 0:null===(t=e.serialNo)||void 0===t?void 0:t.toUpperCase()," | ",null==e?void 0:e.label]},e.value)})})}):(0,a.jsx)(N.Text,{size:"xs",c:"red",children:c?"No matching slots found":"No slots available"}),j&&(0,a.jsx)(N.Text,{size:"xs",c:"red",mt:4,children:null===(t=j.message)||void 0===t?void 0:t.toString()})]})}})}let eY=(0,I.memo)(function(e){let{visibleFrom:t,hiddenFrom:n,selectedDoctorChamber:r}=e;return(0,a.jsx)(p.Box,{visibleFrom:t,hiddenFrom:n,children:(0,a.jsx)(M,{title:"Appointment Details",children:(0,a.jsxs)(h.Stack,{gap:"lg",children:[(0,a.jsx)(eD,{name:"type",label:"Appointment type",defaultValue:"FIRST_VISIT",options:[{label:"First Visit",value:"FIRST_VISIT"},{label:"Old Visit",value:"OLD_VISIT"}]}),(0,a.jsx)(ei,{selectedDoctorChamber:r}),(0,a.jsx)(U,{selectedDoctorChamber:r})]})})})});function eH(){let e=(0,S.cI)({defaultValues:X,resolver:(0,m.F)(Q)}),[t,n]=(0,I.useState)(null),[p,A]=(0,I.useState)(0),[D,F]=(0,j.I)({key:"show-pc-details-appointment",defaultValue:!1}),[k,P]=(0,j.I)({key:"appointment-doctor-preference",defaultValue:{saveForNext:!0,doctorChamberId:null}}),{data:N,isFetching:q}=(0,l.LW)(void 0),[E,{isLoading:z}]=(0,l._C)(),[G,{isLoading:V}]=(0,l.tP)(),[R,{open:_,close:O}]=(0,T.q)(!1),[B,L]=(0,I.useState)(null),Y=null==N?void 0:N.data,H=(0,i.dB)(),U=(0,I.useMemo)(()=>(null==Y?void 0:Y.map(e=>({label:e.Doctor.name,value:e.id})))||[],[Y]),W=async t=>{try{var n;let a=E;"reserved"===t.selectedSlotType&&(a=G),delete t.selectedSlotType,delete t.excludedDays;let l={...t,date:null===(n=t.date)||void 0===n?void 0:n.toString(),paidAmount:Number(t.paidAmount),discount:Number(t.discount)||0,discountType:"none"===t.discountType?"percentage":t.discountType,ageYear:Number(t.ageYear)};l.pCId&&""!==l.pCId||delete l.pCId,l.pcAmount&&""!==l.pcAmount||delete l.pcAmount,l.tests&&Array.isArray(l.tests)&&l.tests.length>0?l.tests=l.tests.map(e=>({testId:e.testId,name:e.name,price:Number(e.price)||0,discount:Number(e.discount)||0,discountType:e.discountType||"amount"})):delete l.tests,console.log("Final Payload:",l);let i=await a(l).unwrap();if(i&&i.data.id){let t=(await (0,r._)(i.data.id)).data;if(k.saveForNext||Y&&1===Y.length){let t=e.getValues("doctorChamberId"),n=e.getValues("slotId"),a=e.getValues("excludedDays");P({saveForNext:k.saveForNext,doctorChamberId:t}),null==e||e.reset({...X,doctorChamberId:t,slotId:n,excludedDays:a,name:"",ageYear:"",address:"",district:"",thana:"",tests:[]}),A(e=>e+1)}else P({saveForNext:k.saveForNext,doctorChamberId:null}),null==e||e.reset(X);A(e=>e+1),w().fire({title:"Appointment Booked Successfully!",text:"Print the serial token.",icon:"success",confirmButtonText:"Print",showCancelButton:!0,cancelButtonText:"Cancel",preConfirm:()=>{L(t),_()}})}}catch(e){w().fire({title:"Error",text:"Failed to book appointment.",icon:"error"})}},K=(0,I.useCallback)(t=>{if(!t){n(null),k.saveForNext&&P({saveForNext:k.saveForNext,doctorChamberId:null});return}let a=null==Y?void 0:Y.find(e=>e.id===t);if(a&&(n(a),k.saveForNext&&P({saveForNext:k.saveForNext,doctorChamberId:t}),a)){let t=[];null==a||a.slots.forEach(e=>{t=[...t,...e.dayIds]}),t=[...new Set(t)],e.setValue("excludedDays",t)}},[Y,e,k,P]),J=(0,I.useCallback)(t=>{e.getValues("doctorChamberId")!==t&&(e.setValue("doctorChamberId",t),K(t))},[e,K]);(0,I.useEffect)(()=>{if(Y&&e){if(k.saveForNext&&k.doctorChamberId&&Y.find(e=>e.id===k.doctorChamberId))J(k.doctorChamberId);else if(1===Y.length){let e=Y[0];J(e.id),P({saveForNext:k.saveForNext,doctorChamberId:e.id})}}},[Y,e,k.saveForNext,k.doctorChamberId,P,J]);let $=(0,I.useCallback)(e=>{F(e.currentTarget.checked)},[F]);return q?(0,a.jsx)(v.O,{height:160}):(0,a.jsxs)(S.RV,{...e,children:[(0,a.jsxs)("form",{onSubmit:e.handleSubmit(W),children:[(0,a.jsxs)(f.Grid,{gutter:"md",children:[(0,a.jsx)(f.Grid.Col,{span:{base:12,md:6},children:(0,a.jsxs)(h.Stack,{gap:"md",children:[(0,a.jsx)(M,{title:"Patient Details",children:(0,a.jsxs)(h.Stack,{gap:"lg",children:[(0,a.jsx)(eA,{name:"phone",label:"Phone Number (type after 01)"},p),(0,a.jsx)(u.Z,{name:"name",label:"Full Name",placeholder:"Enter full name",required:!0}),(0,a.jsx)(u.Z,{name:"ageYear",label:"Age",required:!0,placeholder:"Enter age"}),(0,a.jsx)(eD,{name:"gender",label:"Gender",required:!0,defaultValue:"male",options:[{label:"Male",value:"male"},{label:"Female",value:"female"}]}),(0,a.jsx)(u.Z,{name:"address",label:"Address",placeholder:"Enter Patient address"}),(0,a.jsxs)(f.Grid,{children:[(0,a.jsx)(f.Grid.Col,{span:6,children:(0,a.jsx)(h.Stack,{gap:"lg",children:(0,a.jsx)(c.Z,{name:"district",label:"Select District",placeholder:"Select the District",options:s.map(e=>({label:e.name,value:e.name}))})})}),(0,a.jsx)(f.Grid.Col,{span:6,children:(0,a.jsx)(eU,{upazilas:d,allDistricts:s})})]})]})}),(0,a.jsx)(eY,{visibleFrom:"md",selectedDoctorChamber:t})]})}),(0,a.jsx)(f.Grid.Col,{span:{base:12,md:6},children:(0,a.jsxs)(h.Stack,{gap:"md",children:[(0,a.jsx)(M,{title:"Doctor Details",children:(0,a.jsxs)(h.Stack,{gap:"lg",children:[(0,a.jsx)(c.Z,{name:"doctorChamberId",label:"Select doctor",placeholder:"Select the doctor",options:U,handleChange:K}),(0,a.jsx)(g.r,{label:"Save Doctor For Next Appointment",checked:k.saveForNext,onChange:t=>{let n=t.currentTarget.checked;P({saveForNext:n,doctorChamberId:n?e.getValues("doctorChamberId"):null})}}),(0,a.jsx)(eB,{selectedDoctorChamber:t})]})}),(0,a.jsx)(Z,{}),(0,a.jsx)(M,{title:"PC Details",rightSection:(0,a.jsx)(x.u,{label:D?"Hide PC details":"Show PC details",children:(0,a.jsx)(g.r,{checked:D,onChange:$,size:"md",color:"blue",onLabel:"ON",offLabel:"OFF",thumbIcon:(0,a.jsx)(C.Z,{size:"0.8rem",stroke:2.5})})}),children:(0,a.jsx)(h.Stack,{gap:"sm",children:D&&(0,a.jsx)(eg,{selectedDoctorChamber:t})})}),(0,a.jsx)(eY,{hiddenFrom:"md",selectedDoctorChamber:t})]})})]}),(0,a.jsxs)(y.Group,{justify:"center",mt:22,mb:44,children:[(0,a.jsx)(ee,{disable:V||z,selectedDoctorChamber:t}),(0,a.jsx)(et,{})]})]}),(0,a.jsx)(b.u,{opened:R,onClose:O,size:"80%",radius:"md",transitionProps:{transition:"fade",duration:200},overlayProps:{backgroundOpacity:.55,blur:2},title:"Appointment Token",children:B&&(()=>{var e,n,r,l,i;let s=null===(e=o.m.find(e=>e.id===H))||void 0===e?void 0:e.Component;return s?(0,a.jsx)(s,{doctor:{id:"",name:null!==(l=null==t?void 0:null===(n=t.Doctor)||void 0===n?void 0:n.name)&&void 0!==l?l:"",designation:null!==(i=null==t?void 0:null===(r=t.Doctor)||void 0===r?void 0:r.designation)&&void 0!==i?i:""},appointment:B}):null})()})]})}let eU=(0,I.memo)(function(e){let{upazilas:t,allDistricts:n}=e,{watch:r,setValue:l}=(0,S.Gc)(),i=r("district"),o=(0,I.useMemo)(()=>{var e;return i&&null!==(e=n.find(e=>e.name===i))&&void 0!==e?e:null},[i,n]),s=o?o.id:null;(0,I.useEffect)(()=>{l("thana","")},[i,l]);let d=(0,I.useMemo)(()=>s?t.filter(e=>Number(e.district_id)===Number(s)).map(e=>({label:e.name,value:e.name})):[],[s,t]);return(0,a.jsx)(c.Z,{name:"thana",label:"Select Upazila",placeholder:i?"Select the Upazila":"Select a district first",options:d,disabled:!i||0===d.length})})},84153:function(e,t,n){"use strict";var a=n(68328),r=n(89043),l=n(22041),i=n(41224),o=n(31204),s=n(9323),d=n(65850),u=n(42870),c=n(42116),m=n(4505);let p=(0,m.memo)(e=>{let{PDFTemplate:t}=e,[n,i]=(0,d.Eb)({document:(0,a.jsx)(t,{})});return((0,m.useEffect)(()=>{let e,r=0;return n.error&&(console.log("PDF ERROR: ",n.error),n.error&&r<3&&(e=setTimeout(()=>{console.log("Retrying PDF generation attempt ".concat(r+1,"/").concat(3)),i((0,a.jsx)(t,{})),r++},2e3))),()=>{e&&clearTimeout(e)}},[t,n.error,i]),n.loading)?(0,a.jsx)(r.X,{shadow:"xs",p:"xl",withBorder:!0,children:(0,a.jsx)(l.Text,{size:"lg",ta:"center",children:"Loading PDF..."})}):n.error?(0,a.jsx)(r.X,{shadow:"xs",p:"xl",withBorder:!0,bg:"red.1",children:(0,a.jsxs)(l.Text,{c:"red",size:"lg",ta:"center",children:["Error loading PDF. Attempting to reload...",JSON.stringify(n.error)]})}):(0,a.jsx)(h,{instance:n})});p.displayName="RenderReactPdfWithRetry";let h=(0,m.memo)(e=>{let{instance:t}=e,n=(0,s.a)("(max-width: 768px)");return t.url?n?(0,a.jsxs)(i.Stack,{align:"center",justify:"center",gap:"lg",p:"xl",h:"100%",children:[(0,a.jsx)(l.Text,{size:"lg",fw:500,ta:"center",c:"dimmed",children:"PDF preview is not available on mobile devices"}),(0,a.jsx)(o.Button,{component:"a",href:t.url,download:"document.pdf",leftSection:(0,a.jsx)(u.Z,{size:24}),children:"Download PDF"}),(0,a.jsx)(l.Text,{size:"sm",c:"dimmed",ta:"center",children:"Tap the button above to download and view the PDF"})]}):(0,a.jsx)("iframe",{src:t.url,width:"100%",height:"1000px",style:{border:"none"}}):null});h.displayName="PDFPreview",t.Z=(0,c.default)(()=>Promise.resolve(p),{ssr:!1})},38254:function(e,t,n){"use strict";n.d(t,{x:function(){return o}});var a=n(83501),r=n(25499),l=n(25626),i=n(4505);let o=()=>{let e=(0,r.C)(e=>e.tests),t=(0,r.T)();(0,i.useEffect)(()=>{let n=async()=>{let{success:e,data:n}=await (0,a.Y)();if(e){let e=n.map(e=>{var t;return null==e?void 0:null===(t=e.tests)||void 0===t?void 0:t.map(e=>e)}).flat();t((0,l._W)(e))}else console.error(n)};(null==e?void 0:e.adminTests)||n()},[])}},25789:function(e,t,n){"use strict";n.d(t,{Nt:function(){return s},VZ:function(){return m},nf:function(){return c}});var a=n(4505),r=n(73626),l=n(46309),i=n(36885),o=n(17382);function s(e){return!!e&&0!==e.length&&/^[a-zA-Z]/.test(e.trim())}function d(e){var t,n,a;return{id:e.id,name:e.name,phone:e.phone,gender:e.gender||"",ageYears:null!==(t=e.ageYear)&&void 0!==t?t:0,ageMonths:null!==(n=e.ageMonth)&&void 0!==n?n:0,ageDays:null!==(a=e.ageDay)&&void 0!==a?a:0,sourceType:"phone"}}function u(e,t,n){var a,r,l;return{id:"".concat(n,"-").concat(e.id),name:e.name,phone:e.phone,gender:e.gender||"",ageYears:null!==(a=e.ageYear)&&void 0!==a?a:0,ageMonths:null!==(r=e.ageMonth)&&void 0!==r?r:0,ageDays:null!==(l=e.ageDay)&&void 0!==l?l:0,sourceType:n,[n]:t,patientId:e.patientId}}let c={patientId:"Patient ID",labId:"Lab ID",phone:"Phone Number",serial:"Serial No."};function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{selectedDate:t=null,phoneOnly:n=!1}=e,[c]=(0,o.n8)(),[m,p]=(0,a.useState)(""),[h,v]=(0,a.useState)(!1),[f,g]=(0,a.useState)([]),x=(0,a.useCallback)(async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(!e||e.length<1){g([]);return}v(!0);try{if(!n&&s(e)){let t=null==a?void 0:a.toISOString(),{success:n,data:l}=await (0,i.O)(e,t);if(n&&l){var r,o,m,p,h,f,x,y;let t=(r={...l,serial:e},{id:"serial-".concat(r.serial),name:r.patient.name,phone:r.patient.phone,gender:r.patient.gender||"",ageYears:null!==(f=r.patient.ageYear)&&void 0!==f?f:0,ageMonths:null!==(x=r.patient.ageMonth)&&void 0!==x?x:0,ageDays:null!==(y=r.patient.ageDay)&&void 0!==y?y:0,sourceType:"serial",originalSerial:r.serial,doctorId:null===(m=r.doctorChamber)||void 0===m?void 0:null===(o=m.Doctor)||void 0===o?void 0:o.id,doctorName:null===(h=r.doctorChamber)||void 0===h?void 0:null===(p=h.Doctor)||void 0===p?void 0:p.name});g([t])}else g([])}else if(!n&&function(e){if(!e||0===e.length)return!1;let t=e.trim();return/^\d+$/.test(t)&&t.length<=8}(e)){let t=parseInt(e.trim(),10),[n,a]=await Promise.allSettled([c({patientId:t}).unwrap(),c({labId:t}).unwrap()]),r=[];if("fulfilled"===n.status&&n.value){let e=u(n.value,t,"patientId");r.push(e)}if("fulfilled"===a.status&&a.value){let e=u(a.value,t,"labId");r.push(e)}g(r)}else{let{success:t,data:n}=await (0,l.c)(e);if(t&&Array.isArray(n)){let e=n.map(d);g(e)}else g([])}}catch(e){console.error("Patient search error:",e),g([])}finally{v(!1)}},[c,t]),y=(0,r.y)(e=>{x(e,t)},300),b=(0,a.useCallback)(e=>{p(e),y(e)},[y]),j=(0,a.useCallback)(()=>{p(""),g([])},[]);return{searchValue:m,setSearchValue:p,loading:h,results:f,setResults:g,performSearch:x,handleSearchChange:b,clearResults:j}}},22392:function(e,t,n){"use strict";n.d(t,{_:function(){return i}});var a=n(72940),r=n(6780),l=n(67732);let i=async e=>{try{let t=await r.default.get("".concat("http://sasthotech.local:5000/api/v1","/appointment/").concat(e),a.FD);return{success:!0,data:t.data.data}}catch(e){if(e instanceof l.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}}},83501:function(e,t,n){"use strict";n.d(t,{Y:function(){return l}});var a=n(49854),r=n(67732);let l=async()=>{try{let e=await (0,a.d)("testCategory/admin");return{success:!0,data:e.data}}catch(t){if(t instanceof r.d7){var e;return{success:!1,data:null===(e=t.response)||void 0===e?void 0:e.data.message}}return{success:!1,data:"An error occurred"}}}},46309:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var a=n(72940),r=n(6780),l=n(67732);let i=async e=>{try{let t=await r.default.get("".concat("http://sasthotech.local:5000/api/v1","/patient/").concat(e),a.FD);return{success:!0,data:t.data.data}}catch(e){if(e instanceof l.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}}},36885:function(e,t,n){"use strict";n.d(t,{O:function(){return i}});var a=n(72940),r=n(6780),l=n(67732);let i=async(e,t,n,i)=>{try{let l=await r.default.get("".concat("http://sasthotech.local:5000/api/v1","/appointment/patient/").concat(e),{...a.FD,params:{date:t,isPhoneSearch:n,status:i}});return{success:!0,data:l.data.data}}catch(e){if(e instanceof l.d7){var o;return{success:!1,data:null===(o=e.response)||void 0===o?void 0:o.data.message}}return{success:!1,data:"An error occurred"}}}},25922:function(e,t,n){"use strict";n.d(t,{BG:function(){return f},Fp:function(){return g},LW:function(){return a},U6:function(){return p},XK:function(){return v},_C:function(){return o},bX:function(){return l},ei:function(){return r},lF:function(){return m},mu:function(){return d},mx:function(){return s},tP:function(){return c}});let{useGetAllDoctorQuery:a,useGetDoctorQuery:r,useGetSingleDoctorQuery:l,useGetAllTimeSlotQuery:i,useCreateAppointmentMutation:o,useAllAppointmentsQuery:s,useGetAppointmentDashboardQuery:d,useUpdateAppointmentMutation:u,useCreateReservedAppointmentMutation:c,useGetAllReservedTimeSlotQuery:m,useStartQueueMutation:p,useGetRunningSessionsQuery:h,useGetAppointmentQuery:v,useAllAppointmentsWithoutGroupingQuery:f,useGetSingleDoctorTestsQuery:g}=n(78101).g.injectEndpoints({endpoints:e=>({getAllDoctor:e.query({query:()=>({url:"/doctorchamber",method:"GET"}),providesTags:["doctor"],transformResponse:e=>({data:e.data})}),getAllAdminDoctor:e.query({query:()=>({url:"/doctorchamber",method:"GET"}),providesTags:["doctor"],transformResponse:e=>({data:e.data})}),getDoctor:e.query({query:e=>({url:"/doctorchamber/".concat(e),method:"GET"}),providesTags:["doctor"],transformResponse:e=>({data:e.data})}),getSingleDoctor:e.query({query:e=>({url:"/doctor/".concat(e),method:"GET"}),providesTags:["doctor"],transformResponse:e=>({data:e.data})}),getAppointmentDashboard:e.query({query:e=>{let{from:t,to:n}=e;return{url:"/appointment/dashboard",method:"GET",params:{from:t instanceof Date?t.toISOString():t,to:n instanceof Date?n.toISOString():n}}},providesTags:["doctor"],keepUnusedDataFor:86400,transformResponse:e=>e}),getAllTimeSlot:e.query({query:e=>({url:"appointment/available-time-slots",method:"GET",params:e}),providesTags:["appointment"],transformResponse:e=>({data:e.data})}),createAppointment:e.mutation({query:e=>({url:"/appointment",method:"POST",body:e}),invalidatesTags:["appointment"]}),getAllReservedTimeSlot:e.query({query:e=>({url:"appointment/reserved-slots",method:"GET",params:e}),providesTags:["appointment"],transformResponse:e=>({data:e.data})}),createReservedAppointment:e.mutation({query:e=>({url:"/appointment/fill-reserved",method:"POST",body:e}),invalidatesTags:["appointment"]}),updateAppointment:e.mutation({query:e=>{let{id:t,...n}=e;return{url:"/appointment/".concat(t),method:"PATCH",body:n}},invalidatesTags:["appointment"]}),allAppointments:e.query({query:e=>({url:"/appointment/doctor",method:"GET",params:e}),providesTags:["appointment"],transformResponse:e=>({data:e.data})}),allAppointmentsWithoutGrouping:e.query({query:e=>({url:"/appointment",method:"GET",params:e}),transformResponse:e=>{var t;return{data:null===(t=e.data)||void 0===t?void 0:t.items}}}),startQueue:e.mutation({query:e=>({url:"/appointment/start-queue",method:"POST",body:e}),invalidatesTags:["appointment"]}),getRunningSessions:e.query({query:()=>({url:"/appointment/live/running-sessions",method:"GET"}),providesTags:["appointment"],transformResponse:e=>({message:e.message,sessions:e.sessions})}),getAppointment:e.query({query:e=>({url:"/appointment/".concat(e),method:"GET"}),providesTags:["appointment"],transformResponse:e=>({data:e.data})}),getSingleDoctorTests:e.query({query:e=>({url:"/doctor/".concat(e,"/tests")})})})})},17382:function(e,t,n){"use strict";n.d(t,{ju:function(){return r},n8:function(){return l},wX:function(){return a}});let{useGetPatientDetailsInfoQuery:a,useLazyGetPatientDetailsInfoQuery:r,useLazyGetPatientInfoQuery:l}=n(78101).g.injectEndpoints({endpoints:e=>({getPatientDetailsInfo:e.query({query:e=>{let{param:t,args:n}=e;return{url:"patient/appointment/".concat(t),method:"GET",params:n}},providesTags:["patient"],transformResponse:e=>({data:e.data})}),getPatientInfo:e.query({query:e=>({url:"patient/info",method:"GET",params:e}),providesTags:["patient"],transformResponse:e=>e.data})})})},78101:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var a=n(49854),r=n(68240),l=n(94183),i=n(28317);let o=(0,r.LC)({baseQuery:(0,l.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async n=>{let r="string"==typeof e?e:e.url;return r.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,i.t8)(r,await n.clone().json().catch(()=>null),(0,a.x)()),n}).catch(async n=>{if(n instanceof TypeError){let n="string"==typeof e?e:e.url;if(!n.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,i.U2)(n,(0,a.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw n})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},74559:function(e,t,n){"use strict";n.d(t,{Im:function(){return i},av:function(){return l},nC:function(){return r}});let a=(0,n(79258).createSlice)({name:"auth",initialState:{isAuth:null,user:null,isProfileIncomplete:!1,diagnostic:null},reducers:{setUser:(e,t)=>{var n;e.user=t.payload,e.isAuth=!!t.payload,(null===(n=t.payload)||void 0===n?void 0:n.name)?localStorage.setItem("name",t.payload.name):localStorage.removeItem("name")},setDiagnostic:(e,t)=>{let n=t.payload;"hospital.sasthotech.com"===window.location.hostname?n.activeLogo=n.logo:n.activeLogo=n.offlineLogo,e.diagnostic=n},setProfileIncomplete:(e,t)=>{e.isProfileIncomplete=t.payload}}}),r=e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.role},{setUser:l,setDiagnostic:i}=a.actions;t.ZP=a.reducer},25626:function(e,t,n){"use strict";let a;n.d(t,{H3:function(){return u},Z2:function(){return m},Zw:function(){return x},_W:function(){return d},gu:function(){return h},lF:function(){return v},mC:function(){return g},s9:function(){return p},se:function(){return f}});var r=n(79258),l=n(69192),i=n(28317);function o(){return a||(a=(0,i.MT)("test-frequency-store","test-frequency")),a}let s=new Intl.Collator,d=(0,r.createAsyncThunk)("tests/setAdminTests",async e=>{let t=await (0,i.qh)().catch(()=>[]);return t.length?(await (0,i.vw)(t,o()),(0,i.ZH)()):t=await (0,i.qh)(o()).catch(()=>[]),[e,t]}),u=(0,r.createAsyncThunk)("tests/increaseTestFrequencies",async e=>(await Promise.all(e.map(e=>(0,i.Vx)(e.id,e=>(e||0)+1),o())).catch(),await (0,i.qh)(o()).catch(()=>[]))),c=(0,r.createSlice)({name:"tests",initialState:{adminCategories:[],adminTests:null,superAdminCategories:[]},reducers:{setAdminCategories:(e,t)=>{e.adminCategories=t.payload},removeAdminCategories:(e,t)=>{var n;e.adminCategories=null===(n=e.adminCategories)||void 0===n?void 0:n.filter(e=>e.id!==t.payload.id)},updateTestsInAdminCategories:(e,t)=>{var n;let a=t.payload;console.log(a),e.adminCategories=null===(n=e.adminCategories)||void 0===n?void 0:n.map(e=>({...e,tests:e.tests.map(e=>a.find(t=>t.id===e.id)||e)}))},removeTestFromAdminCategories:(e,t)=>{var n;e.adminCategories=null===(n=e.adminCategories)||void 0===n?void 0:n.map(e=>({...e,tests:e.tests.filter(e=>e.id!==t.payload.id)}))},removeTestFromSuperAdminCategories:(e,t)=>{var n;e.superAdminCategories=null===(n=e.superAdminCategories)||void 0===n?void 0:n.map(e=>({...e,tests:e.tests.filter(e=>e.id!==t.payload.id)}))},setSuperAdminCategories:(e,t)=>{e.superAdminCategories=t.payload},removeSuperAdminCategories:(e,t)=>{var n;e.superAdminCategories=null===(n=e.superAdminCategories)||void 0===n?void 0:n.filter(e=>e.id!==t.payload.id)}},extraReducers:e=>{e.addCase(d.fulfilled,(e,t)=>{let n=t.payload[0],a=new Map(t.payload[1]);if(Array.isArray(n))e.adminTests=[...n];else{if(e.adminTests){let t=e.adminTests.findIndex(e=>e.id===n.id);t>=0?e.adminTests[t]=n:e.adminTests.push(n)}else e.adminTests=[n];if(e.adminCategories){for(let t=0;t<e.adminCategories.length;t++)for(let a=0;a<e.adminCategories[t].tests.length;a++)if(n.id===e.adminCategories[t].tests[a].id){e.adminCategories[t].tests[a]=n;break}}}e.adminTests.sort((e,t)=>{var n,r;return(null!==(n=a.get(t.id))&&void 0!==n?n:0)-(null!==(r=a.get(e.id))&&void 0!==r?r:0)||s.compare(e.name,t.name)})}),e.addCase(u.fulfilled,(e,t)=>{var n;let a=new Map(t.payload);null===(n=e.adminTests)||void 0===n||n.sort((e,t)=>{var n,r;return(null!==(n=a.get(t.id))&&void 0!==n?n:0)-(null!==(r=a.get(e.id))&&void 0!==r?r:0)||s.compare(e.name,t.name)})})}});(0,l.createSelector)([e=>e.tests.adminCategories],e=>new Map(null==e?void 0:e.map(e=>[+e.id,e])));let{setAdminCategories:m,removeAdminCategories:p,setSuperAdminCategories:h,removeSuperAdminCategories:v,removeTestFromAdminCategories:f,removeTestFromSuperAdminCategories:g,updateTestsInAdminCategories:x}=c.actions;t.ZP=c.reducer},65038:function(e,t,n){"use strict";var a=n(68328),r=n(55911),l=n(4505),i=n(80948);let o=(0,l.memo)(function(e){let{type:t="text",name:n,placeholder:o,size:s="sm",label:d,required:u,handleChange:c,defaultValue:m,disabled:p=!1}=e,{control:h,setValue:v}=(0,i.Gc)();return(0,l.useEffect)(()=>{m&&v(n,m)},[m,n,v]),(0,a.jsx)(i.Qr,{control:h,name:n,render:e=>{let{field:l,fieldState:{error:i}}=e;return(0,a.jsx)(r.TextInput,{...l,label:(0,a.jsxs)("span",{children:[d,u&&(0,a.jsx)("span",{style:{color:"red",marginLeft:4},children:"*"})]}),type:t,size:s,onChange:e=>{l.onChange(e.target.value),null==c||c(e.target.value)},error:null==i?void 0:i.message,placeholder:o,disabled:p,onFocus:e=>{0==Number(e.currentTarget.value)&&v(n,"")}})}})});t.Z=o},72071:function(e,t,n){"use strict";var a=n(68328),r=n(4505),l=n(87967),i=n(80948);let o=(0,r.memo)(function(e){let{name:t,size:n="sm",label:o,placeholder:s,required:d=!1,options:u,handleChange:c,defaultValue:m,disabled:p=!1}=e,{control:h}=(0,i.Gc)(),{isSubmitSuccessful:v}=(0,i.cl)({control:h,name:t,exact:!0}),f=e=>{null==c||c(e)};return(0,a.jsx)(i.Qr,{control:h,name:t,defaultValue:m,render:e=>{let{field:t,fieldState:{error:a}}=e;return(0,r.createElement)(l.P,{...t,key:v?"reset":"normal",label:o,placeholder:s,onChange:e=>{t.onChange(e),f(e)},data:u,size:n,searchable:!0,required:d,value:t.value,error:null==a?void 0:a.message,disabled:p,clearable:!0})}})});t.Z=o},88531:function(e,t,n){"use strict";n.d(t,{V:function(){return function e(t){if(t in a)return a[t];let n="";return t>=1e5&&(n+=e(Math.floor(t/1e5))+" lac ",t%=1e5),t>=1e3&&(n+=e(Math.floor(t/1e3))+" thousand ",t%=1e3),t>=100&&(n+=e(Math.floor(t/100))+" hundred ",t%=100),t>0&&(""!==n&&(n+=" and "),t<20?n+=a[t]:(n+=a[10*Math.floor(t/10)],t%10>0&&(n+="-"+a[t%10]))),n}}});let a={0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen",17:"seventeen",18:"eighteen",19:"nineteen",20:"twenty",30:"thirty",40:"forty",50:"fifty",60:"sixty",70:"seventy",80:"eighty",90:"ninety"}}},function(e){e.O(0,[1601,2975,3313,9826,4404,3439,7281,7852,3069,6945,3852,1656,9722,4670,9258,9533,966,12,7538,1166,7967,6029,6306,7698,3583,7186,4193,4890,6625,6004,4691,7135,1321,9175,7402,1744],function(){return e(e.s=90982)}),_N_E=e.O()}]);