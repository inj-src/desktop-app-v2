(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3403],{10970:function(e,t,i){Promise.resolve().then(i.bind(i,86183))},86183:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return et}});var n=i(68328),o=i(69667),a=i(7203),l=i(38254),r=i(64159),s=i(29998),d=i(25499),c=i(76401),u=i(4505);let m=()=>{let e=(0,d.T)(),t=(0,d.C)(e=>e.auth.diagnostic),i=(0,d.C)(e=>e.nurses.allNurses);(0,u.useEffect)(()=>{let n=async()=>{let{success:t,data:i}=await (0,s.C)();t?e((0,c.ZQ)(i)):console.error(i)};!i&&(null==t?void 0:t.isHospitalManagement)&&n()},[null==t?void 0:t.isHospitalManagement,e,i])};var v=i(82132),p=i(72940),h=i(6780),f=i(67732);let g=async e=>{let{dates:t,isOwn:i,userId:n}=e;try{let e=new Date,o=new Date;if(t){let[i,n]=t;i&&(e=new Date(i)),n&&(o=new Date(n))}e.setHours(0,0,0,0),o.setHours(23,59,59,999);let a="".concat("http://sasthotech.local:5000/api/v1","/admin/dashboard?from=").concat(new Date(e).toISOString(),"&to=").concat(new Date(o).toISOString());i&&(a+="&isOwn=".concat(!0)),n&&(a+="&userId=".concat(n));let l=await h.default.get(a,p.FD);return{success:!0,data:l.data.data}}catch(e){if(e instanceof f.d7){var o;return{success:!1,data:null===(o=e.response)||void 0===o?void 0:o.data.message}}return{success:!1,data:"An error occurred"}}};var x=i(34473),y=i(41224),w=i(22614),j=i(32451),A=i(68242),C=i(22041),D=i(31204),b=i(75865),I=i(49905),T=i(48604),S=i(58812),E=i(22975),P=i(52700),z=i(55192),Z=i(58185),k=i(38917),M=i(57650),O=i(36435),B=i(20433),R=i(78530),L=i(97803),q=i(69861),F=i(35953),Q=i(17932),G=i(68213),N=i(28704),H=i(58211),U=i(13520),V=i(12450),_=i(46557),W=i(71149),J=i(63467),K=i(51087),Y=i(80805),$=i(78259),X=i(76607),ee=e=>{var t;let{dashboardInfo:o}=e,a=(0,d.C)(e=>e.auth.user),l=(0,d.C)(e=>e.auth.diagnostic),r=(0,W.q)(),s=(0,d.C)(e=>e.dates),[c,m]=(0,u.useState)([]),v=(0,d.C)(e=>e.diagnosticSettings),p=(0,V.useSearchParams)(),[h,f]=(0,u.useState)(null),g=null==a?void 0:a.name,[x,y]=(0,u.useState)(null),[w,j]=(0,u.useState)(!1),[A,C]=(0,u.useState)(null),[D,b]=(0,u.useState)([]);(0,u.useEffect)(()=>{let e=new Map;(async()=>{try{var t,i,n,o;let{success:l,data:r}=await (0,K.b)(null!==(t=null==s?void 0:s.dates[0])&&void 0!==t?t:(0,$.Z)(new Date),null!==(i=null==s?void 0:s.dates[1])&&void 0!==i?i:(0,X.Z)(new Date),void 0,!p.get("overall")&&(null==a?void 0:a.role)==="receptionist",(null==a?void 0:a.role)==="admin"&&(null==v?void 0:v.viewId)?null==v?void 0:v.viewId:void 0,!0);l&&(b(r),r.map(t=>{var i,n;if(t.DailyExpenseCategory&&t.dailyExpenseCategoryId){if(e.has(t.dailyExpenseCategoryId)){let n=(null===(i=e.get(t.dailyExpenseCategoryId))||void 0===i?void 0:i.amount)||0;e.set(t.dailyExpenseCategoryId,{id:t.dailyExpenseCategoryId,name:t.DailyExpenseCategory.name,amount:n+t.amount})}else e.set(t.dailyExpenseCategoryId,{id:t.dailyExpenseCategoryId,name:t.DailyExpenseCategory.name,amount:t.amount})}else if(e.has("-1")){let i=(null===(n=e.get("-1"))||void 0===n?void 0:n.amount)||0;e.set("-1",{id:"-1",name:"UnCategorized",amount:i+t.amount})}else e.set("-1",{id:"-1",name:"UnCategorized",amount:t.amount})}),m(Array.from(e.values())));let{success:d,data:c}=await (0,J.h)(null!==(n=null==s?void 0:s.dates[0])&&void 0!==n?n:(0,$.Z)(new Date),null!==(o=null==s?void 0:s.dates[1])&&void 0!==o?o:(0,X.Z)(new Date),void 0,!p.get("overall")&&(null==a?void 0:a.role)==="receptionist",(null==a?void 0:a.role)==="admin"&&(null==v?void 0:v.viewId)?null==v?void 0:v.viewId:void 0);d&&f(c)}catch(e){console.error(e)}})()},[o.diagnostic.paidInAmount,o.hospital.advanceFee,s,p,null==a?void 0:a.role,null==v?void 0:v.viewId]);let{data:I}=(0,Y.aW)({from:((null==s?void 0:s.dates[0])?(0,$.Z)(new Date(null==s?void 0:s.dates[0])):(0,$.Z)(new Date)).toISOString(),to:((null==s?void 0:s.dates[1])?(0,X.Z)(new Date(null==s?void 0:s.dates[1])):(0,X.Z)(new Date)).toISOString(),userId:(null==a?void 0:a.role)==="admin"&&(null==v?void 0:v.viewId)?null==v?void 0:v.viewId:void 0}),T=(0,u.useMemo)(()=>{var e,t;return(null==a?void 0:a.role)!=="receptionist"||p.get("overall")?Math.floor((null==o?void 0:null===(e=o.diagnostic)||void 0===e?void 0:e.paidInAmountAll)||0):Math.floor((null==o?void 0:null===(t=o.diagnostic)||void 0===t?void 0:t.paidInAmount)||0)},[null==a?void 0:a.role,p,null==o?void 0:o.diagnostic]),S=(0,u.useMemo)(()=>{var e,t;return(null==a?void 0:a.role)!=="receptionist"||p.get("overall")?Math.floor((null==o?void 0:null===(e=o.hospital)||void 0===e?void 0:e.paidInAmountAll)||0):Math.floor((null==o?void 0:null===(t=o.hospital)||void 0===t?void 0:t.paidInAmount)||0)},[null==a?void 0:a.role,p,null==o?void 0:o.hospital]),E=(0,u.useMemo)(()=>{var e;return T+((null==o?void 0:null===(e=o.diagnostic)||void 0===e?void 0:e.dailyExtraIncome)||0)},[T,null==o?void 0:null===(t=o.diagnostic)||void 0===t?void 0:t.dailyExtraIncome]),P=(0,u.useMemo)(()=>{var e,t,i,n,a;return Math.floor((null==o?void 0:null===(e=o.diagnostic)||void 0===e?void 0:e.totalPcPaidAmount)||0)+((null==o?void 0:null===(t=o.diagnostic)||void 0===t?void 0:t.totalExpense)||0)+((null==o?void 0:null===(i=o.hospital)||void 0===i?void 0:i.totalExpense)||0)+((null==o?void 0:null===(n=o.hospital)||void 0===n?void 0:n.hospitalPcAmount)||0)+((null==h?void 0:null===(a=h.doctor)||void 0===a?void 0:a.totalDoctorPaid)||0)},[o,h]),z=(0,u.useMemo)(()=>E+S-P,[E,S,P]),Z=(0,u.useMemo)(()=>{var e,t,i,n,a,l,r;return[{DailyExpenseCategory:{name:"Category"},type:"Type",handedTo:"Handed To",amount:"Amount"},...D,...(null==o?void 0:null===(e=o.hospital)||void 0===e?void 0:e.surgeonAmount)?[{DailyExpenseCategory:{name:"Surgeon Payment"},amount:o.hospital.surgeonAmount}]:[],...(null==o?void 0:null===(t=o.hospital)||void 0===t?void 0:t.anesthesiologistAmount)?[{DailyExpenseCategory:{name:"Anesthesiologist Payment"},amount:o.hospital.anesthesiologistAmount}]:[],...(null==h?void 0:null===(i=h.pc)||void 0===i?void 0:i.totalPcPaid)?[{DailyExpenseCategory:{name:"Outdoor PC Amount"},amount:null==h?void 0:null===(n=h.pc)||void 0===n?void 0:n.totalPcPaid}]:[],...(null==h?void 0:null===(a=h.doctor)||void 0===a?void 0:a.totalDoctorPaid)?[{DailyExpenseCategory:{name:"Doctor Commission"},amount:null==h?void 0:null===(l=h.doctor)||void 0===l?void 0:l.totalDoctorPaid}]:[],...(null==o?void 0:null===(r=o.hospital)||void 0===r?void 0:r.hospitalPcAmount)?[{DailyExpenseCategory:{name:"Indoor PC Amount"},amount:o.hospital.hospitalPcAmount}]:[]]},[D,o,h]);return(0,u.useEffect)(()=>{if(!D||!h)return;let e=!0;return(async()=>{try{j(!0),C(null);let t=e=>{"requestIdleCallback"in window?window.requestIdleCallback(e,{timeout:1e3}):setTimeout(e,0)};await new Promise(e=>t(()=>e()));let{pdf:n}=await Promise.all([i.e(3313),i.e(9826),i.e(4404),i.e(3439),i.e(7281),i.e(4890),i.e(1054)]).then(i.bind(i,65850)),{ReceptionistPDFDocument:a}=await Promise.all([i.e(3313),i.e(9826),i.e(4404),i.e(3439),i.e(7281),i.e(7698),i.e(4890),i.e(3768)]).then(i.bind(i,87790));if(!e)return;let d={watermarkEnabled:r,brand:l,dates:s,userName:g||"",diagnosticSettings:v,dashboardInfo:o,outDoorPaid:T,indoorPaid:S,outDoorTotal:E,indoorTotal:S,totalExpense:P,net:z,combinedExpenseList:Z,dailyExtraIncome:(null==I?void 0:I.data)||[]},c=(0,u.createElement)(a,d),m=await n(c).toBlob();if(!e)return;let p=URL.createObjectURL(m);y(p),j(!1)}catch(t){console.error("PDF generation error:",t),e&&(C("Failed to generate PDF"),j(!1))}})(),()=>{e=!1}},[D,h,I,o,r,l,s,g,v,T,S,E,S,P,z,Z]),(0,u.useEffect)(()=>()=>{x&&URL.revokeObjectURL(x)},[x]),(0,n.jsx)("div",{style:{width:"100%",height:"100%"},children:w||!x?(0,n.jsxs)("div",{style:{width:"100%",height:"720px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",fontSize:"18px",color:"#666",gap:"16px"},children:[(0,n.jsx)("div",{style:{width:"40px",height:"40px",border:"4px solid #f3f3f3",borderTop:"4px solid #3498db",borderRadius:"50%",animation:"spin 1s linear infinite"}}),(0,n.jsx)("div",{children:A?(0,n.jsx)("span",{style:{color:"red"},children:A}):"Generating PDF... Please wait"}),(0,n.jsx)("style",{children:"\n            @keyframes spin {\n              0% { transform: rotate(0deg); }\n              100% { transform: rotate(360deg); }\n            }\n          "})]}):(0,n.jsx)("iframe",{src:x,style:{width:"100%",height:"720px",border:"none"},title:"Receptionist Summary PDF"})})},et=()=>{var e,t,i,s,c,p,h,f,W,J,K,Y,$,X,et,ei,en,eo,ea,el,er,es,ed,ec,eu,em,ev,ep,eh,ef,eg,ex,ey;let ew=(0,d.C)(e=>e.auth.user),ej=(0,d.C)(e=>e.auth.diagnostic),eA=(0,d.C)(e=>e.dates),eC=(0,d.C)(e=>e.diagnosticSettings.viewId),eD=(null==ew?void 0:ew.role)==="admin",[eb,eI]=(0,u.useState)(null),[eT,eS]=(0,u.useState)(!0),eE=(0,u.useRef)(null),eP=(0,V.useRouter)(),ez=(0,V.useSearchParams)();(0,u.useEffect)(()=>{(null==ew?void 0:ew.role)==="superadmin"&&eP.push("/superadmin")},[eP,null==ew?void 0:ew.role]),(0,r.J)(),(0,l.x)(),m(),(0,u.useEffect)(()=>{(async()=>{eS(!0);let e={};e={...e,dates:null==eA?void 0:eA.dates},(null==ew?void 0:ew.role)==="receptionist"&&(e=ez.get("overall")?{...e,isOwn:!1}:{...e,isOwn:!0}),(null==ew?void 0:ew.role)==="admin"&&eC&&(e={...e,userId:eC}),g(e).then(e=>{let{success:t,data:i}=e;t?eI(i):(eI({}),console.error(i)),eS(!1)})})()},[ez,eA,null==ew?void 0:ew.role,eC]);let[eZ,ek]=(0,v.f)({content:()=>eE.current,documentTitle:"Monthly Report",onAfterPrint(){eP.push("/dashboard")}}),[eM,{open:eO,close:eB}]=(0,_.q)(!1),eR=ez.get("receptionistSummary");return((0,u.useEffect)(()=>{"true"===eR&&eZ()},[ez,eZ,eR]),eT||!eb)?(0,n.jsx)(a.Z,{}):(0,n.jsx)(x.Container,{size:"lg",px:"lg",py:40,children:(0,n.jsxs)(y.Stack,{gap:"xl",children:[(0,n.jsxs)(w.Group,{justify:"space-between",children:[(0,n.jsxs)(j.Box,{children:[(0,n.jsx)(A.Title,{order:1,children:"Dashboard"}),(0,n.jsx)(C.Text,{size:"sm",c:"dimmed",mt:4,children:"Overview of your hospital management system"}),(0,n.jsx)(o.W,{})]}),(0,n.jsxs)(w.Group,{children:[(null==ej?void 0:ej.isHospitalManagement)&&(0,n.jsx)(D.Button,{component:U.default,href:"/indoor",leftSection:(0,n.jsx)(P.Z,{}),children:"Indoor"}),(0,n.jsx)(D.Button,{component:U.default,href:"/outdoor",leftSection:(0,n.jsx)(z.Z,{}),children:"Outdoor"}),(0,n.jsxs)(b.v,{position:"bottom-end",withArrow:!0,children:[(0,n.jsx)(b.v.Target,{children:(0,n.jsx)(D.Button,{leftSection:(0,n.jsx)(Z.Z,{}),children:"Print"})}),(0,n.jsxs)(b.v.Dropdown,{children:[(0,n.jsx)(b.v.Item,{leftSection:(0,n.jsx)(k.Z,{}),onClick:eO,children:"Receptionist Summary"}),(null==ej?void 0:ej.isHospitalManagement)&&(0,n.jsx)(b.v.Item,{leftSection:(0,n.jsx)(P.Z,{}),component:U.default,href:"/indoor?printNow&".concat(ez.get("overall")&&"overall=true"),children:"Indoor Summary"}),(0,n.jsx)(b.v.Item,{leftSection:(0,n.jsx)(z.Z,{}),component:U.default,href:"/outdoor?printNow&".concat(ez.get("overall")&&"overall=true"),children:"Outdoor Summary"}),(null==ew?void 0:ew.role)==="admin"&&(0,n.jsx)(b.v.Item,{leftSection:(0,n.jsx)(M.Z,{}),component:U.default,href:"/dashboard/monthly-report?printNow",children:"Monthly Report"})]})]})]})]}),(0,n.jsxs)(j.Box,{children:[(0,n.jsx)(A.Title,{order:3,mb:"sm",children:"Revenue Overview"}),(0,n.jsxs)(I.M,{cols:{base:1,sm:2,md:3,lg:4},spacing:"md",children:[(0,n.jsxs)(T.Z,{component:eD?"a":"div",onClick:()=>eD&&eP.push("/indoor"),shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"blue.0",style:{cursor:eD?"pointer":"default",textAlign:"left",width:"100%"},children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"blue.9",fw:500,children:"Total Indoor Bill"}),(0,n.jsx)(S.k,{color:"blue",variant:"filled",size:56,radius:"md",children:(0,n.jsx)(P.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"blue.9",children:(((null==eb?void 0:null===(e=eb.hospital)||void 0===e?void 0:e.totalBill)||0)-((null==eb?void 0:null===(t=eb.hospital)||void 0===t?void 0:t.dayPatientTotalBill)||0)).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"blue.7",mt:"xs",children:"Hospital billing"})]}),(0,n.jsxs)(T.Z,{component:eD?"a":"div",onClick:()=>eD&&eP.push("/outdoor/total-bill"),shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"violet.0",style:{cursor:eD?"pointer":"default",textAlign:"left",width:"100%"},children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"violet.9",fw:500,children:"Total Outdoor Bill"}),(0,n.jsx)(S.k,{color:"violet",variant:"filled",size:56,radius:"md",children:(0,n.jsx)(z.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"violet.9",children:((null==eb?void 0:null===(i=eb.diagnostic)||void 0===i?void 0:i.totalBill)||0).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"violet.7",mt:"xs",children:"Diagnostic billing"})]}),(0,n.jsxs)(T.Z,{component:eD?"a":"div",onClick:()=>eD&&eP.push("/opd"),shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"blue.0",style:{cursor:eD?"pointer":"default",textAlign:"left",width:"100%"},children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"blue.9",fw:500,children:"Total OPD Bill"}),(0,n.jsx)(S.k,{color:"blue",variant:"filled",size:56,radius:"md",children:(0,n.jsx)(O.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"blue.9",children:((null==eb?void 0:null===(s=eb.hospital)||void 0===s?void 0:s.dayPatientTotalBill)||0).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"blue.7",mt:"xs",children:"OPD billing"})]}),(null==ej?void 0:ej.serviceCharge)||(null==ej?void 0:ej.indoorServiceCharge)?(0,n.jsxs)(T.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"grape.0",children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"grape.9",fw:500,children:"Service Charge"}),(0,n.jsx)(S.k,{color:"grape",variant:"filled",size:56,radius:"md",children:(0,n.jsx)(B.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"grape.9",children:Math.floor(((null==eb?void 0:null===(c=eb.diagnostic)||void 0===c?void 0:c.sasthoTechCharge)||0)+((null==eb?void 0:null===(p=eb.hospital)||void 0===p?void 0:p.sasthoTechCharge)||0)).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"grape.7",mt:"xs",children:"SasthoTech charge"})]}):null]})]}),(0,n.jsxs)(j.Box,{children:[(0,n.jsx)(A.Title,{order:3,mb:"sm",children:"Patient Activity"}),(0,n.jsxs)(I.M,{cols:{base:1,sm:2,md:3,lg:4},spacing:"md",children:[(0,n.jsxs)(T.Z,{component:eD?"a":"div",onClick:()=>eD&&eP.push("outdoor/total-tests"),shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"cyan.0 ",style:{cursor:eD?"pointer":"default",textAlign:"left",width:"100%"},children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"cyan.9",fw:500,children:"Total Tests"}),(0,n.jsx)(S.k,{color:"cyan",variant:"filled",size:56,radius:"md",children:(0,n.jsx)(R.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"cyan.9",children:((null==eb?void 0:null===(h=eb.diagnostic)||void 0===h?void 0:h.totalTest)||0).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"cyan.7",mt:"xs",children:"Tests conducted"})]}),(0,n.jsxs)(T.Z,{component:eD?"a":"div",onClick:()=>eD&&eP.push("/appointment/list"),shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"teal.0",style:{cursor:eD?"pointer":"default",textAlign:"left",width:"100%"},children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"teal.9",fw:500,children:"Total Appointments"}),(0,n.jsx)(S.k,{color:"teal",variant:"filled",size:56,radius:"md",children:(0,n.jsx)(L.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"teal.9",children:((null==eb?void 0:null===(f=eb.diagnostic)||void 0===f?void 0:f.totalAppointment)||0).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"teal.7",mt:"xs",children:"Scheduled visits"})]}),(0,n.jsxs)(T.Z,{component:eD?"a":"div",onClick:()=>eD&&eP.push("/indoor/admitted-patients?total=true"),shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"indigo.0",style:{cursor:eD?"pointer":"default",textAlign:"left",width:"100%"},children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"indigo.9",fw:500,children:"Total Admission"}),(0,n.jsx)(S.k,{color:"indigo",variant:"filled",size:56,radius:"md",children:(0,n.jsx)(q.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"indigo.9",children:((null==eb?void 0:null===(W=eb.hospital)||void 0===W?void 0:W.totalAdmittedPatient)||0).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"indigo.7",mt:"xs",children:"Admitted patients"})]})]})]}),(0,n.jsxs)(j.Box,{children:[(0,n.jsx)(A.Title,{order:3,mb:"sm",children:"Financial Summary"}),(0,n.jsxs)(I.M,{cols:{base:1,sm:2,md:3,lg:4},spacing:"md",children:[(0,n.jsxs)(T.Z,{component:eD?"a":"div",onClick:()=>eD&&eP.push("/paid-summary"),style:{textAlign:"left",cursor:"pointer"},shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"green.0",children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"green.9",fw:500,children:"Paid Amount"}),(0,n.jsx)(S.k,{color:"green",variant:"filled",size:56,radius:"md",children:(0,n.jsx)(F.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"green.9",children:((null==ew?void 0:ew.role)!=="receptionist"||ez.get("overall")?Math.floor(((null==eb?void 0:null===(J=eb.diagnostic)||void 0===J?void 0:J.paidInAmountAll)||0)+((null==eb?void 0:null===(K=eb.hospital)||void 0===K?void 0:K.paidInAmountAll)||0)):Math.floor(((null==eb?void 0:null===(Y=eb.diagnostic)||void 0===Y?void 0:Y.paidInAmount)||0)+((null==eb?void 0:null===($=eb.hospital)||void 0===$?void 0:$.paidInAmount)||0))).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"green.7",mt:"xs",children:"Total collected"})]}),(0,n.jsxs)(T.Z,{component:eD?"a":"div",onClick:()=>eD&&eP.push("/due-summary"),style:{textAlign:"left",cursor:"pointer"},shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"orange.0",children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"orange.9",fw:500,children:"Due Amount"}),(0,n.jsx)(S.k,{color:"orange",variant:"filled",size:56,radius:"md",children:(0,n.jsx)(Q.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"orange.9",children:Math.floor(((null==eb?void 0:null===(X=eb.diagnostic)||void 0===X?void 0:X.totalAmount)||0)-((null==eb?void 0:null===(et=eb.diagnostic)||void 0===et?void 0:et.paidAmountOfBillsCreatedInRange)||0)+((null==eb?void 0:null===(ei=eb.hospital)||void 0===ei?void 0:ei.totalAmount)||0)-((null==eb?void 0:null===(en=eb.hospital)||void 0===en?void 0:en.paidAmountOfBillsCreatedInRange)||0)).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"orange.7",mt:"xs",children:"Outstanding balance"})]}),(0,n.jsxs)(T.Z,{component:eD?"a":"div",onClick:()=>eD&&eP.push("/due-collection-summary"),style:{textAlign:"left",cursor:eD?"pointer":"default"},shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"yellow.0",children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"yellow.9",fw:500,children:"Due Collection"}),(0,n.jsx)(S.k,{color:"yellow",variant:"filled",size:56,radius:"md",children:(0,n.jsx)(G.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"yellow.9",children:((null==eb?void 0:null===(eo=eb.diagnostic)||void 0===eo?void 0:eo.dueCollection)||0).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"yellow.7",mt:"xs",children:"Collected dues"})]}),(0,n.jsxs)(T.Z,{component:eD?"a":"div",onClick:()=>eD&&eP.push("/expense-summary"),style:{textAlign:"left",cursor:eD?"pointer":"default"},shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"red.0",children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"red.9",fw:500,children:"Expense"}),(0,n.jsx)(S.k,{color:"red",variant:"filled",size:56,radius:"md",children:(0,n.jsx)(N.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"red.9",children:(((null==eb?void 0:null===(ea=eb.diagnostic)||void 0===ea?void 0:ea.totalExpense)||0)+Math.floor((null==eb?void 0:null===(el=eb.diagnostic)||void 0===el?void 0:el.totalPcPaidAmount)||0)+Math.floor((null==eb?void 0:null===(er=eb.diagnostic)||void 0===er?void 0:er.doctorCommissionPaidAmount)||0)+((null==eb?void 0:null===(es=eb.hospital)||void 0===es?void 0:es.totalExpense)||0)+((null==eb?void 0:null===(ed=eb.hospital)||void 0===ed?void 0:ed.hospitalPcAmount)||0)).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"red.7",mt:"xs",children:"Total expenses"})]}),(0,n.jsxs)(T.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"blue.9",children:[(0,n.jsxs)(w.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(C.Text,{size:"sm",c:"white",fw:500,children:"Money in Cash"}),(0,n.jsx)(S.k,{variant:"white",c:"blue.9",size:56,radius:"md",children:(0,n.jsx)(H.Z,{size:28})})]}),(0,n.jsx)(A.Title,{order:2,c:"white",children:Math.floor(((null==ew?void 0:ew.role)!=="receptionist"||ez.get("overall")?(null==eb?void 0:null===(ec=eb.diagnostic)||void 0===ec?void 0:ec.paidInAmountAll)||0:(null==eb?void 0:null===(eu=eb.diagnostic)||void 0===eu?void 0:eu.paidInAmount)||0)-((null==eb?void 0:null===(em=eb.diagnostic)||void 0===em?void 0:em.totalExpense)||0)-Math.floor((null==eb?void 0:null===(ev=eb.diagnostic)||void 0===ev?void 0:ev.totalPcPaidAmount)||0)-Math.floor((null==eb?void 0:null===(ep=eb.diagnostic)||void 0===ep?void 0:ep.doctorCommissionPaidAmount)||0)+((null==ew?void 0:ew.role)!=="receptionist"||ez.get("overall")?(null==eb?void 0:null===(eh=eb.hospital)||void 0===eh?void 0:eh.paidInAmountAll)||0:(null==eb?void 0:null===(ef=eb.hospital)||void 0===ef?void 0:ef.paidInAmount)||0)-((null==eb?void 0:null===(eg=eb.hospital)||void 0===eg?void 0:eg.totalExpense)||0)-((null==eb?void 0:null===(ex=eb.hospital)||void 0===ex?void 0:ex.hospitalPcAmount)||0)+((null==eb?void 0:null===(ey=eb.diagnostic)||void 0===ey?void 0:ey.dailyExtraIncome)||0)).toLocaleString()}),(0,n.jsx)(C.Text,{size:"xs",c:"blue.2",mt:"xs",children:"Available cash"})]})]})]}),(0,n.jsx)(E.u,{opened:eM,onClose:eB,size:"80%",radius:0,transitionProps:{transition:"fade",duration:200},children:(0,n.jsx)(ee,{dashboardInfo:eb})})]})})}},71149:function(e,t,i){"use strict";i.d(t,{AN:function(){return c},HG:function(){return r},J7:function(){return a},UA:function(){return d},dB:function(){return m},ev:function(){return l},q:function(){return u},tK:function(){return s}});var n=i(62471),o=i(4505);let a=["A4 portrait","A5 portrait","A4 landscape"],l=[["outdoor-bill","A5 portrait",60],["indoor-bill","A4 portrait",60,void 0,120],["indoor-admission-form","A4 portrait",90,"isHospitalManagement",120],["outdoor-summary","A4 portrait",90],["indoor-summary","A4 portrait",90,"isHospitalManagement"],["receptionist-summary","A4 portrait",90],["pc-payment","A5 portrait",60]];function r(e){let t=(0,o.useMemo)(()=>l.find(t=>t[0]===e),[e]),[i]=(0,n.I)({key:"".concat(e,"-print-page-size"),defaultValue:null==t?void 0:t[1]}),[a]=(0,n.I)({key:"".concat(e,"-print-page-scale"),defaultValue:null==t?void 0:t[2]});return"\n    @page { size: ".concat(i,";margin:10px 0px; }\n    :root { --mantine-scale: ").concat(+a/100,"; }\n    .fs-1{font-size:calc(var(--mantine-scale) * calc(1.375rem + 1.5vw))!important}\n    .fs-2{font-size:calc(var(--mantine-scale) * calc(1.325rem + .9vw))!important}\n    .fs-3{font-size:calc(var(--mantine-scale) * calc(1.3rem + .6vw))!important}\n    .fs-4{font-size:calc(var(--mantine-scale) * calc(1.275rem + .3vw))!important}\n    .fs-5{font-size:calc(var(--mantine-scale) * 1.25rem)!important}\n    .fs-6{font-size:calc(var(--mantine-scale) * 1rem)!important}")}function s(e){var t,i,a;let r=(0,o.useMemo)(()=>l.find(t=>t[0]===e),[e]),[s]=(0,n.I)({key:"".concat(e,"-print-page-height"),defaultValue:null!==(i=null==r?void 0:null===(t=r[4])||void 0===t?void 0:t.toString())&&void 0!==i?i:""});return s?+s:null!==(a=null==r?void 0:r[4])&&void 0!==a?a:100}function d(){let[e]=(0,n.I)({key:"selected-admission-template-id",defaultValue:"1"});return e?+e:1}function c(){let[e]=(0,n.I)({key:"selected-bill-template-id",defaultValue:"1"});return e?+e:1}function u(){let[e]=(0,n.I)({key:"print-watermark-enabled",defaultValue:"true"});return"true"===e}function m(){let[e]=(0,n.I)({key:"selected-appointment-token-template-id",defaultValue:"2"});return e?+e:2}},69667:function(e,t,i){"use strict";i.d(t,{W:function(){return s}});var n=i(68328),o=i(74559),a=i(25499),l=i(77379),r=i(12450);let s=e=>{let{className:t,defaultOverall:i=!1,...s}=e,d=(0,r.useSearchParams)(),c=(0,r.usePathname)(),u=(0,r.useRouter)();return"receptionist"===(0,a.C)(o.nC)&&(0,n.jsx)(l.s,{value:(i?!d.has("personal"):d.has("overall"))?"overall":"personal",onChange:e=>{let t=new URLSearchParams(d),n=i?"personal":"overall";e===n?t.set(n,"true"):t.delete(n),u.push("".concat(c,"?").concat(t))},className:["hide__print",t].filter(Boolean).join(" "),...s,data:[{label:"Personal View",value:"personal"},{label:"Overall View",value:"overall"}]})}},7203:function(e,t,i){"use strict";var n=i(68328),o=i(14587);i(4505),t.Z=()=>(0,n.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:600},children:(0,n.jsx)(o.Loader,{color:"teal",variant:"dots"})})},72940:function(e,t,i){"use strict";i.d(t,{FD:function(){return o},Hn:function(){return n},y4:function(){return a}});let n={headers:{"Content-Type":"application/json"}},o={withCredentials:!0},a={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},38254:function(e,t,i){"use strict";i.d(t,{x:function(){return r}});var n=i(83501),o=i(25499),a=i(25626),l=i(4505);let r=()=>{let e=(0,o.C)(e=>e.tests),t=(0,o.T)();(0,l.useEffect)(()=>{let i=async()=>{let{success:e,data:i}=await (0,n.Y)();if(e){let e=i.map(e=>{var t;return null==e?void 0:null===(t=e.tests)||void 0===t?void 0:t.map(e=>e)}).flat();t((0,a._W)(e))}else console.error(i)};(null==e?void 0:e.adminTests)||i()},[])}},64159:function(e,t,i){"use strict";i.d(t,{J:function(){return d}});var n=i(58539),o=i(95325),a=i(28301),l=i(25499),r=i(4505),s=i(53502);let d=()=>{let e=(0,l.T)(),t=(0,s.v9)(e=>e.doctors);return(0,r.useEffect)(()=>{(async function(){if(!t.adminDoctors){let{success:t,data:i}=await (0,n.c)();t&&e((0,a.v1)(i.items))}if(!t.allDoctors){let{success:t,data:i}=await (0,o.$)(1,1e3);t&&e((0,a.GO)(i.items))}})()},[]),t}},82132:function(e,t,i){"use strict";i.d(t,{f:function(){return s}});var n=i(12700),o=i(4505),a=i(88412),l=i(90660),r=i.n(l);function s(e,t){let[i,l]=(0,o.useState)(!1),s=(0,a.useReactToPrint)(e);return[(0,n.W)(async()=>{l(!0),await (null==t?void 0:t().catch(()=>{r().fire("Error","An unknown error occurred while preparing print content","error")}));let e=3,i=()=>{e-- >0?requestAnimationFrame(i):(l(!1),s())};i()}),i]}},83501:function(e,t,i){"use strict";i.d(t,{Y:function(){return a}});var n=i(49854),o=i(67732);let a=async()=>{try{let e=await (0,n.d)("testCategory/admin");return{success:!0,data:e.data}}catch(t){if(t instanceof o.d7){var e;return{success:!1,data:null===(e=t.response)||void 0===e?void 0:e.data.message}}return{success:!1,data:"An error occurred"}}}},63467:function(e,t,i){"use strict";i.d(t,{h:function(){return l}});var n=i(72940),o=i(6780),a=i(67732);let l=async(e,t,i,l,r)=>{try{let a="".concat("http://sasthotech.local:5000/api/v1","/commission?isDoctor=",!0,"&isPC=",!0);i&&(a="".concat("http://sasthotech.local:5000/api/v1","/commission?isDoctor=",!1,"&isPC=",!0)),l&&(a+="&isOwn=".concat(l)),r&&(a+="&userId=".concat(r)),e&&t&&(a+="&from=".concat(new Date(e).toISOString(),"&to=").concat(new Date(t).toISOString()));let s=await o.default.get(a,n.FD);return{success:!0,data:s.data.data}}catch(e){if(e instanceof a.d7){var s;return{success:!1,data:null===(s=e.response)||void 0===s?void 0:s.data.message}}return{success:!1,data:"An error occurred"}}}},58539:function(e,t,i){"use strict";i.d(t,{c:function(){return a}});var n=i(49854),o=i(67732);let a=async(e,t,i)=>{try{let o=new URLSearchParams(Object.fromEntries(Object.entries({page:e,limit:t,search:i}).filter(e=>{let[t,i]=e;return void 0!==i}).map(e=>{let[t,i]=e;return[t,String(i)]}))),a="admin/doctor?".concat(o.toString()),l=await (0,n.d)(a);return{success:!0,data:l.data}}catch(e){if(e instanceof o.d7){var a;return{success:!1,data:null===(a=e.response)||void 0===a?void 0:a.data.message}}return{success:!1,data:"An error occurred"}}}},95325:function(e,t,i){"use strict";i.d(t,{$:function(){return a}});var n=i(49854),o=i(67732);let a=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{let o=await (0,n.d)("doctor",{page:e,limit:t,search:i});return{success:!0,data:o.data}}catch(e){if(e instanceof o.d7){var a;return{success:!1,data:null===(a=e.response)||void 0===a?void 0:a.data.message}}return{success:!1,data:"An error occurred"}}}},51087:function(e,t,i){"use strict";i.d(t,{b:function(){return l}});var n=i(72940),o=i(6780),a=i(67732);let l=async(e,t,i,l,r,s,d)=>{try{let a="".concat("http://sasthotech.local:5000/api/v1","/dailyExpense?");a+="from=".concat(new Date(e).toISOString(),"&to=").concat(new Date(t).toISOString()),i&&(a+="&dailyExpenseCategoryId=".concat(i)),l&&(a+="&isOwn=".concat(l)),r&&(a+="&userId=".concat(r)),s&&(a+="&isAllExpense=".concat(s)),d&&(a+="&search=".concat(encodeURIComponent(d)));let c=await o.default.get(a,n.FD);return{success:!0,data:c.data.data}}catch(e){if(e instanceof a.d7){var c;return{success:!1,data:null===(c=e.response)||void 0===c?void 0:c.data.message}}return{success:!1,data:"An error occurred"}}}},29998:function(e,t,i){"use strict";i.d(t,{C:function(){return a}});var n=i(49854),o=i(67732);let a=async()=>{try{let e=await (0,n.d)("nurse");return{success:!0,data:e.data}}catch(t){if(t instanceof o.d7){var e;return{success:!1,data:null===(e=t.response)||void 0===e?void 0:e.data.message}}return{success:!1,data:"An error occurred"}}}},78101:function(e,t,i){"use strict";i.d(t,{g:function(){return r}});var n=i(49854),o=i(68240),a=i(94183),l=i(28317);let r=(0,o.LC)({baseQuery:(0,a.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async i=>{let o="string"==typeof e?e:e.url;return o.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,l.t8)(o,await i.clone().json().catch(()=>null),(0,n.x)()),i}).catch(async i=>{if(i instanceof TypeError){let i="string"==typeof e?e:e.url;if(!i.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,l.U2)(i,(0,n.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw i})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},74559:function(e,t,i){"use strict";i.d(t,{Im:function(){return l},av:function(){return a},nC:function(){return o}});let n=(0,i(79258).createSlice)({name:"auth",initialState:{isAuth:null,user:null,isProfileIncomplete:!1,diagnostic:null},reducers:{setUser:(e,t)=>{var i;e.user=t.payload,e.isAuth=!!t.payload,(null===(i=t.payload)||void 0===i?void 0:i.name)?localStorage.setItem("name",t.payload.name):localStorage.removeItem("name")},setDiagnostic:(e,t)=>{let i=t.payload;"hospital.sasthotech.com"===window.location.hostname?i.activeLogo=i.logo:i.activeLogo=i.offlineLogo,e.diagnostic=i},setProfileIncomplete:(e,t)=>{e.isProfileIncomplete=t.payload}}}),o=e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.role},{setUser:a,setDiagnostic:l}=n.actions;t.ZP=n.reducer},80805:function(e,t,i){"use strict";i.d(t,{Dn:function(){return r},EP:function(){return d},Qd:function(){return s},aW:function(){return l}});var n=i(78101),o=i(40085);let a=n.g.injectEndpoints({endpoints:e=>({getDailyExtraIncomes:e.query({query:e=>{let{from:t,to:i,userId:n}=e,o=new URLSearchParams;return t&&o.append("from",t),i&&o.append("to",i),n&&o.append("userId",n),console.log("params",o.toString()),{url:"/dailyExtraIncome?".concat(o.toString())}}}),createDailyExtraIncome:e.mutation({query:e=>({url:"/dailyExtraIncome",method:"POST",body:e}),async onQueryStarted(e,t){let{dispatch:i,queryFulfilled:n}=t,l=(0,o.x0)(),r=new Date().toISOString(),s=i(a.util.updateQueryData("getDailyExtraIncomes",{},t=>{t.data.push({id:l,...e,createdAt:r,updatedAt:r,loading:!0})})),d=i(a.util.updateQueryData("getDailyExtraIncomes",{},t=>{t.data.push({id:l,...e,createdAt:r,updatedAt:r,loading:!0})}));try{let{data:e}=await n;i(a.util.updateQueryData("getDailyExtraIncomes",{},t=>{let i=t.data.findIndex(e=>e.id===l);i>=0&&(t.data[i]=e.data)})),i(a.util.updateQueryData("getDailyExtraIncomes",{},t=>{let i=t.data.findIndex(e=>e.id===l);i>=0&&(t.data[i]=e.data)}))}catch(e){s.undo(),d.undo()}}}),updateDailyExtraIncome:e.mutation({query:e=>{let{id:t,...i}=e;return{url:"/dailyExtraIncome/".concat(t),method:"PATCH",body:i}},async onQueryStarted(e,t){let{id:i,...n}=e,{dispatch:o,queryFulfilled:l}=t,r=o(a.util.updateQueryData("getDailyExtraIncomes",{},e=>{let t=e.data.find(e=>e.id===i);t&&(Object.assign(t,n),t.loading=!0)})),s=o(a.util.updateQueryData("getDailyExtraIncomes",{},e=>{let t=e.data.find(e=>e.id===i);t&&(Object.assign(t,n),t.loading=!0)}));try{await l,o(a.util.updateQueryData("getDailyExtraIncomes",{},e=>{let t=e.data.find(e=>e.id===i);t&&delete t.loading})),o(a.util.updateQueryData("getDailyExtraIncomes",{},e=>{let t=e.data.find(e=>e.id===i);t&&delete t.loading}))}catch(e){r.undo(),s.undo()}}}),deleteDailyExtraIncome:e.mutation({query:e=>({url:"/dailyExtraIncome/".concat(e),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:i,queryFulfilled:n}=t,o=i(a.util.updateQueryData("getDailyExtraIncomes",{},t=>{let i=t.data.find(t=>t.id===e);i&&(i.loading=!0)})),l=i(a.util.updateQueryData("getDailyExtraIncomes",{},t=>{let i=t.data.find(t=>t.id===e);i&&(i.loading=!0)}));try{await n,i(a.util.updateQueryData("getDailyExtraIncomes",{},t=>{let i=t.data.findIndex(t=>t.id===e);i>=0&&t.data.splice(i,1)})),i(a.util.updateQueryData("getDailyExtraIncomes",{},t=>{let i=t.data.findIndex(t=>t.id===e);i>=0&&t.data.splice(i,1)}))}catch(e){o.undo(),l.undo()}}})})}),{useGetDailyExtraIncomesQuery:l,useCreateDailyExtraIncomeMutation:r,useUpdateDailyExtraIncomeMutation:s,useDeleteDailyExtraIncomeMutation:d}=a},28301:function(e,t,i){"use strict";let n;i.d(t,{At:function(){return y},F0:function(){return u},GO:function(){return m},cv:function(){return x},id:function(){return g},ox:function(){return f},pF:function(){return d},v1:function(){return p}});var o=i(79258),a=i(69192),l=i(28317);let r=new Intl.Collator;function s(){return n||(n=(0,l.MT)("doctor-frequency-store","doctor-frequency")),n}let d=(0,o.createAsyncThunk)("doctors/increaseDoctorFrequencies",async e=>(await Promise.resolve((0,l.Vx)(e,e=>(e||0)+1,s())).catch(),await (0,l.qh)(s()).catch(()=>[]))),c=(0,o.createSlice)({name:"doctors",initialState:{allDoctors:null,chamberedDoctors:null,adminDoctors:null,addedDoctors:[],paginatedAdminDoctors:null},reducers:{setAllDoctors:(e,t)=>{e.allDoctors=t.payload},setChamberedDoctors:(e,t)=>{e.chamberedDoctors=t.payload},setAdminDoctors:(e,t)=>{Array.isArray(t.payload)?e.adminDoctors=t.payload:e.adminDoctors?e.adminDoctors=[...e.adminDoctors,t.payload]:e.adminDoctors=t.payload},setPaginatedAdminDoctors:(e,t)=>{e.paginatedAdminDoctors=t.payload},setAddedDoctors:(e,t)=>{e.addedDoctors=[...e.addedDoctors,t.payload]},removeChamberedDoctor:(e,t)=>{e.addedDoctors=e.chamberedDoctors.filter(e=>e.Doctor.id!==t.payload)},removeAdminDoctor:(e,t)=>{var i,n;e.adminDoctors=null!==(n=null===(i=e.adminDoctors)||void 0===i?void 0:i.filter(e=>e.id!==t.payload))&&void 0!==n?n:null},removePaginatedAdminDoctor:(e,t)=>{var i,n;e.paginatedAdminDoctors=null!==(n=null===(i=e.paginatedAdminDoctors)||void 0===i?void 0:i.filter(e=>e.id!==t.payload))&&void 0!==n?n:null}},extraReducers:e=>{e.addCase(d.fulfilled,(e,t)=>{var i;let n=new Map(t.payload);null===(i=e.adminDoctors)||void 0===i||i.sort((e,t)=>{var i,o;return(null!==(i=n.get(t.id))&&void 0!==i?i:0)-(null!==(o=n.get(e.id))&&void 0!==o?o:0)||r.compare(e.name,t.name)})})}}),u=(0,a.createSelector)([e=>e.doctors,e=>{var t;return null===(t=e.auth.diagnostic)||void 0===t?void 0:t.showOnlyAdminDoctor}],(e,t)=>{let{adminDoctors:i,allDoctors:n,chamberedDoctors:o}=e,a=o?o.map(e=>e.Doctor):[],l=new Map;return[...i||[],...a&&!t?a:[],...n&&!t?n:[]].forEach(e=>{var t,i;let n=(null==e?void 0:null===(t=e.name)||void 0===t?void 0:t.trim())+(null==e?void 0:null===(i=e.designation)||void 0===i?void 0:i.trim());l.has(n)||l.set(n,e)}),Array.from(l.values())}),{setAllDoctors:m,setChamberedDoctors:v,setAdminDoctors:p,setAddedDoctors:h,removeChamberedDoctor:f,removeAdminDoctor:g,setPaginatedAdminDoctors:x,removePaginatedAdminDoctor:y}=c.actions;t.ZP=c.reducer},25499:function(e,t,i){"use strict";i.d(t,{C:function(){return a},T:function(){return o}});var n=i(53502);let o=()=>(0,n.I0)(),a=n.v9},76401:function(e,t,i){"use strict";i.d(t,{ZQ:function(){return o},o3:function(){return a}});let n=(0,i(79258).createSlice)({name:"nurses",initialState:{allNurses:null},reducers:{setAllNurses:(e,t)=>{e.allNurses=t.payload},addNurse:(e,t)=>{var i;let{payload:n}=t;(null===(i=e.allNurses)||void 0===i?void 0:i.push(n))||(e.allNurses=[n])}}}),{setAllNurses:o,addNurse:a}=n.actions;t.ZP=n.reducer},25626:function(e,t,i){"use strict";let n;i.d(t,{H3:function(){return c},Z2:function(){return m},Zw:function(){return x},_W:function(){return d},gu:function(){return p},lF:function(){return h},mC:function(){return g},s9:function(){return v},se:function(){return f}});var o=i(79258),a=i(69192),l=i(28317);function r(){return n||(n=(0,l.MT)("test-frequency-store","test-frequency")),n}let s=new Intl.Collator,d=(0,o.createAsyncThunk)("tests/setAdminTests",async e=>{let t=await (0,l.qh)().catch(()=>[]);return t.length?(await (0,l.vw)(t,r()),(0,l.ZH)()):t=await (0,l.qh)(r()).catch(()=>[]),[e,t]}),c=(0,o.createAsyncThunk)("tests/increaseTestFrequencies",async e=>(await Promise.all(e.map(e=>(0,l.Vx)(e.id,e=>(e||0)+1),r())).catch(),await (0,l.qh)(r()).catch(()=>[]))),u=(0,o.createSlice)({name:"tests",initialState:{adminCategories:[],adminTests:null,superAdminCategories:[]},reducers:{setAdminCategories:(e,t)=>{e.adminCategories=t.payload},removeAdminCategories:(e,t)=>{var i;e.adminCategories=null===(i=e.adminCategories)||void 0===i?void 0:i.filter(e=>e.id!==t.payload.id)},updateTestsInAdminCategories:(e,t)=>{var i;let n=t.payload;console.log(n),e.adminCategories=null===(i=e.adminCategories)||void 0===i?void 0:i.map(e=>({...e,tests:e.tests.map(e=>n.find(t=>t.id===e.id)||e)}))},removeTestFromAdminCategories:(e,t)=>{var i;e.adminCategories=null===(i=e.adminCategories)||void 0===i?void 0:i.map(e=>({...e,tests:e.tests.filter(e=>e.id!==t.payload.id)}))},removeTestFromSuperAdminCategories:(e,t)=>{var i;e.superAdminCategories=null===(i=e.superAdminCategories)||void 0===i?void 0:i.map(e=>({...e,tests:e.tests.filter(e=>e.id!==t.payload.id)}))},setSuperAdminCategories:(e,t)=>{e.superAdminCategories=t.payload},removeSuperAdminCategories:(e,t)=>{var i;e.superAdminCategories=null===(i=e.superAdminCategories)||void 0===i?void 0:i.filter(e=>e.id!==t.payload.id)}},extraReducers:e=>{e.addCase(d.fulfilled,(e,t)=>{let i=t.payload[0],n=new Map(t.payload[1]);if(Array.isArray(i))e.adminTests=[...i];else{if(e.adminTests){let t=e.adminTests.findIndex(e=>e.id===i.id);t>=0?e.adminTests[t]=i:e.adminTests.push(i)}else e.adminTests=[i];if(e.adminCategories){for(let t=0;t<e.adminCategories.length;t++)for(let n=0;n<e.adminCategories[t].tests.length;n++)if(i.id===e.adminCategories[t].tests[n].id){e.adminCategories[t].tests[n]=i;break}}}e.adminTests.sort((e,t)=>{var i,o;return(null!==(i=n.get(t.id))&&void 0!==i?i:0)-(null!==(o=n.get(e.id))&&void 0!==o?o:0)||s.compare(e.name,t.name)})}),e.addCase(c.fulfilled,(e,t)=>{var i;let n=new Map(t.payload);null===(i=e.adminTests)||void 0===i||i.sort((e,t)=>{var i,o;return(null!==(i=n.get(t.id))&&void 0!==i?i:0)-(null!==(o=n.get(e.id))&&void 0!==o?o:0)||s.compare(e.name,t.name)})})}});(0,a.createSelector)([e=>e.tests.adminCategories],e=>new Map(null==e?void 0:e.map(e=>[+e.id,e])));let{setAdminCategories:m,removeAdminCategories:v,setSuperAdminCategories:p,removeSuperAdminCategories:h,removeTestFromAdminCategories:f,removeTestFromSuperAdminCategories:g,updateTestsInAdminCategories:x}=u.actions;t.ZP=u.reducer},49854:function(e,t,i){"use strict";let n;i.d(t,{d:function(){return d},x:function(){return s}});var o=i(72940),a=i(6780),l=i(67732),r=i(28317);function s(){return n||(n=(0,r.MT)("cached-responses-store","cached-responses")),n}async function d(e,t){try{let i=await a.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:t,...o.FD});return await (0,r.t8)(e,i.data,s()),i.data}catch(t){if(t instanceof l.d7&&[l.d7.ERR_NETWORK,l.d7.ETIMEDOUT].includes(t.code)){let t=await (0,r.U2)(e,s());if(t)return t}throw t instanceof l.d7&&t.response&&401===t.response.status||console.error(t),t}}}},function(e){e.O(0,[1601,2975,3069,6945,3852,1656,4670,9258,9533,966,12,7538,154,1291,5865,7735,3147,9788,9175,7402,1744],function(){return e(e.s=10970)}),_N_E=e.O()}]);