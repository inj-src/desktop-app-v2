(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6563],{82487:function(e,t,r){Promise.resolve().then(r.bind(r,16434))},16434:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var n=r(68328),a=r(52387),s=r(36409),i=r(14587),o=r(46373),l=r(41224),d=r(22614),c=r(32451),u=r(68242),m=r(22041),h=r(87967),y=r(77303),x=r(77379),g=r(49905),v=r(48604),p=r(58812),f=r(89043),T=r(11114),j=r(68823),b=r(9326),w=r(44314),k=r(78664),S=r(2475),I=r(40573),P=r(80108),q=r(4708),z=r(4505),E=r(11692);function A(e){let{data:t,height:r=300}=e,a=(0,E.rZ)(),s=(0,z.useMemo)(()=>{if(!t||0===t.length)return null;let e=Math.max(...t.map(e=>e.stockIn)),n=Math.max(...t.map(e=>e.stockOut)),a={top:20,right:20,bottom:40,left:50},s=r-a.top-a.bottom,i=Math.max(20,Math.min(60,(800-10*t.length)/(2*t.length)));return{data:t,maxValue:Math.max(e,n,1),padding:a,chartWidth:800,chartHeight:s,barWidth:i,groupWidth:2*i+10}},[t,r]);if(!s)return(0,n.jsx)(c.Box,{h:r,style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(m.Text,{c:"dimmed",children:"No data available"})});let{padding:i,chartWidth:o,chartHeight:l,barWidth:u,groupWidth:h,maxValue:y}=s,x=o+i.left+i.right;return(0,n.jsxs)(c.Box,{style:{overflowX:"auto"},children:[(0,n.jsxs)("svg",{width:x,height:r,style:{minWidth:"100%"},children:[[0,.25,.5,.75,1].map(e=>{let t=i.top+l*(1-e);return(0,n.jsxs)("g",{children:[(0,n.jsx)("line",{x1:i.left,y1:t,x2:x-i.right,y2:t,stroke:a.colors.gray[2],strokeWidth:1,strokeDasharray:"4 4"}),(0,n.jsx)("text",{x:i.left-10,y:t+4,textAnchor:"end",fontSize:"12",fill:a.colors.gray[6],children:Math.round(y*e)})]},e)}),t.map((e,t)=>{let s=i.left+t*h+20*t,o=e.stockIn/y*l,d=e.stockOut/y*l;return(0,n.jsxs)("g",{children:[(0,n.jsx)("rect",{x:s,y:i.top+l-o,width:u,height:o,fill:a.colors.green[5],rx:4}),e.stockIn>0&&(0,n.jsx)("text",{x:s+u/2,y:i.top+l-o-5,textAnchor:"middle",fontSize:"11",fontWeight:"600",fill:a.colors.green[7],children:e.stockIn}),(0,n.jsx)("rect",{x:s+u+5,y:i.top+l-d,width:u,height:d,fill:a.colors.red[5],rx:4}),e.stockOut>0&&(0,n.jsx)("text",{x:s+u+5+u/2,y:i.top+l-d-5,textAnchor:"middle",fontSize:"11",fontWeight:"600",fill:a.colors.red[7],children:e.stockOut}),(0,n.jsx)("text",{x:s+h/2,y:r-i.bottom+20,textAnchor:"middle",fontSize:"12",fill:a.colors.gray[7],children:e.date})]},t)}),(0,n.jsx)("line",{x1:i.left,y1:i.top+l,x2:x-i.right,y2:i.top+l,stroke:a.colors.gray[4],strokeWidth:2}),(0,n.jsx)("line",{x1:i.left,y1:i.top,x2:i.left,y2:i.top+l,stroke:a.colors.gray[4],strokeWidth:2})]}),(0,n.jsxs)(d.Group,{justify:"center",mt:"md",gap:"xl",children:[(0,n.jsxs)(d.Group,{gap:"xs",children:[(0,n.jsx)(c.Box,{w:16,h:16,bg:a.colors.green[5],style:{borderRadius:4}}),(0,n.jsx)(m.Text,{size:"sm",fw:500,children:"Stock In"})]}),(0,n.jsxs)(d.Group,{gap:"xs",children:[(0,n.jsx)(c.Box,{w:16,h:16,bg:a.colors.red[5],style:{borderRadius:4}}),(0,n.jsx)(m.Text,{size:"sm",fw:500,children:"Stock Out"})]})]})]})}var C=r(54632);function D(e){let{dataPoints:t}=e,r=t.map((e,t)=>{let r=e.stockIn-e.stockOut;return(0,n.jsxs)(C.i.Tr,{children:[(0,n.jsx)(C.i.Td,{children:(0,n.jsx)(m.Text,{size:"sm",children:e.date})}),(0,n.jsx)(C.i.Td,{children:(0,n.jsx)(m.Text,{size:"sm",fw:600,c:"green.7",children:e.stockIn})}),(0,n.jsx)(C.i.Td,{children:(0,n.jsx)(m.Text,{size:"sm",fw:600,c:"red.7",children:e.stockOut})}),(0,n.jsx)(C.i.Td,{children:(0,n.jsxs)(m.Text,{size:"sm",fw:600,c:r>=0?"blue.7":"orange.7",children:[r>=0?"+":"",r]})}),(0,n.jsx)(C.i.Td,{children:(0,n.jsxs)(m.Text,{size:"sm",fw:500,children:["৳",e.value.toLocaleString()]})})]},t)});return(0,n.jsx)(C.i.ScrollContainer,{minWidth:600,children:(0,n.jsxs)(C.i,{striped:!0,withTableBorder:!0,children:[(0,n.jsx)(C.i.Thead,{children:(0,n.jsxs)(C.i.Tr,{children:[(0,n.jsx)(C.i.Th,{children:(0,n.jsx)(m.Text,{size:"sm",fw:600,children:"Date"})}),(0,n.jsx)(C.i.Th,{children:(0,n.jsx)(m.Text,{size:"sm",fw:600,children:"Stock In"})}),(0,n.jsx)(C.i.Th,{children:(0,n.jsx)(m.Text,{size:"sm",fw:600,children:"Stock Out"})}),(0,n.jsx)(C.i.Th,{children:(0,n.jsx)(m.Text,{size:"sm",fw:600,children:"Net Stock"})}),(0,n.jsx)(C.i.Th,{children:(0,n.jsx)(m.Text,{size:"sm",fw:600,children:"Value (৳)"})})]})}),(0,n.jsx)(C.i.Tbody,{children:r})]})})}var G=r(25499),O=r(13603),R=r(33908),B=r.n(R),M=r(89123);function L(){let{getParam:e,updateUrlParams:t}=(0,M.G)(),[r,E]=(0,G.C)(O.uA),[C,R]=(0,z.useState)(()=>({period:e("trends_period")||"week",storeId:e("trends_storeId")||void 0,itemId:e("trends_itemId")||void 0,category:e("trends_category")||void 0})),L=e=>{R(e),t({trends_period:e.period,trends_storeId:e.storeId||null,trends_itemId:e.itemId||null,trends_category:e.category||null})},W=(0,z.useMemo)(()=>24>B()(E).diff(B()(r),"hour"),[r,E]),{data:N}=(0,a.WY)({}),{data:Z}=(0,a.WK)({}),{data:U,isLoading:_,error:F}=(0,a.Yd)({period:C.period,storeId:C.storeId,itemId:C.itemId,category:C.category,dateFrom:W?void 0:r.toISOString(),dateTo:W?void 0:E.toISOString()}),Y=(null==N?void 0:N.data)||[],V=(null==Z?void 0:Z.data)||[],H=null==U?void 0:U.data;if(_)return(0,n.jsx)(s.M,{h:400,children:(0,n.jsx)(i.Loader,{size:"lg"})});if(F)return(0,n.jsx)(o.b,{icon:(0,n.jsx)(b.Z,{size:16}),title:"Error",color:"red",children:"Failed to load trends data"});if(!H)return null;let K=[{value:"",label:"All Stores"},...Y.map(e=>({value:e.id,label:e.name}))],X=[{value:"",label:"All Items"},...V.map(e=>({value:e.id,label:"".concat(e.name," (").concat(e.code,")")}))],Q=[{value:"",label:"All Categories"},...Array.from(new Set(V.map(e=>e.category).filter(Boolean))).map(e=>({value:e,label:e}))],J=H.summary.totalIn-H.summary.totalOut,$=H.summary.totalIn>0?(J/H.summary.totalIn*100).toFixed(1):0,ee=H.summary.totalOut>0&&H.summary.totalIn>0?(H.summary.totalOut/H.summary.totalIn*100).toFixed(1):0;return(0,n.jsxs)(l.Stack,{gap:"lg",p:"lg",children:[(0,n.jsxs)(d.Group,{justify:"space-between",children:[(0,n.jsxs)(c.Box,{children:[(0,n.jsx)(u.Title,{order:2,children:"Stock Trends & Analytics"}),(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",mt:4,children:"Analyze your inventory movements and identify patterns"})]}),(0,n.jsx)(h.P,{placeholder:"Store",data:K,value:C.storeId||"",onChange:e=>L({...C,storeId:e||void 0}),clearable:!0,style:{flex:1,minWidth:200},label:"Select Store",maw:300})]}),(0,n.jsx)(y.Divider,{mb:"sm"}),(0,n.jsx)(l.Stack,{gap:"md",children:(0,n.jsxs)(d.Group,{gap:"md",align:"flex-end",wrap:"wrap",children:[(0,n.jsx)(c.Box,{style:{flex:1,maxWidth:300},children:(0,n.jsx)(h.P,{label:"Item",placeholder:"All Items",data:X,value:C.itemId||"",onChange:e=>L({...C,itemId:e||void 0}),clearable:!0,searchable:!0})}),(0,n.jsx)(c.Box,{style:{flex:1,maxWidth:300},children:(0,n.jsx)(h.P,{label:"Category",placeholder:"All Categories",data:Q,value:C.category||"",onChange:e=>L({...C,category:e||void 0}),clearable:!0})}),(0,n.jsxs)(c.Box,{style:{flex:1,maxWidth:300,marginLeft:"auto"},children:[(0,n.jsx)(m.Text,{size:"sm",fw:500,mb:2,children:"Time Period"}),(0,n.jsx)(x.s,{value:C.period,onChange:e=>L({...C,period:e}),data:[{label:"Daily",value:"day"},{label:"Weekly",value:"week"},{label:"Monthly",value:"month"},{label:"Yearly",value:"year"}],fullWidth:!0})]})]})}),(0,n.jsxs)(g.M,{cols:{base:1,sm:2,lg:4},spacing:"md",children:[(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"blue.0",children:[(0,n.jsxs)(d.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(m.Text,{size:"sm",c:"blue.9",fw:500,children:"Total Stock In"}),(0,n.jsx)(p.k,{color:"blue",variant:"light",size:"lg",radius:"md",children:(0,n.jsx)(w.Z,{size:20})})]}),(0,n.jsx)(u.Title,{order:2,c:"blue.9",children:H.summary.totalIn.toLocaleString()}),(0,n.jsx)(m.Text,{size:"xs",c:"blue.7",mt:"xs",children:"Items added to inventory"})]}),(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"pink.0",children:[(0,n.jsxs)(d.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(m.Text,{size:"sm",c:"pink.9",fw:500,children:"Total Stock Out"}),(0,n.jsx)(p.k,{color:"pink",variant:"light",size:"lg",radius:"md",children:(0,n.jsx)(k.Z,{size:20})})]}),(0,n.jsx)(u.Title,{order:2,c:"pink.9",children:H.summary.totalOut.toLocaleString()}),(0,n.jsx)(m.Text,{size:"xs",c:"pink.7",mt:"xs",children:"Items removed from inventory"})]}),(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"cyan.0",children:[(0,n.jsxs)(d.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(m.Text,{size:"sm",c:"cyan.9",fw:500,children:"Average Daily"}),(0,n.jsx)(p.k,{color:"cyan",variant:"light",size:"lg",radius:"md",children:(0,n.jsx)(S.Z,{size:20})})]}),(0,n.jsx)(u.Title,{order:2,c:"cyan.9",children:H.summary.averageDaily.toFixed(1)}),(0,n.jsx)(m.Text,{size:"xs",c:"cyan.7",mt:"xs",children:"Average stock movements per day"})]}),(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"teal.0",children:[(0,n.jsxs)(d.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(m.Text,{size:"sm",c:"teal.9",fw:500,children:"Net Change"}),(0,n.jsx)(p.k,{color:"teal",variant:"light",size:"lg",radius:"md",children:J>=0?(0,n.jsx)(I.Z,{size:20}):(0,n.jsx)(P.Z,{size:20})})]}),(0,n.jsxs)(u.Title,{order:2,c:"teal.9",children:[J>=0?"+":"",J.toLocaleString()]}),(0,n.jsx)(m.Text,{size:"xs",c:"teal.7",mt:"xs",children:"Net inventory change"})]})]}),(0,n.jsx)(f.X,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,bg:"gray.0",children:(0,n.jsxs)(d.Group,{justify:"space-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)(d.Group,{gap:"xs",mb:"xs",children:[(0,n.jsx)(q.Z,{size:20,color:"var(--mantine-color-blue-6)"}),(0,n.jsx)(u.Title,{order:4,children:"Peak Activity Period"})]}),(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",children:"Highest stock movement recorded"})]}),(0,n.jsxs)(c.Box,{children:[(0,n.jsx)(T.C,{size:"xl",radius:"md",variant:"light",color:"blue",children:H.summary.peakDay}),(0,n.jsxs)(m.Text,{size:"sm",ta:"center",mt:"xs",fw:600,children:[H.summary.peakValue," movements"]})]})]})}),(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[(0,n.jsxs)(d.Group,{justify:"space-between",mb:"lg",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(u.Title,{order:4,children:"Stock Movement Trends"}),(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",mt:4,children:"Visual representation of stock in and out over time"})]}),(0,n.jsxs)(T.C,{size:"lg",radius:"md",variant:"light",color:"grape",children:[C.period.toUpperCase(),"LY VIEW"]})]}),(0,n.jsx)(A,{data:H.dataPoints,height:400})]}),(0,n.jsxs)(d.Group,{gap:"md",grow:!0,align:"stretch",children:[(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,h:"100%",children:[(0,n.jsx)(u.Title,{order:4,mb:"md",children:"Turnover Rate"}),(0,n.jsx)(s.M,{children:(0,n.jsx)(j.T,{size:180,thickness:16,sections:[{value:Number(ee),color:"blue"}],label:(0,n.jsx)(s.M,{children:(0,n.jsxs)("div",{style:{textAlign:"center"},children:[(0,n.jsxs)(m.Text,{size:"xl",fw:700,c:"blue",children:[ee,"%"]}),(0,n.jsx)(m.Text,{size:"xs",c:"dimmed",mt:4,children:"Stock Turnover"})]})})})}),(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",ta:"center",mt:"md",children:"Percentage of stock that has been moved out"})]}),(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,h:"100%",children:[(0,n.jsx)(u.Title,{order:4,mb:"md",children:"Net Change Impact"}),(0,n.jsx)(s.M,{children:(0,n.jsx)(j.T,{size:180,thickness:16,sections:[{value:Math.abs(Number($)),color:Number($)>=0?"green":"red"}],label:(0,n.jsx)(s.M,{children:(0,n.jsxs)("div",{style:{textAlign:"center"},children:[(0,n.jsxs)(m.Text,{size:"xl",fw:700,c:Number($)>=0?"green":"red",children:[Number($)>=0?"+":"",$,"%"]}),(0,n.jsx)(m.Text,{size:"xs",c:"dimmed",mt:4,children:"Net Growth"})]})})})}),(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",ta:"center",mt:"md",children:"Overall inventory growth rate in selected period"})]})]}),(0,n.jsx)(u.Title,{order:4,mb:"md",children:"Detailed Data Points"}),(0,n.jsx)(D,{dataPoints:H.dataPoints})]})}},72940:function(e,t,r){"use strict";r.d(t,{FD:function(){return a},Hn:function(){return n},y4:function(){return s}});let n={headers:{"Content-Type":"application/json"}},a={withCredentials:!0},s={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},89123:function(e,t,r){"use strict";r.d(t,{G:function(){return s}});var n=r(12450),a=r(4505);function s(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),r=(0,a.useCallback)(e=>null==e||""===e?null:e instanceof Date?e.toISOString():String(e),[]),s=(0,a.useCallback)(e=>t.get(e),[t]),i=(0,a.useCallback)((e,r)=>{let n=t.get(e);if(null===n)return r;if(r instanceof Date){let e=new Date(n);return isNaN(e.getTime())?r:e}if("boolean"==typeof r)return"true"===n;if("number"==typeof r){let e=Number(n);return isNaN(e)?r:e}return n},[t]),o=(0,a.useCallback)(()=>{let e={};return t.forEach((t,r)=>{e[r]=t}),e},[t]),l=(0,a.useCallback)((n,a)=>{let s=new URLSearchParams(Array.from(t.entries())),i=r(a);null!==i?s.set(n,i):s.delete(n);let o=s.toString();e.replace("".concat(window.location.pathname).concat(o?"?".concat(o):""),{scroll:!1})},[e,t,r]),d=(0,a.useCallback)(n=>{let a=new URLSearchParams(Array.from(t.entries()));Object.entries(n).forEach(e=>{let[t,n]=e,s=r(n);null!==s?a.set(t,s):a.delete(t)});let s=a.toString();e.replace("".concat(window.location.pathname).concat(s?"?".concat(s):""),{scroll:!1})},[e,t,r]);return{getParam:s,getTypedParam:i,getAllParams:o,updateUrlParam:l,updateUrlParams:d,removeUrlParam:(0,a.useCallback)(r=>{let n=new URLSearchParams(Array.from(t.entries()));n.delete(r);let a=n.toString();e.replace("".concat(window.location.pathname).concat(a?"?".concat(a):""),{scroll:!1})},[e,t]),removeUrlParams:(0,a.useCallback)(r=>{let n=new URLSearchParams(Array.from(t.entries()));r.forEach(e=>n.delete(e));let a=n.toString();e.replace("".concat(window.location.pathname).concat(a?"?".concat(a):""),{scroll:!1})},[e,t]),clearAllParams:(0,a.useCallback)(()=>{e.replace(window.location.pathname,{scroll:!1})},[e])}}},52387:function(e,t,r){"use strict";r.d(t,{Cf:function(){return O},DD:function(){return G},OB:function(){return q},OE:function(){return o},WK:function(){return m},WY:function(){return n},Xz:function(){return g},Yd:function(){return C},_r:function(){return N},a:function(){return E},aB:function(){return P},aS:function(){return z},ap:function(){return L},bM:function(){return h},bg:function(){return c},fF:function(){return v},fp:function(){return p},fv:function(){return x},gZ:function(){return M},j6:function(){return s},lg:function(){return D},mS:function(){return y},sv:function(){return B},vR:function(){return A},zQ:function(){return R}});let{useGetAllStoresQuery:n,useGetStoreQuery:a,useCreateStoreMutation:s,useUpdateStoreMutation:i,useDeleteStoreMutation:o,useGetAllStoreTagsQuery:l,useGetStoreTagQuery:d,useCreateStoreTagMutation:c,useDeleteStoreTagMutation:u,useGetAllInventoryItemsQuery:m,useGetInventoryItemQuery:h,useCreateInventoryItemMutation:y,useUpdateInventoryItemMutation:x,useDeleteInventoryItemMutation:g,useDeductStockMutation:v,useAddStockMutation:p,useGetAllInventoryPackagesQuery:f,useGetInventoryPackageQuery:T,useCreateInventoryPackageMutation:j,useUpdateInventoryPackageMutation:b,useDeleteInventoryPackageMutation:w,useAddItemToPackageMutation:k,useUpdatePackageItemMutation:S,useRemoveItemFromPackageMutation:I,useGetDeductionPoliciesQuery:P,useCreateDeductionPolicyMutation:q,useUpdateDeductionPolicyMutation:z,useDeleteDeductionPolicyMutation:E,useGetDashboardSummaryQuery:A,useGetStockTrendsQuery:C,useGetCriticalAlertsQuery:D,useGetTransactionLogsQuery:G,useGetBatchesQuery:O,useGetUsersQuery:R,useGetGroupedTransactionsQuery:B,useGetDefaultStoresQuery:M,useAddDefaultStoreMutation:L,useSetDefaultStoresMutation:W,useDeleteDefaultStoreMutation:N}=r(78101).g.injectEndpoints({endpoints:e=>({getAllStores:e.query({query:()=>({url:"/store",method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getStore:e.query({query:e=>({url:"/store/".concat(e),method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),createStore:e.mutation({query:e=>({url:"/store",method:"POST",body:e}),invalidatesTags:["inventory"]}),updateStore:e.mutation({query:e=>{let{id:t,...r}=e;return{url:"/store/".concat(t),method:"PUT",body:r}},invalidatesTags:["inventory"]}),deleteStore:e.mutation({query:e=>({url:"/store/".concat(e),method:"DELETE"}),invalidatesTags:["inventory"]}),getAllStoreTags:e.query({query:()=>({url:"/storeTag",method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getStoreTag:e.query({query:e=>({url:"/storeTag/".concat(e),method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),createStoreTag:e.mutation({query:e=>({url:"/storeTag",method:"POST",body:e}),invalidatesTags:["inventory"]}),deleteStoreTag:e.mutation({query:e=>({url:"/storeTag/".concat(e),method:"DELETE"}),invalidatesTags:["inventory"]}),getAllInventoryItems:e.query({query:e=>({url:"/inventoryItem",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data,pagination:e.pagination})}),getInventoryItem:e.query({query:e=>({url:"/inventoryItem/".concat(e),method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),createInventoryItem:e.mutation({query:e=>({url:"/inventoryItem",method:"POST",body:e}),invalidatesTags:["inventory"]}),updateInventoryItem:e.mutation({query:e=>{let{id:t,...r}=e;return{url:"/inventoryItem/".concat(t),method:"PUT",body:r}},invalidatesTags:["inventory"]}),deleteInventoryItem:e.mutation({query:e=>({url:"/inventoryItem/".concat(e),method:"DELETE"}),invalidatesTags:["inventory"]}),deductStock:e.mutation({query:e=>({url:"/inventoryItem/deduct-stock",method:"POST",body:e}),invalidatesTags:["inventory"]}),addStock:e.mutation({query:e=>({url:"/inventoryItem/add-stock",method:"POST",body:e}),invalidatesTags:["inventory"]}),getAllInventoryPackages:e.query({query:e=>({url:"/inventoryPackage",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data,pagination:e.pagination})}),getInventoryPackage:e.query({query:e=>({url:"/inventoryPackage/".concat(e),method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),createInventoryPackage:e.mutation({query:e=>({url:"/inventoryPackage",method:"POST",body:e}),invalidatesTags:["inventory"]}),updateInventoryPackage:e.mutation({query:e=>{let{id:t,...r}=e;return{url:"/inventoryPackage/".concat(t),method:"PUT",body:r}},invalidatesTags:["inventory"]}),deleteInventoryPackage:e.mutation({query:e=>({url:"/inventoryPackage/".concat(e),method:"DELETE"}),invalidatesTags:["inventory"]}),addItemToPackage:e.mutation({query:e=>{let{packageId:t,...r}=e;return{url:"/inventoryPackage/".concat(t,"/items"),method:"POST",body:r}},invalidatesTags:["inventory"]}),updatePackageItem:e.mutation({query:e=>{let{packageId:t,itemId:r,...n}=e;return{url:"/inventoryPackage/".concat(t,"/items/").concat(r),method:"PUT",body:n}},invalidatesTags:["inventory"]}),removeItemFromPackage:e.mutation({query:e=>{let{packageId:t,itemId:r}=e;return{url:"/inventoryPackage/".concat(t,"/items/").concat(r),method:"DELETE"}},invalidatesTags:["inventory"]}),getDeductionPolicies:e.query({query:e=>({url:"/inventoryItem/".concat(e,"/deduction-policy"),method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),createDeductionPolicy:e.mutation({query:e=>{let{itemId:t,...r}=e;return{url:"/inventoryItem/".concat(t,"/deduction-policy"),method:"POST",body:r}},invalidatesTags:["inventory"]}),updateDeductionPolicy:e.mutation({query:e=>{let{itemId:t,policyId:r,...n}=e;return{url:"/inventoryItem/".concat(t,"/deduction-policy/").concat(r),method:"PATCH",body:n}},invalidatesTags:["inventory"]}),deleteDeductionPolicy:e.mutation({query:e=>{let{itemId:t,policyId:r}=e;return{url:"/inventoryItem/".concat(t,"/deduction-policy/").concat(r),method:"DELETE"}},invalidatesTags:["inventory"]}),getDashboardSummary:e.query({query:e=>({url:"/inventory/dashboard/summary",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getStockTrends:e.query({query:e=>({url:"/inventory/dashboard/trends",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getCriticalAlerts:e.query({query:e=>({url:"/inventory/dashboard/critical-alerts",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getTransactionLogs:e.query({query:e=>({url:"/inventory/transactions",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getBatches:e.query({query:e=>({url:"/inventory/batches",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getUsers:e.query({query:()=>({url:"/admin/user",method:"GET"}),transformResponse:e=>({data:e.data})}),getGroupedTransactions:e.query({query:e=>({url:"/inventory/transactions/grouped",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getDefaultStores:e.query({query:e=>({url:"/inventory/default-stores",method:"GET",params:e?{billType:e}:void 0}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),addDefaultStore:e.mutation({query:e=>({url:"/inventory/default-stores",method:"POST",body:e}),invalidatesTags:["inventory"]}),setDefaultStores:e.mutation({query:e=>({url:"/inventory/default-stores",method:"PUT",body:e}),invalidatesTags:["inventory"]}),deleteDefaultStore:e.mutation({query:e=>({url:"/inventory/default-stores",method:"DELETE",body:e}),invalidatesTags:["inventory"]})})})},78101:function(e,t,r){"use strict";r.d(t,{g:function(){return o}});var n=r(49854),a=r(68240),s=r(94183),i=r(28317);let o=(0,a.LC)({baseQuery:(0,s.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async r=>{let a="string"==typeof e?e:e.url;return a.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,i.t8)(a,await r.clone().json().catch(()=>null),(0,n.x)()),r}).catch(async r=>{if(r instanceof TypeError){let r="string"==typeof e?e:e.url;if(!r.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,i.U2)(r,(0,n.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw r})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},13603:function(e,t,r){"use strict";r.d(t,{rm:function(){return d},uA:function(){return l}});var n=r(79258),a=r(69192),s=r(4646),i=r(14685);let o=(0,n.createSlice)({name:"dates",initialState:{dates:[null,null]},reducers:{setDates:(e,t)=>{e.dates=t.payload}}}),l=(0,a.createSelector)([e=>e.dates.dates],e=>{let[t,r]=e;return[t?new Date(t):(0,s.Z)(),r?new Date(r):(0,i.Z)()]}),{setDates:d}=o.actions;t.ZP=o.reducer},25499:function(e,t,r){"use strict";r.d(t,{C:function(){return s},T:function(){return a}});var n=r(53502);let a=()=>(0,n.I0)(),s=n.v9},49854:function(e,t,r){"use strict";let n;r.d(t,{d:function(){return d},x:function(){return l}});var a=r(72940),s=r(6780),i=r(67732),o=r(28317);function l(){return n||(n=(0,o.MT)("cached-responses-store","cached-responses")),n}async function d(e,t){try{let r=await s.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:t,...a.FD});return await (0,o.t8)(e,r.data,l()),r.data}catch(t){if(t instanceof i.d7&&[i.d7.ERR_NETWORK,i.d7.ETIMEDOUT].includes(t.code)){let t=await (0,o.U2)(e,l());if(t)return t}throw t instanceof i.d7&&t.response&&401===t.response.status||console.error(t),t}}}},function(e){e.O(0,[1601,3069,6945,3852,1656,9722,4670,9258,9533,966,1166,7967,6029,7308,8486,9423,9175,7402,1744],function(){return e(e.s=82487)}),_N_E=e.O()}]);