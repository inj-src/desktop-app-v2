(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{99647:function(e,t,r){Promise.resolve().then(r.bind(r,67420))},67420:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return U}});var n=r(68328),s=r(52387),o=r(36409),a=r(14587),i=r(46373),d=r(41224),l=r(22614),c=r(32451),u=r(68242),m=r(22041),h=r(87967),y=r(77303),g=r(49905),v=r(48604),x=r(58812),p=r(68823),f=r(29663),T=r(34022),j=r(11114),b=r(89043),w=r(9326),k=r(55899),S=r(54481),I=r(40573),z=r(59406),E=r(37947),q=r(79629),P=r(92671),G=r(44314),C=r(78664),R=r(80108),D=r(4505),M=r(25499),O=r(13603),Z=r(33908),B=r.n(Z),A=r(89123);function L(){let{getParam:e,updateUrlParam:t}=(0,A.G)(),[r,Z]=(0,D.useState)(()=>({storeId:e("dashboard_storeId")||void 0})),L=e=>{Z(e),t("dashboard_storeId",e.storeId||null)},[U,N]=(0,M.C)(O.uA),_=(0,D.useMemo)(()=>24>B()(N).diff(B()(U),"hour"),[U,N]),{data:F}=(0,s.WY)({}),{data:W,isLoading:H,error:Y}=(0,s.vR)({storeId:r.storeId,dateFrom:_?void 0:null==U?void 0:U.toISOString(),dateTo:_?void 0:null==N?void 0:N.toISOString()}),K=(null==F?void 0:F.data)||[],Q=null==W?void 0:W.data;if(H)return(0,n.jsx)(o.M,{h:400,children:(0,n.jsx)(a.Loader,{size:"lg"})});if(Y)return(0,n.jsx)(i.b,{icon:(0,n.jsx)(w.Z,{size:16}),title:"Error",color:"red",children:"Failed to load dashboard data"});if(!Q)return null;let V=[{value:"",label:"All Stores"},...K.map(e=>({value:e.id,label:e.name}))],X=Q.totalItems>0?(Q.totalItems-Q.lowStockItems-Q.outOfStockItems)/Q.totalItems*100:100;return(0,n.jsxs)(d.Stack,{gap:"lg",p:"lg",children:[(0,n.jsxs)(l.Group,{justify:"space-between",children:[(0,n.jsxs)(c.Box,{children:[(0,n.jsx)(u.Title,{order:2,children:"Inventory Dashboard"}),(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",mt:4,children:"Overview of your inventory status and performance"})]}),(0,n.jsx)(h.P,{placeholder:"All Stores",data:V,value:r.storeId||"",onChange:e=>L({...r,storeId:e||void 0}),clearable:!0,style:{flex:1,minWidth:200},label:"Filter by Store",maw:300})]}),(0,n.jsx)(y.Divider,{mb:"sm"}),(0,n.jsxs)(g.M,{cols:{base:1,sm:2,lg:4},spacing:"md",children:[(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"indigo.0",children:[(0,n.jsxs)(l.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(m.Text,{size:"sm",c:"indigo.9",fw:500,children:"Total Stores"}),(0,n.jsx)(x.k,{color:"indigo",variant:"light",size:"lg",radius:"md",children:(0,n.jsx)(k.Z,{size:20})})]}),(0,n.jsx)(u.Title,{order:2,c:"indigo.9",children:Q.totalStores}),(0,n.jsxs)(m.Text,{size:"xs",c:"indigo.7",mt:"xs",children:[Q.activeStores," active stores"]})]}),(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"pink.0",children:[(0,n.jsxs)(l.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(m.Text,{size:"sm",c:"pink.9",fw:500,children:"Total Items"}),(0,n.jsx)(x.k,{color:"pink",variant:"light",size:"lg",radius:"md",children:(0,n.jsx)(S.Z,{size:20})})]}),(0,n.jsx)(u.Title,{order:2,c:"pink.9",children:Q.totalItems}),(0,n.jsxs)(m.Text,{size:"xs",c:"pink.7",mt:"xs",children:[Q.activeItems," active items"]})]}),(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"teal.0",children:[(0,n.jsxs)(l.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(m.Text,{size:"sm",c:"teal.9",fw:500,children:"Total Value"}),(0,n.jsx)(x.k,{color:"teal",variant:"light",size:"lg",radius:"md",children:(0,n.jsx)(I.Z,{size:20})})]}),(0,n.jsxs)(u.Title,{order:2,c:"teal.9",children:["৳",Q.totalValue.toLocaleString()]}),(0,n.jsx)(m.Text,{size:"xs",c:"teal.7",mt:"xs",children:"Current inventory value"})]}),(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,bg:"gray.1",children:[(0,n.jsxs)(l.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(m.Text,{size:"sm",c:"gray.9",fw:500,children:"Stock Health"}),(0,n.jsx)(x.k,{color:"gray",variant:"light",size:"lg",radius:"md",children:(0,n.jsx)(z.Z,{size:20})})]}),(0,n.jsxs)(l.Group,{align:"center",gap:"xs",children:[(0,n.jsx)(p.T,{size:60,thickness:6,sections:[{value:X,color:X>80?"green":X>50?"yellow":"red"}]}),(0,n.jsxs)(u.Title,{order:2,c:X>80?"green":X>50?"yellow":"red",children:[X.toFixed(0),"%"]})]}),(0,n.jsx)(m.Text,{size:"xs",c:"gray.7",mt:"xs",children:"Healthy stock levels"})]})]}),(0,n.jsxs)(g.M,{cols:{base:1,sm:2,lg:4},spacing:"md",children:[(0,n.jsx)(v.Z,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,style:{borderLeft:"4px solid var(--mantine-color-red-6)"},children:(0,n.jsxs)(l.Group,{justify:"space-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",fw:500,children:"Out of Stock"}),(0,n.jsx)(u.Title,{order:2,c:"red",mt:8,children:Q.outOfStockItems}),(0,n.jsx)(m.Text,{size:"xs",c:"dimmed",mt:4,children:"Items unavailable"})]}),(0,n.jsx)(c.Box,{style:{background:"var(--mantine-color-red-0)",borderRadius:"12px",padding:"12px"},children:(0,n.jsx)(E.Z,{size:28,color:"var(--mantine-color-red-6)"})})]})}),(0,n.jsx)(v.Z,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,style:{borderLeft:"4px solid var(--mantine-color-orange-6)"},children:(0,n.jsxs)(l.Group,{justify:"space-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",fw:500,children:"Low Stock"}),(0,n.jsx)(u.Title,{order:2,c:"orange",mt:8,children:Q.lowStockItems}),(0,n.jsx)(m.Text,{size:"xs",c:"dimmed",mt:4,children:"Need reordering"})]}),(0,n.jsx)(c.Box,{style:{background:"var(--mantine-color-orange-0)",borderRadius:"12px",padding:"12px"},children:(0,n.jsx)(q.Z,{size:28,color:"var(--mantine-color-orange-6)"})})]})}),(0,n.jsx)(v.Z,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,style:{borderLeft:"4px solid var(--mantine-color-yellow-6)"},children:(0,n.jsxs)(l.Group,{justify:"space-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",fw:500,children:"Expiring Soon"}),(0,n.jsx)(u.Title,{order:2,c:"yellow.9",mt:8,children:Q.expiringSoon}),(0,n.jsx)(m.Text,{size:"xs",c:"dimmed",mt:4,children:"Action required"})]}),(0,n.jsx)(c.Box,{style:{background:"var(--mantine-color-yellow-0)",borderRadius:"12px",padding:"12px"},children:(0,n.jsx)(P.Z,{size:28,color:"var(--mantine-color-yellow-9)"})})]})}),(0,n.jsx)(v.Z,{shadow:"sm",p:"lg",radius:"md",withBorder:!0,style:{borderLeft:"4px solid var(--mantine-color-gray-6)"},children:(0,n.jsxs)(l.Group,{justify:"space-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",fw:500,children:"Expired Items"}),(0,n.jsx)(u.Title,{order:2,c:"gray.8",mt:8,children:Q.expiredItems}),(0,n.jsx)(m.Text,{size:"xs",c:"dimmed",mt:4,children:"Remove from stock"})]}),(0,n.jsx)(c.Box,{style:{background:"var(--mantine-color-gray-1)",borderRadius:"12px",padding:"12px"},children:(0,n.jsx)(w.Z,{size:28,color:"var(--mantine-color-gray-6)"})})]})})]}),(0,n.jsxs)(f.Grid,{gutter:"md",children:[(0,n.jsx)(f.Grid.Col,{span:{base:12,md:6},children:(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,h:"100%",children:[(0,n.jsx)(u.Title,{order:4,mb:"md",children:"Stock Movement"}),(0,n.jsxs)(d.Stack,{gap:"md",children:[(0,n.jsxs)(c.Box,{children:[(0,n.jsxs)(l.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsxs)(l.Group,{gap:"xs",children:[(0,n.jsx)(G.Z,{size:18,color:"var(--mantine-color-green-6)"}),(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",children:"Stock In"})]}),(0,n.jsx)(m.Text,{size:"lg",fw:600,c:"green",children:Q.stockMovement.totalIn})]}),(0,n.jsx)(T.E,{value:Q.stockMovement.totalIn/(Q.stockMovement.totalIn+Q.stockMovement.totalOut||1)*100,color:"green",size:"sm",radius:"xl"})]}),(0,n.jsxs)(c.Box,{children:[(0,n.jsxs)(l.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsxs)(l.Group,{gap:"xs",children:[(0,n.jsx)(C.Z,{size:18,color:"var(--mantine-color-red-6)"}),(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",children:"Stock Out"})]}),(0,n.jsx)(m.Text,{size:"lg",fw:600,c:"red",children:Q.stockMovement.totalOut})]}),(0,n.jsx)(T.E,{value:Q.stockMovement.totalOut/(Q.stockMovement.totalIn+Q.stockMovement.totalOut||1)*100,color:"red",size:"sm",radius:"xl"})]}),(0,n.jsx)(y.Divider,{}),(0,n.jsxs)(l.Group,{justify:"space-between",children:[(0,n.jsx)(m.Text,{size:"sm",fw:600,children:"Net Change"}),(0,n.jsxs)(l.Group,{gap:"xs",children:[Q.stockMovement.netChange>=0?(0,n.jsx)(I.Z,{size:18,color:"var(--mantine-color-green-6)"}):(0,n.jsx)(R.Z,{size:18,color:"var(--mantine-color-red-6)"}),(0,n.jsxs)(m.Text,{size:"lg",fw:700,c:Q.stockMovement.netChange>=0?"green":"red",children:[Q.stockMovement.netChange>=0?"+":"",Q.stockMovement.netChange]})]})]})]})]})}),(0,n.jsx)(f.Grid.Col,{span:{base:12,md:6},children:(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,h:"100%",children:[(0,n.jsx)(u.Title,{order:4,mb:"md",children:"Recent Transactions"}),(0,n.jsxs)(d.Stack,{gap:"md",children:[(0,n.jsxs)(c.Box,{children:[(0,n.jsxs)(l.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",children:"Today"}),(0,n.jsx)(j.C,{size:"lg",radius:"sm",variant:"light",color:"blue",children:Q.recentTransactions.today})]}),(0,n.jsx)(T.E,{value:100*(Q.recentTransactions.today/Q.recentTransactions.thisMonth||1),color:"blue",size:"sm",radius:"xl"})]}),(0,n.jsxs)(c.Box,{children:[(0,n.jsxs)(l.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",children:"This Week"}),(0,n.jsx)(j.C,{size:"lg",radius:"sm",variant:"light",color:"cyan",children:Q.recentTransactions.thisWeek})]}),(0,n.jsx)(T.E,{value:100*(Q.recentTransactions.thisWeek/Q.recentTransactions.thisMonth||1),color:"cyan",size:"sm",radius:"xl"})]}),(0,n.jsxs)(c.Box,{children:[(0,n.jsxs)(l.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(m.Text,{size:"sm",c:"dimmed",children:"This Month"}),(0,n.jsx)(j.C,{size:"lg",radius:"sm",variant:"light",color:"grape",children:Q.recentTransactions.thisMonth})]}),(0,n.jsx)(T.E,{value:100,color:"grape",size:"sm",radius:"xl"})]})]})]})})]}),Q.topCategories.length>0&&(0,n.jsxs)(v.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[(0,n.jsx)(u.Title,{order:4,mb:"md",children:"Top Categories"}),(0,n.jsx)(g.M,{cols:{base:1,sm:2,lg:3},spacing:"md",children:Q.topCategories.map((e,t)=>(0,n.jsx)(b.X,{p:"md",withBorder:!0,radius:"md",bg:"gray.0",children:(0,n.jsxs)(l.Group,{justify:"space-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(m.Text,{size:"sm",fw:500,children:e.category||"Uncategorized"}),(0,n.jsxs)(m.Text,{size:"xs",c:"dimmed",mt:2,children:[e.count," items"]})]}),(0,n.jsxs)(m.Text,{size:"lg",fw:600,c:"teal",children:["৳",e.value.toLocaleString()]})]})},t))})]})]})}function U(){return(0,n.jsx)(L,{})}},72940:function(e,t,r){"use strict";r.d(t,{FD:function(){return s},Hn:function(){return n},y4:function(){return o}});let n={headers:{"Content-Type":"application/json"}},s={withCredentials:!0},o={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},89123:function(e,t,r){"use strict";r.d(t,{G:function(){return o}});var n=r(12450),s=r(4505);function o(){let e=(0,n.useRouter)(),t=(0,n.useSearchParams)(),r=(0,s.useCallback)(e=>null==e||""===e?null:e instanceof Date?e.toISOString():String(e),[]),o=(0,s.useCallback)(e=>t.get(e),[t]),a=(0,s.useCallback)((e,r)=>{let n=t.get(e);if(null===n)return r;if(r instanceof Date){let e=new Date(n);return isNaN(e.getTime())?r:e}if("boolean"==typeof r)return"true"===n;if("number"==typeof r){let e=Number(n);return isNaN(e)?r:e}return n},[t]),i=(0,s.useCallback)(()=>{let e={};return t.forEach((t,r)=>{e[r]=t}),e},[t]),d=(0,s.useCallback)((n,s)=>{let o=new URLSearchParams(Array.from(t.entries())),a=r(s);null!==a?o.set(n,a):o.delete(n);let i=o.toString();e.replace("".concat(window.location.pathname).concat(i?"?".concat(i):""),{scroll:!1})},[e,t,r]),l=(0,s.useCallback)(n=>{let s=new URLSearchParams(Array.from(t.entries()));Object.entries(n).forEach(e=>{let[t,n]=e,o=r(n);null!==o?s.set(t,o):s.delete(t)});let o=s.toString();e.replace("".concat(window.location.pathname).concat(o?"?".concat(o):""),{scroll:!1})},[e,t,r]);return{getParam:o,getTypedParam:a,getAllParams:i,updateUrlParam:d,updateUrlParams:l,removeUrlParam:(0,s.useCallback)(r=>{let n=new URLSearchParams(Array.from(t.entries()));n.delete(r);let s=n.toString();e.replace("".concat(window.location.pathname).concat(s?"?".concat(s):""),{scroll:!1})},[e,t]),removeUrlParams:(0,s.useCallback)(r=>{let n=new URLSearchParams(Array.from(t.entries()));r.forEach(e=>n.delete(e));let s=n.toString();e.replace("".concat(window.location.pathname).concat(s?"?".concat(s):""),{scroll:!1})},[e,t]),clearAllParams:(0,s.useCallback)(()=>{e.replace(window.location.pathname,{scroll:!1})},[e])}}},52387:function(e,t,r){"use strict";r.d(t,{Cf:function(){return M},DD:function(){return D},OB:function(){return E},OE:function(){return i},WK:function(){return m},WY:function(){return n},Xz:function(){return v},Yd:function(){return C},_r:function(){return U},a:function(){return P},aB:function(){return z},aS:function(){return q},ap:function(){return A},bM:function(){return h},bg:function(){return c},fF:function(){return x},fp:function(){return p},fv:function(){return g},gZ:function(){return B},j6:function(){return o},lg:function(){return R},mS:function(){return y},sv:function(){return Z},vR:function(){return G},zQ:function(){return O}});let{useGetAllStoresQuery:n,useGetStoreQuery:s,useCreateStoreMutation:o,useUpdateStoreMutation:a,useDeleteStoreMutation:i,useGetAllStoreTagsQuery:d,useGetStoreTagQuery:l,useCreateStoreTagMutation:c,useDeleteStoreTagMutation:u,useGetAllInventoryItemsQuery:m,useGetInventoryItemQuery:h,useCreateInventoryItemMutation:y,useUpdateInventoryItemMutation:g,useDeleteInventoryItemMutation:v,useDeductStockMutation:x,useAddStockMutation:p,useGetAllInventoryPackagesQuery:f,useGetInventoryPackageQuery:T,useCreateInventoryPackageMutation:j,useUpdateInventoryPackageMutation:b,useDeleteInventoryPackageMutation:w,useAddItemToPackageMutation:k,useUpdatePackageItemMutation:S,useRemoveItemFromPackageMutation:I,useGetDeductionPoliciesQuery:z,useCreateDeductionPolicyMutation:E,useUpdateDeductionPolicyMutation:q,useDeleteDeductionPolicyMutation:P,useGetDashboardSummaryQuery:G,useGetStockTrendsQuery:C,useGetCriticalAlertsQuery:R,useGetTransactionLogsQuery:D,useGetBatchesQuery:M,useGetUsersQuery:O,useGetGroupedTransactionsQuery:Z,useGetDefaultStoresQuery:B,useAddDefaultStoreMutation:A,useSetDefaultStoresMutation:L,useDeleteDefaultStoreMutation:U}=r(78101).g.injectEndpoints({endpoints:e=>({getAllStores:e.query({query:()=>({url:"/store",method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getStore:e.query({query:e=>({url:"/store/".concat(e),method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),createStore:e.mutation({query:e=>({url:"/store",method:"POST",body:e}),invalidatesTags:["inventory"]}),updateStore:e.mutation({query:e=>{let{id:t,...r}=e;return{url:"/store/".concat(t),method:"PUT",body:r}},invalidatesTags:["inventory"]}),deleteStore:e.mutation({query:e=>({url:"/store/".concat(e),method:"DELETE"}),invalidatesTags:["inventory"]}),getAllStoreTags:e.query({query:()=>({url:"/storeTag",method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getStoreTag:e.query({query:e=>({url:"/storeTag/".concat(e),method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),createStoreTag:e.mutation({query:e=>({url:"/storeTag",method:"POST",body:e}),invalidatesTags:["inventory"]}),deleteStoreTag:e.mutation({query:e=>({url:"/storeTag/".concat(e),method:"DELETE"}),invalidatesTags:["inventory"]}),getAllInventoryItems:e.query({query:e=>({url:"/inventoryItem",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data,pagination:e.pagination})}),getInventoryItem:e.query({query:e=>({url:"/inventoryItem/".concat(e),method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),createInventoryItem:e.mutation({query:e=>({url:"/inventoryItem",method:"POST",body:e}),invalidatesTags:["inventory"]}),updateInventoryItem:e.mutation({query:e=>{let{id:t,...r}=e;return{url:"/inventoryItem/".concat(t),method:"PUT",body:r}},invalidatesTags:["inventory"]}),deleteInventoryItem:e.mutation({query:e=>({url:"/inventoryItem/".concat(e),method:"DELETE"}),invalidatesTags:["inventory"]}),deductStock:e.mutation({query:e=>({url:"/inventoryItem/deduct-stock",method:"POST",body:e}),invalidatesTags:["inventory"]}),addStock:e.mutation({query:e=>({url:"/inventoryItem/add-stock",method:"POST",body:e}),invalidatesTags:["inventory"]}),getAllInventoryPackages:e.query({query:e=>({url:"/inventoryPackage",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data,pagination:e.pagination})}),getInventoryPackage:e.query({query:e=>({url:"/inventoryPackage/".concat(e),method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),createInventoryPackage:e.mutation({query:e=>({url:"/inventoryPackage",method:"POST",body:e}),invalidatesTags:["inventory"]}),updateInventoryPackage:e.mutation({query:e=>{let{id:t,...r}=e;return{url:"/inventoryPackage/".concat(t),method:"PUT",body:r}},invalidatesTags:["inventory"]}),deleteInventoryPackage:e.mutation({query:e=>({url:"/inventoryPackage/".concat(e),method:"DELETE"}),invalidatesTags:["inventory"]}),addItemToPackage:e.mutation({query:e=>{let{packageId:t,...r}=e;return{url:"/inventoryPackage/".concat(t,"/items"),method:"POST",body:r}},invalidatesTags:["inventory"]}),updatePackageItem:e.mutation({query:e=>{let{packageId:t,itemId:r,...n}=e;return{url:"/inventoryPackage/".concat(t,"/items/").concat(r),method:"PUT",body:n}},invalidatesTags:["inventory"]}),removeItemFromPackage:e.mutation({query:e=>{let{packageId:t,itemId:r}=e;return{url:"/inventoryPackage/".concat(t,"/items/").concat(r),method:"DELETE"}},invalidatesTags:["inventory"]}),getDeductionPolicies:e.query({query:e=>({url:"/inventoryItem/".concat(e,"/deduction-policy"),method:"GET"}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),createDeductionPolicy:e.mutation({query:e=>{let{itemId:t,...r}=e;return{url:"/inventoryItem/".concat(t,"/deduction-policy"),method:"POST",body:r}},invalidatesTags:["inventory"]}),updateDeductionPolicy:e.mutation({query:e=>{let{itemId:t,policyId:r,...n}=e;return{url:"/inventoryItem/".concat(t,"/deduction-policy/").concat(r),method:"PATCH",body:n}},invalidatesTags:["inventory"]}),deleteDeductionPolicy:e.mutation({query:e=>{let{itemId:t,policyId:r}=e;return{url:"/inventoryItem/".concat(t,"/deduction-policy/").concat(r),method:"DELETE"}},invalidatesTags:["inventory"]}),getDashboardSummary:e.query({query:e=>({url:"/inventory/dashboard/summary",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getStockTrends:e.query({query:e=>({url:"/inventory/dashboard/trends",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getCriticalAlerts:e.query({query:e=>({url:"/inventory/dashboard/critical-alerts",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getTransactionLogs:e.query({query:e=>({url:"/inventory/transactions",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getBatches:e.query({query:e=>({url:"/inventory/batches",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getUsers:e.query({query:()=>({url:"/admin/user",method:"GET"}),transformResponse:e=>({data:e.data})}),getGroupedTransactions:e.query({query:e=>({url:"/inventory/transactions/grouped",method:"GET",params:e}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),getDefaultStores:e.query({query:e=>({url:"/inventory/default-stores",method:"GET",params:e?{billType:e}:void 0}),providesTags:["inventory"],transformResponse:e=>({data:e.data})}),addDefaultStore:e.mutation({query:e=>({url:"/inventory/default-stores",method:"POST",body:e}),invalidatesTags:["inventory"]}),setDefaultStores:e.mutation({query:e=>({url:"/inventory/default-stores",method:"PUT",body:e}),invalidatesTags:["inventory"]}),deleteDefaultStore:e.mutation({query:e=>({url:"/inventory/default-stores",method:"DELETE",body:e}),invalidatesTags:["inventory"]})})})},78101:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var n=r(49854),s=r(68240),o=r(94183),a=r(28317);let i=(0,s.LC)({baseQuery:(0,o.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async r=>{let s="string"==typeof e?e:e.url;return s.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,a.t8)(s,await r.clone().json().catch(()=>null),(0,n.x)()),r}).catch(async r=>{if(r instanceof TypeError){let r="string"==typeof e?e:e.url;if(!r.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,a.U2)(r,(0,n.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw r})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},13603:function(e,t,r){"use strict";r.d(t,{rm:function(){return l},uA:function(){return d}});var n=r(79258),s=r(69192),o=r(4646),a=r(14685);let i=(0,n.createSlice)({name:"dates",initialState:{dates:[null,null]},reducers:{setDates:(e,t)=>{e.dates=t.payload}}}),d=(0,s.createSelector)([e=>e.dates.dates],e=>{let[t,r]=e;return[t?new Date(t):(0,o.Z)(),r?new Date(r):(0,a.Z)()]}),{setDates:l}=i.actions;t.ZP=i.reducer},25499:function(e,t,r){"use strict";r.d(t,{C:function(){return o},T:function(){return s}});var n=r(53502);let s=()=>(0,n.I0)(),o=n.v9},49854:function(e,t,r){"use strict";let n;r.d(t,{d:function(){return l},x:function(){return d}});var s=r(72940),o=r(6780),a=r(67732),i=r(28317);function d(){return n||(n=(0,i.MT)("cached-responses-store","cached-responses")),n}async function l(e,t){try{let r=await o.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:t,...s.FD});return await (0,i.t8)(e,r.data,d()),r.data}catch(t){if(t instanceof a.d7&&[a.d7.ERR_NETWORK,a.d7.ETIMEDOUT].includes(t.code)){let t=await (0,i.U2)(e,d());if(t)return t}throw t instanceof a.d7&&t.response&&401===t.response.status||console.error(t),t}}}},function(e){e.O(0,[1601,3069,6945,3852,1656,9722,4670,9258,9533,966,1166,7967,6029,1493,7308,8486,388,9175,7402,1744],function(){return e(e.s=99647)}),_N_E=e.O()}]);