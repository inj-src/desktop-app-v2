(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3516],{33136:function(t,e,r){Promise.resolve().then(r.bind(r,26174))},26174:function(t,e,r){"use strict";r.r(e);var n=r(68328),o=r(31204),a=r(56815),c=r.n(a),i=r(74061),u=r(60268),d=r(8260),s=r(90660),l=r.n(s),f=r(25499),m=r(28301),v=r(12450);e.default=()=>{let t=(0,f.T)();(0,v.useRouter)();let e=async e=>{let{phone1:r,phone2:n,commission:o,...a}=e,c=new FormData;Object.keys(e).map(t=>{"division"!==t&&e[t]&&c.append(t,e[t])});let{success:i,data:u}=await (0,d.M)(c);i?(l().fire("Success","Doctor Added","success"),t((0,m.v1)(u))):l().fire("Failed",u,"error")};return(0,n.jsxs)("div",{className:c().container,children:[(0,n.jsx)(i.Z,{sectionTitle:"Add New Doctor",rightSide:(0,n.jsx)(o.Button,{component:"a",href:"/doctor/all-doctor",variant:"default",color:"rgba(245, 242, 242, 0.86)",children:"Cancel"})}),(0,n.jsx)(u.Z,{onSubmitAction:e})]})}},8260:function(t,e,r){"use strict";r.d(e,{M:function(){return c}});var n=r(72940),o=r(6780),a=r(67732);let c=async t=>{try{let e=await o.default.post("".concat("http://sasthotech.local:5000/api/v1","/admin/doctor"),t,{...n.FD,...n.y4});return{success:!0,data:e.data.data}}catch(t){if(t instanceof a.d7){var e;return{success:!1,data:null===(e=t.response)||void 0===e?void 0:e.data.message}}return{success:!1,data:"An error occurred"}}}},28301:function(t,e,r){"use strict";let n;r.d(e,{At:function(){return A},F0:function(){return l},GO:function(){return f},cv:function(){return y},id:function(){return h},ox:function(){return D},pF:function(){return d},v1:function(){return v}});var o=r(79258),a=r(69192),c=r(28317);let i=new Intl.Collator;function u(){return n||(n=(0,c.MT)("doctor-frequency-store","doctor-frequency")),n}let d=(0,o.createAsyncThunk)("doctors/increaseDoctorFrequencies",async t=>(await Promise.resolve((0,c.Vx)(t,t=>(t||0)+1,u())).catch(),await (0,c.qh)(u()).catch(()=>[]))),s=(0,o.createSlice)({name:"doctors",initialState:{allDoctors:null,chamberedDoctors:null,adminDoctors:null,addedDoctors:[],paginatedAdminDoctors:null},reducers:{setAllDoctors:(t,e)=>{t.allDoctors=e.payload},setChamberedDoctors:(t,e)=>{t.chamberedDoctors=e.payload},setAdminDoctors:(t,e)=>{Array.isArray(e.payload)?t.adminDoctors=e.payload:t.adminDoctors?t.adminDoctors=[...t.adminDoctors,e.payload]:t.adminDoctors=e.payload},setPaginatedAdminDoctors:(t,e)=>{t.paginatedAdminDoctors=e.payload},setAddedDoctors:(t,e)=>{t.addedDoctors=[...t.addedDoctors,e.payload]},removeChamberedDoctor:(t,e)=>{t.addedDoctors=t.chamberedDoctors.filter(t=>t.Doctor.id!==e.payload)},removeAdminDoctor:(t,e)=>{var r,n;t.adminDoctors=null!==(n=null===(r=t.adminDoctors)||void 0===r?void 0:r.filter(t=>t.id!==e.payload))&&void 0!==n?n:null},removePaginatedAdminDoctor:(t,e)=>{var r,n;t.paginatedAdminDoctors=null!==(n=null===(r=t.paginatedAdminDoctors)||void 0===r?void 0:r.filter(t=>t.id!==e.payload))&&void 0!==n?n:null}},extraReducers:t=>{t.addCase(d.fulfilled,(t,e)=>{var r;let n=new Map(e.payload);null===(r=t.adminDoctors)||void 0===r||r.sort((t,e)=>{var r,o;return(null!==(r=n.get(e.id))&&void 0!==r?r:0)-(null!==(o=n.get(t.id))&&void 0!==o?o:0)||i.compare(t.name,e.name)})})}}),l=(0,a.createSelector)([t=>t.doctors,t=>{var e;return null===(e=t.auth.diagnostic)||void 0===e?void 0:e.showOnlyAdminDoctor}],(t,e)=>{let{adminDoctors:r,allDoctors:n,chamberedDoctors:o}=t,a=o?o.map(t=>t.Doctor):[],c=new Map;return[...r||[],...a&&!e?a:[],...n&&!e?n:[]].forEach(t=>{var e,r;let n=(null==t?void 0:null===(e=t.name)||void 0===e?void 0:e.trim())+(null==t?void 0:null===(r=t.designation)||void 0===r?void 0:r.trim());c.has(n)||c.set(n,t)}),Array.from(c.values())}),{setAllDoctors:f,setChamberedDoctors:m,setAdminDoctors:v,setAddedDoctors:p,removeChamberedDoctor:D,removeAdminDoctor:h,setPaginatedAdminDoctors:y,removePaginatedAdminDoctor:A}=s.actions;e.ZP=s.reducer},25499:function(t,e,r){"use strict";r.d(e,{C:function(){return a},T:function(){return o}});var n=r(53502);let o=()=>(0,n.I0)(),a=n.v9},28317:function(t,e,r){"use strict";let n;function o(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function a(t,e){let r;let n=()=>{if(r)return r;let n=indexedDB.open(t);return n.onupgradeneeded=()=>n.result.createObjectStore(e),(r=o(n)).then(t=>{t.onclose=()=>r=void 0},()=>{}),r};return(t,r)=>n().then(n=>r(n.transaction(e,t).objectStore(e)))}function c(){return n||(n=a("keyval-store","keyval")),n}function i(t,e=c()){return e("readonly",e=>o(e.get(t)))}function u(t,e,r=c()){return r("readwrite",r=>(r.put(e,t),o(r.transaction)))}function d(t,e=c()){return e("readwrite",e=>(t.forEach(t=>e.put(t[1],t[0])),o(e.transaction)))}function s(t,e=c()){return e("readonly",e=>Promise.all(t.map(t=>o(e.get(t)))))}function l(t,e,r=c()){return r("readwrite",r=>new Promise((n,a)=>{r.get(t).onsuccess=function(){try{r.put(e(this.result),t),n(o(r.transaction))}catch(t){a(t)}}}))}function f(t=c()){return t("readwrite",t=>(t.clear(),o(t.transaction)))}function m(t=c()){return t("readonly",e=>{if(e.getAll&&e.getAllKeys)return Promise.all([o(e.getAllKeys()),o(e.getAll())]).then(([t,e])=>t.map((t,r)=>[t,e[r]]));let r=[];return t("readonly",t=>{var e;return(e=t=>r.push([t.key,t.value]),t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},o(t.transaction)).then(()=>r)})})}r.d(e,{MT:function(){return a},U2:function(){return i},Vx:function(){return l},ZH:function(){return f},qh:function(){return m},t8:function(){return u},vw:function(){return d},yS:function(){return s}})}},function(t){t.O(0,[1601,2975,3069,6945,3852,1656,9722,4670,9258,9533,1166,7967,3583,4193,630,3834,5622,7652,9175,7402,1744],function(){return t(t.s=33136)}),_N_E=t.O()}]);