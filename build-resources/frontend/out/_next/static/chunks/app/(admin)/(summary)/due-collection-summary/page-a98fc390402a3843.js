(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9581],{12601:function(e,a,t){Promise.resolve().then(t.bind(t,14998))},14998:function(e,a,t){"use strict";t.r(a);var o=t(68328),s=t(11114),n=t(34473),l=t(41224),r=t(32451),d=t(68242),i=t(53729),u=t(22041),c=t(4505),m=t(12450),p=t(25499),f=t(74559),x=t(13603),h=t(50549),b=t(41671),g=t(62904);a.default=()=>{let[e,a]=(0,c.useState)(1),[t,v]=(0,c.useState)({dueCollections:[],totalPaidAmount:0}),[C,j]=(0,c.useState)(!0),N=(0,p.C)(f.nC),y=(0,p.C)(x.uA),w=(0,p.C)(e=>e.diagnosticSettings.viewId),P=(0,m.useSearchParams)(),A="receptionist"===N?!P.get("overall"):void 0,L="admin"===N&&w?w:void 0;(0,c.useEffect)(()=>{j(!0),(0,h.V)({from:y[0],to:y[1],page:e,limit:5,isOwn:A||!1,userId:L}).then(e=>{let{success:a,data:t}=e;a&&"string"!=typeof t&&v({dueCollections:t.dueCollections||[],totalPaidAmount:t.totalPaidAmount||0}),j(!1)})},[y,e,A,L]);let _=(0,c.useCallback)(e=>{a(e)},[]),k=(0,c.useMemo)(()=>[{key:"name",label:"Patient Name",width:180,getValue:e=>(null==e?void 0:e.name)||"N/A"},{key:"totalAmount",label:"Total Amount",width:120,getValue:e=>"৳".concat((null==e?void 0:e.totalAmountWithDiscount)||0)},{key:"discount",label:"Discount",width:100,getValue:e=>"৳".concat((null==e?void 0:e.hospitalDiscount)||0)},{key:"paidAmount",label:"Paid Amount",width:120,getValue:e=>"৳".concat((null==e?void 0:e.paidAmount)||0),textProps:{fw:600,c:"green"}},{key:"status",label:"Status",width:100,render:e=>(0,o.jsx)(s.C,{color:(null==e?void 0:e.isPaid)?"green":"orange",size:"sm",children:(null==e?void 0:e.isPaid)?"Paid":"Due"})}],[]);return(0,o.jsxs)(n.Container,{size:"xl",px:"md",children:[(0,o.jsx)(l.Stack,{gap:"lg",children:(0,o.jsxs)(r.Box,{p:"lg",children:[(0,o.jsx)(d.Title,{order:2,mb:(0,i.h)(4),children:"Paid Summary"}),(0,o.jsx)(u.Text,{size:"sm",c:"dimmed",children:"Summary of all paid transactions"})]})}),(0,o.jsx)(r.Box,{p:"md",children:(0,o.jsx)(b.Z,{title:"Due Collection",data:t.dueCollections,columns:k,totalAmount:t.totalPaidAmount,totalAmountLabel:"Total Collected",totalCount:t.dueCollections.length,isLoading:C,currentPage:e,onPageChange:_,itemsPerPage:5,emptyMessage:"No due collections found",renderCard:(e,a)=>(0,o.jsx)(g.Z,{item:e,type:"due"},e.id||a)})})]})}},50549:function(e,a,t){"use strict";t.d(a,{V:function(){return l}});var o=t(72940),s=t(6780),n=t(67732);let l=async e=>{let{from:a,to:t,limit:l,page:r,isOwn:d=!1,filterData:i,phone:u,patientId:c,userId:m}=e;try{a&&(a=new Date(a)).setHours(0,0,0,0),t&&(t=new Date(t)).setHours(23,59,59,999);let e=await s.default.get("bill/dueCollection",{baseURL:"http://sasthotech.local:5000/api/v1",params:{from:a,to:t,limit:l,page:r,isOwn:d,...i,phone:u,patientId:c,userId:m},...o.FD});return console.log("Due Collection Response:",e.data),{success:!0,data:e.data.data}}catch(e){if(e instanceof n.d7){var p;return{success:!1,data:null===(p=e.response)||void 0===p?void 0:p.data.message}}return{success:!1,data:"An error occurred"}}}},14587:function(e,a,t){"use strict";t.r(a),t.d(a,{Loader:function(){return C},defaultLoaders:function(){return b}});var o=t(68328),s=t(4505),n=t(63773),l=t(55622),r=t(12498),d=t(65786),i=t(28266),u=t(32451),c=t(36246),m=t(27083),p={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};let f=(0,s.forwardRef)((e,a)=>{let{className:t,...s}=e;return(0,o.jsxs)(u.Box,{component:"span",className:(0,m.Z)(p.barsLoader,t),...s,ref:a,children:[(0,o.jsx)("span",{className:p.bar}),(0,o.jsx)("span",{className:p.bar}),(0,o.jsx)("span",{className:p.bar})]})});f.displayName="@mantine/core/Bars";let x=(0,s.forwardRef)((e,a)=>{let{className:t,...s}=e;return(0,o.jsxs)(u.Box,{component:"span",className:(0,m.Z)(p.dotsLoader,t),...s,ref:a,children:[(0,o.jsx)("span",{className:p.dot}),(0,o.jsx)("span",{className:p.dot}),(0,o.jsx)("span",{className:p.dot})]})});x.displayName="@mantine/core/Dots";let h=(0,s.forwardRef)((e,a)=>{let{className:t,...s}=e;return(0,o.jsx)(u.Box,{component:"span",className:(0,m.Z)(p.ovalLoader,t),...s,ref:a})});h.displayName="@mantine/core/Oval";let b={bars:f,oval:h,dots:x},g={loaders:b,type:"oval"},v=(0,l.Z)((e,a)=>{let{size:t,color:o}=a;return{root:{"--loader-size":(0,n.ap)(t,"loader-size"),"--loader-color":o?(0,r.p)(o,e):void 0}}}),C=(0,c.d5)((e,a)=>{let t=(0,d.w)("Loader",g,e),{size:s,color:n,type:l,vars:r,className:c,style:m,classNames:f,styles:x,unstyled:h,loaders:b,variant:C,children:j,...N}=t,y=(0,i.y)({name:"Loader",props:t,classes:p,className:c,style:m,classNames:f,styles:x,unstyled:h,vars:r,varsResolver:v});return j?(0,o.jsx)(u.Box,{...y("root"),ref:a,...N,children:j}):(0,o.jsx)(u.Box,{...y("root"),ref:a,component:b[l],variant:C,size:s,...N})});C.defaultLoaders=b,C.classes=p,C.displayName="@mantine/core/Loader"},67732:function(e,a,t){"use strict";t.d(a,{d7:function(){return s},uu:function(){return f}});let{Axios:o,AxiosError:s,CanceledError:n,isCancel:l,CancelToken:r,VERSION:d,all:i,Cancel:u,isAxiosError:c,spread:m,toFormData:p,AxiosHeaders:f,HttpStatusCode:x,formToJSON:h,getAdapter:b,mergeConfig:g}=t(6780).default}},function(e){e.O(0,[1601,3069,6945,3852,4670,9258,7140,2389,6258,9175,7402,1744],function(){return e(e.s=12601)}),_N_E=e.O()}]);