(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8157],{66309:function(e,t,n){Promise.resolve().then(n.bind(n,70544))},65399:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},55749:function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,{Z:function(){return r}})},44377:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(48694),o=n(65399);function i(e){(0,o.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===(0,r.Z)(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):(("string"==typeof e||"[object String]"===t)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(Error().stack)),new Date(NaN))}},70544:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return N}});var r=n(68328),o=n(12450),i=n(58690),a=n(74559),l=n(31204),s=n(9722),c=n(58895),u=n(58291);let d=(0,n(52165).Z)("outline","baseline","Baseline",[["path",{d:"M4 20h16",key:"svg-0"}],["path",{d:"M8 16v-8a4 4 0 1 1 8 0v8",key:"svg-1"}],["path",{d:"M8 10h8",key:"svg-2"}]]);var v=n(23583),f=n(70818),m=n(42062),h=n(53502),p=n(90660),g=n.n(p),w=n(14193),x=n(98318);let b=w.Ry().shape({name:w.Z_().required("Name is Required")});var y=()=>{var e,t,n,o;let p=(0,h.v9)(e=>e.auth),w=(0,h.I0)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,r.jsx)("h1",{className:"mb-4 fw-bolder",children:"User Info"}),(null==p?void 0:null===(e=p.user)||void 0===e?void 0:e.role)==="admin"&&(0,r.jsx)(l.Button,{component:"a",href:"?diagnostic=".concat(!0),variant:"outline",color:"blue",children:"Hospital Info"})]}),(0,r.jsx)(v.J9,{validationSchema:b,enableReinitialize:!0,initialValues:{email:null==p?void 0:null===(t=p.user)||void 0===t?void 0:t.email,name:null==p?void 0:null===(n=p.user)||void 0===n?void 0:n.name,role:null==p?void 0:null===(o=p.user)||void 0===o?void 0:o.role},onSubmit:async(e,t)=>{let{setSubmitting:n,resetForm:r}=t;try{let{name:t}=e,{success:n,data:r}=await (0,i.k)({name:t});n?(w((0,a.av)({...p.user,name:t})),g().fire("Success","Profile Updated Successfully","success")):g().fire("Failed",r,"error")}finally{n(!1)}},children:e=>{var t;let{values:n,errors:o,touched:i,handleChange:a,handleBlur:h,handleSubmit:p,isSubmitting:g}=e;return(0,r.jsxs)(v.l0,{className:"d-flex flex-column gap-3",children:[(0,r.jsxs)(f.default,{className:"gy-4",children:[(0,r.jsxs)(m.default,{lg:6,children:[" ",(0,r.jsx)(s.I,{leftSection:(0,r.jsx)(c.Z,{size:20}),placeholder:"Your Email",value:null==n?void 0:n.email,variant:"filled",size:"md",readOnly:!0,radius:"md",onChange:a,onBlur:h,type:"email",name:"email"})]}),(0,r.jsxs)(m.default,{children:[" ",(0,r.jsx)(s.I,{styles:{input:{textTransform:"capitalize"}},leftSection:(0,r.jsx)(u.Z,{size:20}),placeholder:"Your Role",value:(null==n?void 0:n.role)==="labAssistant"?"lab assistant":null==n?void 0:n.role,variant:"filled",radius:"md",readOnly:!0,size:"md",onChange:a,onBlur:h,type:"text",name:"name"})]})]}),(0,r.jsx)(s.I,{leftSection:(0,r.jsx)(d,{size:20}),placeholder:"Your Name",value:null!==(t=n.name)&&void 0!==t?t:"",variant:"filled",radius:"md",size:"md",onChange:a,onBlur:h,type:"text",name:"name",error:o.name&&i.name?o.name.toString():void 0}),o.name&&i.name&&(0,r.jsx)("p",{className:"text-danger",children:o.name.toString()}),(0,r.jsx)("div",{className:"w-25",children:(0,r.jsx)(l.Button,{type:"submit",size:"lg",className:"mt-3",disabled:g,children:"Update"})})]})}})]}),(0,r.jsx)("div",{className:"mt-3",children:(0,r.jsx)(x.Z,{routeToOther:!1,center:!1,buttonText:"Update",headerText:"Update Password",doesEmailFieldExist:!1,doesSkipAndContactUs:!1})})]})},j=n(27081),S=n(39387),I=n(41363),k=n(25499),N=()=>{var e;let t=(0,o.useSearchParams)(),n=(0,h.v9)(e=>e),i=(0,k.T)(),l=async e=>{let{success:t,data:n}=await (0,I.$)(e);t?(g().fire("Success","Permission Updated","success"),i((0,a.Im)(n))):g().fire("Failed","Internal Server Error","error")};return(0,r.jsx)("div",{className:"container",children:t.get("diagnostic")?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Z,{routeToOther:!1,headerText:"Hospital Info",buttonText:"Update",isFullWidth:!0}),(0,r.jsx)(S.Z,{headerText:"All Permissions",buttonText:"Update Permission",onSubmitAction:l,state:null==n?void 0:null===(e=n.auth)||void 0===e?void 0:e.diagnostic})]}):(0,r.jsx)(y,{})})}},58690:function(e,t,n){"use strict";n.d(t,{k:function(){return a}});var r=n(72940),o=n(6780),i=n(67732);let a=async e=>{try{let t=await o.default.patch("".concat("http://sasthotech.local:5000/api/v1","/profile"),e,{...r.FD,...r.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof i.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}}},3741:function(e,t,n){"use strict";n.d(t,{A:function(){return I}});var r=n(68328);n(4505);var o=n(63773),i=n(55622),a=n(65786),l=n(28266),s=n(32451),c=n(4687),u=n(14587),d=n(44176),v=n(4923),f=n(53729),m=n(36246),h={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};let p={orientation:"horizontal"},g=(0,i.Z)((e,t)=>{let{borderWidth:n}=t;return{group:{"--ai-border-width":(0,f.h)(n)}}}),w=(0,m.d5)((e,t)=>{let n=(0,a.w)("ActionIconGroup",p,e),{className:o,style:i,classNames:c,styles:u,unstyled:d,orientation:v,vars:f,borderWidth:m,variant:w,mod:x,...b}=(0,a.w)("ActionIconGroup",p,e),y=(0,l.y)({name:"ActionIconGroup",props:n,classes:h,className:o,style:i,classNames:c,styles:u,unstyled:d,vars:f,varsResolver:g,rootSelector:"group"});return(0,r.jsx)(s.Box,{...y("group"),ref:t,variant:w,mod:[{"data-orientation":v},x],role:"group",...b})});w.classes=h,w.displayName="@mantine/core/ActionIconGroup";let x={},b=(0,i.Z)((e,t)=>{let{radius:n,color:r,gradient:i,variant:a,autoContrast:l,size:s}=t,c=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:a||"filled",autoContrast:l});return{groupSection:{"--section-height":(0,o.ap)(s,"section-height"),"--section-padding-x":(0,o.ap)(s,"section-padding-x"),"--section-fz":(0,o.yv)(s),"--section-radius":void 0===n?void 0:(0,o.H5)(n),"--section-bg":r||a?c.background:void 0,"--section-color":c.color,"--section-bd":r||a?c.border:void 0}}}),y=(0,m.d5)((e,t)=>{let n=(0,a.w)("ActionIconGroupSection",x,e),{className:o,style:i,classNames:c,styles:u,unstyled:d,vars:v,variant:f,gradient:m,radius:p,autoContrast:g,...w}=(0,a.w)("ActionIconGroupSection",x,e),y=(0,l.y)({name:"ActionIconGroupSection",props:n,classes:h,className:o,style:i,classNames:c,styles:u,unstyled:d,vars:v,varsResolver:b,rootSelector:"groupSection"});return(0,r.jsx)(s.Box,{...y("groupSection"),ref:t,variant:f,...w})});y.classes=h,y.displayName="@mantine/core/ActionIconGroupSection";let j={},S=(0,i.Z)((e,t)=>{let{size:n,radius:r,variant:i,gradient:a,color:l,autoContrast:s}=t,c=e.variantColorResolver({color:l||e.primaryColor,theme:e,gradient:a,variant:i||"filled",autoContrast:s});return{root:{"--ai-size":(0,o.ap)(n,"ai-size"),"--ai-radius":void 0===r?void 0:(0,o.H5)(r),"--ai-bg":l||i?c.background:void 0,"--ai-hover":l||i?c.hover:void 0,"--ai-hover-color":l||i?c.hoverColor:void 0,"--ai-color":c.color,"--ai-bd":l||i?c.border:void 0}}}),I=(0,c.b)((e,t)=>{let n=(0,a.w)("ActionIcon",j,e),{className:o,unstyled:i,variant:c,classNames:f,styles:m,style:p,loading:g,loaderProps:w,size:x,color:b,radius:y,__staticSelector:I,gradient:k,vars:N,children:A,disabled:E,"data-disabled":C,autoContrast:z,mod:Z,...M}=n,_=(0,l.y)({name:["ActionIcon",I],props:n,className:o,style:p,classes:h,classNames:f,styles:m,unstyled:i,vars:N,varsResolver:S});return(0,r.jsxs)(v.k,{..._("root",{active:!E&&!g&&!C}),...M,unstyled:i,variant:c,size:x,disabled:E||g,ref:t,mod:[{loading:g,disabled:E||C},Z],children:[(0,r.jsx)(d.u,{mounted:!!g,transition:"slide-down",duration:150,children:e=>(0,r.jsx)(s.Box,{component:"span",..._("loader",{style:e}),"aria-hidden":!0,children:(0,r.jsx)(u.Loader,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...w})})}),(0,r.jsx)(s.Box,{component:"span",mod:{loading:g},..._("icon"),children:A})]})});I.classes=h,I.displayName="@mantine/core/ActionIcon",I.Group=w,I.GroupSection=y},49541:function(e,t,n){"use strict";n.d(t,{P:function(){return a},n:function(){return i}});var r=n(68328),o=n(53729);function i(e){let{size:t,style:n,...i}=e,a=void 0!==t?{width:(0,o.h)(t),height:(0,o.h)(t),...n}:n;return(0,r.jsx)("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:a,"aria-hidden":!0,...i,children:(0,r.jsx)("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function a(e){let{indeterminate:t,...n}=e;return t?(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...n,children:(0,r.jsx)("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):(0,r.jsx)(i,{...n})}n(4505)},7822:function(e,t,n){"use strict";function r(e){return e?parseInt(e,10):0}n.d(t,{H:function(){return r}})},16280:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=()=>{}},62471:function(e,t,n){"use strict";n.d(t,{_:function(){return s},I:function(){return l}});var r=n(4505),o=n(6975);function i(e){try{return e&&JSON.parse(e)}catch(t){return e}}function a(e){return{getItem:t=>{try{return window[e].getItem(t)}catch(e){return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(t,n)=>{try{window[e].setItem(t,n)}catch(e){console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:t=>{try{window[e].removeItem(t)}catch(e){console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function l(e){return(function(e,t){let n="localStorage"===e?"mantine-local-storage":"mantine-session-storage",{getItem:l,setItem:s,removeItem:c}=a(e);return function(a){let{key:u,defaultValue:d,getInitialValueInEffect:v=!0,sync:f=!0,deserialize:m=i,serialize:h=e=>(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"use-local-storage";try{return JSON.stringify(e)}catch(e){throw Error("@mantine/hooks ".concat(t,": Failed to serialize the value"))}})(e,t)}=a,p=(0,r.useCallback)(t=>{let n;try{n="undefined"==typeof window||!(e in window)||null===window[e]||!!t}catch(e){n=!0}if(n)return d;let r=l(u);return null!==r?m(r):d},[u,d]),[g,w]=(0,r.useState)(p(v)),x=(0,r.useCallback)(e=>{e instanceof Function?w(t=>{let r=e(t);return s(u,h(r)),window.dispatchEvent(new CustomEvent(n,{detail:{key:u,value:e(t)}})),r}):(s(u,h(e)),window.dispatchEvent(new CustomEvent(n,{detail:{key:u,value:e}})),w(e))},[u]),b=(0,r.useCallback)(()=>{c(u),window.dispatchEvent(new CustomEvent(n,{detail:{key:u,value:d}}))},[]);return(0,o.s)("storage",t=>{if(f&&t.storageArea===window[e]&&t.key===u){var n;w(m(null!==(n=t.newValue)&&void 0!==n?n:void 0))}}),(0,o.s)(n,e=>{f&&e.detail.key===u&&w(e.detail.value)}),(0,r.useEffect)(()=>{void 0!==d&&void 0===g&&x(d)},[d,g,x]),(0,r.useEffect)(()=>{let e=p();void 0!==e&&x(e)},[u]),[void 0===g?d:g,x,b]}})("localStorage","use-local-storage")(e)}let s=function(e){let{getItem:t}=a(e);return function(n){let r,{key:o,defaultValue:a,deserialize:l=i}=n;try{r="undefined"==typeof window||!(e in window)||null===window[e]}catch(e){r=!0}if(r)return a;let s=t(o);return null!==s?l(s):a}}("localStorage")},58689:function(e,t,n){"use strict";n.d(t,{Yx:function(){return a},kR:function(){return o},lq:function(){return i}});var r=n(4505);function o(e,t){if("function"==typeof e)return e(t);"object"==typeof e&&null!==e&&"current"in e&&(e.current=t)}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let r=new Map;return e=>{if(t.forEach(t=>{let n=o(t,e);n&&r.set(t,n)}),r.size>0)return()=>{t.forEach(e=>{let t=r.get(e);t?t():o(e,null)}),r.clear()}}}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useCallback)(i(...t),t)}},57434:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(4505);function o(e){let{value:t,defaultValue:n,finalValue:o,onChange:i=()=>{}}=e,[a,l]=(0,r.useState)(void 0!==n?n:o);return void 0!==t?[t,i,!0]:[a,function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];l(e),null==i||i(e,...n)},!1]}},6975:function(e,t,n){"use strict";n.d(t,{s:function(){return o}});var r=n(4505);function o(e,t,n){(0,r.useEffect)(()=>(window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)),[e,t])}},24837:function(e,t,n){"use strict";function r(e,t,n){return void 0===t&&void 0===n?e:void 0!==t&&void 0===n?Math.max(e,t):void 0===t&&void 0!==n?Math.min(e,n):Math.min(Math.max(e,t),n)}n.d(t,{u:function(){return r}})},58291:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(52165).Z)("outline","user-circle","UserCircle",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0",key:"svg-0"}],["path",{d:"M9 10a3 3 0 1 0 6 0a3 3 0 1 0 -6 0",key:"svg-1"}],["path",{d:"M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855",key:"svg-2"}]])}},function(e){e.O(0,[2975,3069,6945,3852,1656,9722,9258,6306,3583,4193,4927,630,3834,529,8312,9387,5643,9175,7402,1744],function(){return e(e.s=66309)}),_N_E=e.O()}]);