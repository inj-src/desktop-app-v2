(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8440,1054],{91054:function(){},91737:function(e,t,n){Promise.resolve().then(n.bind(n,84139))},84139:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return G}});var a=n(68328),r=n(4505),i=n(77621),o=n(91171),l=n(12450),s=n(72940),d=n(6780),c=n(67732);let u=async(e,t,n,a,r,i)=>{try{let o="".concat("http://sasthotech.local:5000/api/v1","/admin/dashboard/test?");e&&t&&(o+="from=".concat(e.toISOString(),"&to=").concat(t.toISOString())),n&&(o+="&userId=".concat(n)),a&&(o+="&doctorId=".concat(a)),r&&(o+="&pCId=".concat(r)),i&&(o+="&discountReferrerId=".concat(i));let l=await d.default.get(o,s.FD);return{success:!0,data:l.data.data}}catch(e){if(e instanceof c.d7){var o;return{success:!1,data:null===(o=e.response)||void 0===o?void 0:o.data.message}}return{success:!1,data:"An error occurred"}}};var m=n(53502),h=n(76607),y=n(78259),x=n(75865),v=n(31204),g=n(22975),f=n(14587),p=n(22614),j=n(87967),b=n(28301),w=n(75540),C=n(27191),T=n(64159),D=n(46557),S=n(62471),k=n(58185),F=n(49238),P=n(60711),B=n(42870),A=n(25499),R=n(65850),N=n(97698),E=n(62549),z=n(86431),I=n(42752),q=n.n(I);R.Zx.register({family:"Roboto",fonts:[{src:"https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu4mxP.ttf",fontWeight:400},{src:"https://fonts.gstatic.com/s/roboto/v20/KFOlCnqEu92Fr1MmEU9fBBc9.ttf",fontWeight:500},{src:"https://fonts.gstatic.com/s/roboto/v20/KFOlCnqEu92Fr1MmWUlfBBc9.ttf",fontWeight:700}]}),R.Zx.register({family:"NotoSans",fonts:[{src:"/fonts/NotoSans/NotoSans_Condensed-Regular.ttf"},{src:"/fonts/NotoSans/NotoSans-Bold.ttf",fontWeight:"bold"},{src:"/fonts/NotoSans/NotoSans_Condensed-SemiBold.ttf",fontWeight:600}]});let Z=R.mM.create({page:{padding:24,fontFamily:"Roboto",fontSize:10,backgroundColor:"#FFFFFF"},headerSection:{marginBottom:12,borderBottom:"1px solid #EEEEEE",paddingBottom:10},reportTitle:{fontSize:18,fontWeight:700,marginBottom:8,color:"#2E5984",textAlign:"center"},metadataContainer:{flexDirection:"row",justifyContent:"space-between",marginVertical:8},metadataColumn:{width:"50%"},metadataRow:{flexDirection:"row",marginBottom:4},metadataLabel:{fontWeight:700,width:100},metadataValue:{flex:1},categorySection:{marginBottom:12,borderWidth:1,borderColor:"#E0E0E0",borderRadius:4,overflow:"hidden"},categoryHeader:{backgroundColor:"#2E5984",color:"#FFFFFF",padding:8,flexDirection:"row",justifyContent:"space-between"},categoryTitle:{fontSize:12,fontWeight:700,color:"#FFFFFF"},categoryTotal:{fontSize:11,fontWeight:600,color:"#FFFFFF"},table:{width:"100%"},tableRow:{flexDirection:"row",borderBottomWidth:1,borderBottomColor:"#E0E0E0",borderBottomStyle:"solid",alignItems:"center",minHeight:28,paddingVertical:4},tableRowEven:{backgroundColor:"#F8F9FA"},tableHeaderRow:{backgroundColor:"#F0F4F8",fontWeight:700,minHeight:32},tableCol:{padding:6},tableColNo:{width:"10%",textAlign:"center"},tableColName:{width:"70%",textAlign:"left"},tableColQty:{width:"20%",textAlign:"right"},tableCellText:{fontSize:9},tableCellTextBold:{fontSize:9,fontWeight:700},summarySection:{marginTop:16,padding:12,backgroundColor:"#F8F9FA",borderRadius:4,borderLeftWidth:4,borderLeftColor:"#2E5984",borderLeftStyle:"solid"},summaryTitle:{fontSize:12,fontWeight:700,marginBottom:8,color:"#2E5984"},summaryRow:{flexDirection:"row",marginBottom:6},summaryLabel:{fontWeight:700,width:140,color:"#555555"},summaryValue:{fontWeight:500},footer:{position:"absolute",bottom:10,left:0,right:0,textAlign:"center",color:"#9E9E9E",fontSize:8,paddingTop:10,borderTopWidth:1,borderTopColor:"#EEEEEE",borderTopStyle:"solid"},pageNumber:{position:"absolute",bottom:10,right:30,fontSize:9,color:"#666666"}}),M=e=>{let{testData:t,startDate:n,endDate:r,filterBy:i,diagnosticState:o,diagnosticSettings:l,formatNumber:s,categoryGroups:d}=e,c=q().sumBy(t,"quantity"),u=t.length;return(0,a.jsx)(R.BB,{children:(0,a.jsxs)(R.T3,{size:"A4",style:Z.page,children:[(0,a.jsx)(z.Z,{diagnosticSettings:l}),(0,a.jsxs)(R.G7,{style:Z.headerSection,children:[(0,a.jsx)(E.default,{diagnosticState:o}),(0,a.jsx)(R.xv,{style:Z.reportTitle,children:"Test Summary Report"}),(0,a.jsxs)(R.G7,{style:Z.metadataContainer,children:[(0,a.jsxs)(R.G7,{style:Z.metadataColumn,children:[n&&r&&(0,a.jsxs)(R.G7,{style:Z.metadataRow,children:[(0,a.jsx)(R.xv,{style:Z.metadataLabel,children:"Period:"}),(0,a.jsxs)(R.xv,{style:Z.metadataValue,children:[(0,N.Z)(new Date(n),"dd MMM yyyy")," -"," ",(0,N.Z)(new Date(r),"dd MMM yyyy")]})]}),(null==i?void 0:i.doctor)&&(0,a.jsxs)(R.G7,{style:Z.metadataRow,children:[(0,a.jsx)(R.xv,{style:Z.metadataLabel,children:"Doctor:"}),(0,a.jsx)(R.xv,{style:Z.metadataValue,children:i.doctor})]})]}),(0,a.jsxs)(R.G7,{style:Z.metadataColumn,children:[(null==i?void 0:i.pc)&&(0,a.jsxs)(R.G7,{style:Z.metadataRow,children:[(0,a.jsx)(R.xv,{style:Z.metadataLabel,children:"PC:"}),(0,a.jsx)(R.xv,{style:Z.metadataValue,children:i.pc})]}),(null==i?void 0:i.discountReferrer)&&(0,a.jsxs)(R.G7,{style:Z.metadataRow,children:[(0,a.jsx)(R.xv,{style:Z.metadataLabel,children:"Discount Ref:"}),(0,a.jsx)(R.xv,{style:Z.metadataValue,children:i.discountReferrer})]})]})]})]}),d.map((e,t)=>(0,a.jsxs)(R.G7,{style:Z.categorySection,wrap:!1,children:[(0,a.jsxs)(R.G7,{style:Z.categoryHeader,children:[(0,a.jsx)(R.xv,{style:Z.categoryTitle,children:e.category||"Uncategorized"}),(0,a.jsxs)(R.xv,{style:Z.categoryTotal,children:["Total: ",s(e.totalQuantity)," tests"]})]}),(0,a.jsxs)(R.G7,{style:Z.table,children:[(0,a.jsxs)(R.G7,{style:[Z.tableRow,Z.tableHeaderRow],children:[(0,a.jsx)(R.G7,{style:[Z.tableCol,Z.tableColNo],children:(0,a.jsx)(R.xv,{style:Z.tableCellTextBold,children:"#"})}),(0,a.jsx)(R.G7,{style:[Z.tableCol,Z.tableColName],children:(0,a.jsx)(R.xv,{style:Z.tableCellTextBold,children:"Test Name"})}),(0,a.jsx)(R.G7,{style:[Z.tableCol,Z.tableColQty],children:(0,a.jsx)(R.xv,{style:Z.tableCellTextBold,children:"Quantity"})})]}),e.tests.map((e,t)=>(0,a.jsxs)(R.G7,{style:[Z.tableRow,t%2==1?Z.tableRowEven:{}],children:[(0,a.jsx)(R.G7,{style:[Z.tableCol,Z.tableColNo],children:(0,a.jsx)(R.xv,{style:Z.tableCellText,children:t+1})}),(0,a.jsx)(R.G7,{style:[Z.tableCol,Z.tableColName],children:(0,a.jsx)(R.xv,{style:Z.tableCellText,children:e.name})}),(0,a.jsx)(R.G7,{style:[Z.tableCol,Z.tableColQty],children:(0,a.jsx)(R.xv,{style:Z.tableCellText,children:s(e.quantity)})})]},t))]})]},t)),(0,a.jsxs)(R.G7,{style:Z.summarySection,children:[(0,a.jsx)(R.xv,{style:Z.summaryTitle,children:"Summary"}),(0,a.jsxs)(R.G7,{style:Z.summaryRow,children:[(0,a.jsx)(R.xv,{style:Z.summaryLabel,children:"Total Unique Tests:"}),(0,a.jsx)(R.xv,{style:Z.summaryValue,children:s(u)})]}),(0,a.jsxs)(R.G7,{style:Z.summaryRow,children:[(0,a.jsx)(R.xv,{style:Z.summaryLabel,children:"Total Test Count:"}),(0,a.jsx)(R.xv,{style:Z.summaryValue,children:s(c)})]}),(0,a.jsxs)(R.G7,{style:Z.summaryRow,children:[(0,a.jsx)(R.xv,{style:Z.summaryLabel,children:"Categories:"}),(0,a.jsx)(R.xv,{style:Z.summaryValue,children:d.length})]})]}),(0,a.jsxs)(R.G7,{style:Z.footer,fixed:!0,children:[(0,a.jsx)(R.xv,{children:"Powered by Sasthotech | Empowering Healthcare Through Technology"}),(0,a.jsxs)(R.xv,{style:{fontSize:7,marginTop:4},children:["Printed on:"," ",new Date().toLocaleString("en-US",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})]})]}),(0,a.jsx)(R.xv,{style:Z.pageNumber,render:e=>{let{pageNumber:t,totalPages:n}=e;return"".concat(t," / ").concat(n)},fixed:!0})]})})},_=e=>void 0===e?"0":new Intl.NumberFormat("en-US").format(Math.round(e));var L=e=>{let{testData:t,startDate:i,endDate:o,filterBy:l,diagnosticSettings:s}=e,[d,c]=(0,r.useState)(null),[u,m]=(0,r.useState)(!1),[h,y]=(0,r.useState)(null),[x,v]=(0,r.useState)(0),g=(0,A.C)(e=>e.auth.diagnostic),f={name:(null==g?void 0:g.name)||"",address:(null==g?void 0:g.address)||"",phone1:(null==g?void 0:g.phone1)||"",phone2:(null==g?void 0:g.phone2)||"",division:(null==g?void 0:g.division)||"",logo:(null==g?void 0:g.logo)||"",id:(null==g?void 0:g.id)||"",city:(null==g?void 0:g.city)||"",paymentDate:(null==g?void 0:g.paymentDate)||"",admin:(null==g?void 0:g.admin)||""},p=(0,r.useMemo)(()=>{let e=Object.entries(q().groupBy(t,"category.id")).map(e=>{var t,n;let[a,r]=e;return{category:(null==r?void 0:null===(n=r[0])||void 0===n?void 0:null===(t=n.category)||void 0===t?void 0:t.name)||"Uncategorized",categoryId:a,totalQuantity:q().sumBy(r,"quantity"),tests:q().orderBy(r,["name"],["asc"])}});return q().orderBy(e,["totalQuantity"],["desc"])},[t]),j=()=>(0,a.jsx)(M,{testData:t,startDate:i,endDate:o,filterBy:l,diagnosticState:f,diagnosticSettings:s,formatNumber:_,categoryGroups:p}),b=async()=>{try{m(!0),y(null),v(10);let{pdf:e}=await Promise.resolve().then(n.bind(n,65850));v(40);let t=j();v(60);let a=await e(t).toBlob();v(90);let r=URL.createObjectURL(a);c(r),v(100),m(!1)}catch(e){console.error("PDF generation error:",e),y("Failed to generate PDF"),m(!1),v(0)}};return(0,r.useEffect)(()=>()=>{d&&URL.revokeObjectURL(d)},[d]),{pdfBlobUrl:d,isGeneratingPdf:u,pdfError:h,generationProgress:x,handleDownloadPDF:()=>{if(d){let e=document.createElement("a");e.href=d;let t=i&&o?"".concat((0,N.Z)(new Date(i),"yyyy-MM-dd"),"_to_").concat((0,N.Z)(new Date(o),"yyyy-MM-dd")):(0,N.Z)(new Date,"yyyy-MM-dd");e.download="test-summary-report-".concat(t,".pdf"),document.body.appendChild(e),e.click(),document.body.removeChild(e)}},handlePrint:()=>{if(d){let e=document.createElement("iframe");e.style.display="none",e.src=d,document.body.appendChild(e),e.onload=()=>{var t;null===(t=e.contentWindow)||void 0===t||t.print()}}},generatePDF:b}},W=n(34473),G=()=>{var e,t,n,s,d;let[,c]=(0,r.useState)([null,null]),[A,{open:R,close:N}]=(0,D.q)(!1),E=(0,m.v9)(e=>e.dates),z=(0,l.useSearchParams)(),I=(0,m.v9)(e=>e.auth.user),q=(0,m.v9)(e=>e.diagnosticSettings.viewId),Z=(0,l.useRouter)(),[M,_]=(0,r.useState)([]),[G,O]=(0,S.I)({key:"testSummary-filter-doctorId",defaultValue:null}),[Q,H]=(0,S.I)({key:"testSummary-filter-pCId",defaultValue:null}),[U,V]=(0,S.I)({key:"testSummary-filter-discountReferrerId",defaultValue:null});(0,T.J)();let K=(0,m.v9)(b.F0),{data:Y}=(0,w.K0)(),{data:J}=(0,C.v6)(),X=(0,m.v9)(e=>e.diagnosticSettings),$=null==K?void 0:null===(e=K.find(e=>e.id===G))||void 0===e?void 0:e.name,ee=null==Y?void 0:null===(n=Y.data)||void 0===n?void 0:null===(t=n.find(e=>e.id===Q))||void 0===t?void 0:t.name,et=null==J?void 0:null===(s=J.find(e=>e.id===U))||void 0===s?void 0:s.name,{handleDownloadPDF:en,handlePrint:ea,isGeneratingPdf:er,pdfBlobUrl:ei,generatePDF:eo}=L({testData:M,startDate:(null==E?void 0:E.dates[0])?new Date(E.dates[0]):null,endDate:(null==E?void 0:E.dates[1])?new Date(E.dates[1]):null,filterBy:{doctor:$,pc:ee,discountReferrer:et},diagnosticSettings:X}),el=async()=>{R(),ei||await eo()},es=async()=>{ei||await eo(),setTimeout(()=>{ea()},100)};return(0,r.useEffect)(()=>{let e=z.get("from"),t=z.get("to"),n=(0,h.Z)(new Date),a=(0,y.Z)(new Date);(e&&t||(null==E?void 0:E.dates[0]))&&((null==E?void 0:E.dates[0])?(a=(0,y.Z)(new Date(null==E?void 0:E.dates[0])),n=(null==E?void 0:E.dates[1])?(0,h.Z)(new Date(null==E?void 0:E.dates[1])):(0,h.Z)(new Date(null==E?void 0:E.dates[0]))):e&&t&&(n=new Date(t),a=new Date(e)));let r=null;(null==I?void 0:I.role)==="admin"&&q&&(r=q),(async()=>{let{data:e}=await u(a,n,r,G,Q,U);_(e)})()},[Z,z,null==E?void 0:E.dates,null==I?void 0:I.role,q,G,Q,U]),(0,a.jsxs)(W.Container,{size:"xl",py:"lg",children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[(0,a.jsx)(o.Z,{headerText:"Total Tests",doesDatePickerExists:!1,setValue:c,btnBg:"#1A72E9"}),(0,a.jsxs)(x.v,{shadow:"md",width:200,children:[(0,a.jsx)(x.v.Target,{children:(0,a.jsx)(v.Button,{leftSection:(0,a.jsx)(k.Z,{size:16}),rightSection:(0,a.jsx)(F.Z,{size:16}),variant:"filled",color:"blue",loading:er,children:"Print Report"})}),(0,a.jsxs)(x.v.Dropdown,{children:[(0,a.jsx)(x.v.Item,{leftSection:(0,a.jsx)(P.Z,{size:16}),onClick:el,children:"Preview & Print"}),(0,a.jsx)(x.v.Item,{leftSection:(0,a.jsx)(k.Z,{size:16}),onClick:es,children:"Direct Print"})]})]})]}),(0,a.jsx)(g.u,{opened:A,onClose:N,size:"90%",title:"Test Summary Report",radius:"md",children:er?(0,a.jsxs)("div",{style:{width:"100%",height:"600px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"16px"},children:[(0,a.jsx)(f.Loader,{size:"lg"}),(0,a.jsx)("div",{children:"Generating PDF report..."})]}):ei?(0,a.jsxs)("div",{children:[(0,a.jsxs)(p.Group,{mb:"md",justify:"flex-end",children:[(0,a.jsx)(v.Button,{leftSection:(0,a.jsx)(k.Z,{size:16}),onClick:ea,variant:"filled",color:"blue",children:"Print"}),(0,a.jsx)(v.Button,{leftSection:(0,a.jsx)(B.Z,{size:16}),onClick:en,variant:"outline",color:"blue",children:"Download PDF"})]}),(0,a.jsx)("iframe",{src:ei,style:{width:"100%",height:"70vh",border:"none",borderRadius:"4px"},title:"Test Summary Report PDF"})]}):null}),(0,a.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem",flexWrap:"wrap"},children:[(0,a.jsx)(j.P,{placeholder:"Filter by Doctor",clearable:!0,searchable:!0,data:(null==K?void 0:K.map(e=>({value:e.id,label:e.name})))||[],value:G,onChange:O,style:{minWidth:"200px",flex:1}}),(0,a.jsx)(j.P,{placeholder:"Filter by PC",clearable:!0,searchable:!0,data:(null==Y?void 0:null===(d=Y.data)||void 0===d?void 0:d.map(e=>({value:e.id,label:e.name})))||[],value:Q,onChange:H,style:{minWidth:"200px",flex:1}}),(0,a.jsx)(j.P,{placeholder:"Filter by Discount Referrer",clearable:!0,searchable:!0,data:(null==J?void 0:J.map(e=>({value:e.id,label:e.name})))||[],value:U,onChange:V,style:{minWidth:"200px",flex:1}})]}),(0,a.jsx)(i.Z,{showFilterOption:!0,testData:M})]})}},77621:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var a=n(68328),r=n(54632),i=n(22041),o=n(87967),l=n(42752),s=n.n(l),d=n(4505),c=n(89876),u=n(49474),m=n(22975),h=n(22614),y=n(11114),x=n(77303),v=n(89822),g=n(3741),f=n(46557),p=n(93208),j=n(13520);let b=e=>{if(!e||e.length<6)return!1;let t=e.substring(0,6),n=new Date;return t==="".concat(n.getFullYear().toString().substring(2)).concat((n.getMonth()+1).toString().padStart(2,"0")).concat(n.getDate().toString().padStart(2,"0"))};var w=e=>{var t,n,o,l;let{item:s}=e,[d,{open:c,close:u}]=(0,f.q)(!1),w=(null==s?void 0:null===(t=s.bills)||void 0===t?void 0:t.filter(e=>b(e.billId)).length)||0,C=(null==s?void 0:null===(n=s.bills)||void 0===n?void 0:n.reduce((e,t)=>e+(t.totalAmountWithDiscount||0),0))||0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(m.u,{size:"80%",opened:d,onClose:u,title:"Bills for ".concat(null==s?void 0:s.name),styles:{title:{fontWeight:600,fontSize:"1.2rem"}},children:[(0,a.jsxs)(h.Group,{mb:"md",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(i.Text,{fw:600,children:["Test ID: ",null==s?void 0:s.testId]}),(0,a.jsxs)(i.Text,{children:["Category: ",null==s?void 0:null===(o=s.category)||void 0===o?void 0:o.name]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(i.Text,{fw:600,children:["Total Quantity: ",null==s?void 0:s.quantity]}),(0,a.jsxs)(i.Text,{fw:600,children:["Total Amount: ",C]})]})]}),w>0&&(0,a.jsx)(h.Group,{mb:"md",children:(0,a.jsxs)(y.C,{color:"orange",size:"lg",variant:"filled",children:[w," bill",w>1?"s":""," from today"]})}),(0,a.jsx)(x.Divider,{mb:"md"}),(0,a.jsx)(v.x,{h:400,children:(0,a.jsxs)(r.i,{striped:!0,highlightOnHover:!0,withColumnBorders:!0,children:[(0,a.jsx)(r.i.Thead,{children:(0,a.jsxs)(r.i.Tr,{children:[(0,a.jsx)(r.i.Th,{children:"Bill ID"}),(0,a.jsx)(r.i.Th,{children:"Patient Name"}),(0,a.jsx)(r.i.Th,{children:"Phone"}),(0,a.jsx)(r.i.Th,{children:"Amount"})]})}),(0,a.jsx)(r.i.Tbody,{children:null==s?void 0:null===(l=s.bills)||void 0===l?void 0:l.map((e,t)=>(0,a.jsxs)(r.i.Tr,{children:[(0,a.jsx)(r.i.Td,{children:(0,a.jsxs)(h.Group,{gap:"xs",wrap:"nowrap",children:[(0,a.jsx)(j.default,{href:"/billing/details?billingId=".concat(e.billId,"&view=true"),children:e.billId}),b(e.billId)&&(0,a.jsx)(y.C,{size:"xs",variant:"filled",color:"orange",radius:"sm",children:"Today"})]})}),(0,a.jsx)(r.i.Td,{children:e.name}),(0,a.jsx)(r.i.Td,{children:e.phone}),(0,a.jsx)(r.i.Td,{children:e.totalAmountWithDiscount})]},"".concat(e.id,"-").concat(t)))})]})})]}),(0,a.jsxs)(h.Group,{gap:"xs",children:[(0,a.jsx)(g.A,{onClick:c,color:"blue",variant:"light","aria-label":"View test details",children:(0,a.jsx)(p.Z,{size:18})}),w>0&&(0,a.jsx)(y.C,{size:"xs",variant:"dot",color:"orange",children:w})]})]})};let C=["TestName","Quantity","Details"],T=[{value:"name-asc",label:"Name (A-Z)"},{value:"name-desc",label:"Name (Z-A)"},{value:"quantity-high",label:"Quantity (High-Low)"},{value:"quantity-low",label:"Quantity (Low-High)"},{value:"category",label:"Category Wise"},{value:"category-quantity-high",label:"Category - Quantity (High-Low)"},{value:"category-quantity-low",label:"Category - Quantity (Low-High)"},{value:"category-name-asc",label:"Category - Name (A-Z)"},{value:"category-name-desc",label:"Category - Name (Z-A)"}];var D=e=>{let{testData:t,seeExtraLink:n,seeExtra:l=!1,showFilterOption:m}=e,[h,y]=(0,d.useState)("name-asc"),x=(0,d.useMemo)(()=>{if(!t)return[];switch(h){case"name-asc":return s().orderBy(t,["name"],["asc"]);case"name-desc":return s().orderBy(t,["name"],["desc"]);case"quantity-high":return s().orderBy(t,["quantity"],["desc"]);case"quantity-low":return s().orderBy(t,["quantity"],["asc"]);default:return t}},[t,h]),v=(0,d.useMemo)(()=>{if(h.startsWith("category")){let e=Object.entries(s().groupBy(t,"category.id")).map(e=>{var t,n;let[a,r]=e;return{category:null==r?void 0:null===(n=r[0])||void 0===n?void 0:null===(t=n.category)||void 0===t?void 0:t.name,categoryId:a,totalQuantity:s().sumBy(r,"quantity"),tests:[...r]}});switch(h){case"category-quantity-high":e=s().orderBy(e,["totalQuantity"],["desc"]);break;case"category-quantity-low":e=s().orderBy(e,["totalQuantity"],["asc"]);break;case"category-name-asc":e=s().orderBy(e,["category"],["asc"]);break;case"category-name-desc":e=s().orderBy(e,["category"],["desc"])}return e.map(e=>({...e,tests:s().orderBy(e.tests,["name"],["asc"])}))}return null},[t,h]),g=C.map((e,t)=>(0,a.jsx)(r.i.Th,{children:e.toLocaleUpperCase()},t));return(0,a.jsxs)("div",{className:"bg-white space-y-4",children:[m&&(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)(o.P,{label:"Sort / Filter By",value:h,onChange:e=>y(e||"name-asc"),data:T,className:"max-w-xs"})}),(null==t?void 0:t.length)===0?(0,a.jsx)(i.Text,{ta:"center",c:"red",size:"xl",fw:600,children:"No Test Found in this period"}):h.startsWith("category")?(0,a.jsx)("div",{className:"space-y-6",children:null==v?void 0:v.map(e=>(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)(i.Text,{size:"lg",fw:600,children:e.category}),(0,a.jsxs)(i.Text,{size:"lg",fw:600,children:["Total Quantity: ",e.totalQuantity]})]}),(0,a.jsx)(c.Z,{header:"".concat(e.category," Tests"),rows:(0,a.jsx)(u.Z,{bill:!0,dataKeys:["name","quantity","details"],elements:e.tests,customComponentKeyName:["details"],customComponentObject:{details:e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(w,{item:e})})}}),headers:g})]},e.categoryId))}):(0,a.jsx)(c.Z,{seeExtra:l,extraLink:n,header:"Tests",rows:(0,a.jsx)(u.Z,{bill:!0,dataKeys:["name","quantity","details"],elements:x,customComponentKeyName:["details"],customComponentObject:{details:e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(w,{item:e})})}}),headers:g})]})}},91171:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var a=n(68328);n(4505);var r=n(77052),i=n(60331),o=n(67781),l=n(14702),s=n.n(l),d=n(16098),c=n(76889),u=e=>{let{type:t,setValue:n,setDate:l,setMonth:u,maxDate:m=!0,defaultValue:h,minDate:y}=e,x=(0,d.j)({components:{DatePickerInput:r.DatePickerInput.extend({classNames:s()}),MonthPickerInput:i.MonthPickerInput.extend({classNames:s()})}});return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c.MantineProvider,{theme:x,children:u?(0,a.jsx)(i.MonthPickerInput,{leftSection:(0,a.jsx)(o.Z,{size:20}),leftSectionPointerEvents:"none",onChange:u,size:"md",radius:"md",variant:"filled"}):l?(0,a.jsx)(r.DatePickerInput,{type:"default",clearable:!0,onChange:l,defaultValue:h,leftSection:(0,a.jsx)(o.Z,{size:20}),maxDate:m?new Date:void 0,size:"md",minDate:y,radius:"md",variant:"filled"}):(0,a.jsx)(r.DatePickerInput,{type:"range",clearable:!0,valueFormat:"DD MMM, YYYY",onChange:n,leftSection:(0,a.jsx)(o.Z,{size:20}),maxDate:new Date,defaultValue:[new Date,new Date],size:"md",radius:"md",variant:"filled"})})})},m=n(71),h=n.n(m),y=n(91952),x=e=>{let{setValue:t,disableBtn:n,setMonth:r,setDate:i,headerText:o,buttonText:l="",buttonIcon:s,isButtonTextRightSide:d,onClick:c,doesButtonExists:m=!1,spaceBetweenDateAndHeader:x=!1,doesDatePickerExists:v=!1,buttonVariant:g="filled",routeLink:f,btnBg:p,defaultValue:j,maxDate:b,minDate:w}=e;return(0,a.jsxs)("div",{className:h().sectionHeaderParent,children:[(0,a.jsxs)("div",{style:x?{justifyContent:"space-between",width:"100%"}:{},className:h().sectionHeaderContainer,children:[(0,a.jsx)("h1",{className:"fw-bold",children:o}),v&&(0,a.jsx)(u,{setValue:t,setMonth:r,setDate:i,defaultValue:j,maxDate:b,minDate:w})]}),m&&(0,a.jsx)(y.Z,{btnBg:p,variant:g,buttonText:l,buttonIcon:s,isButtonTextRightSide:d,onClick:c||void 0,routeLink:f})]})}},62549:function(e,t,n){"use strict";n.r(t),n.d(t,{LoadDiagnosticImageUrl:function(){return d}});var a=n(68328),r=n(4505),i=n(65850),o=n(62471),l=n(6780),s=n(25499);function d(){var e;let t=(0,s.C)(e=>e.auth.diagnostic),n="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||window.location.hostname.includes("local")||window.location.hostname.includes("198")?null==t?void 0:t.offlineLogo:null!==(e=null==t?void 0:t.logo)&&void 0!==e?e:null,a="/images/demo-fallback-logo.png";return(0,r.useEffect)(()=>{if(!n||""===n.trim()){sessionStorage.setItem("diagnostic-logo",a);return}l.default.get(n,{headers:{"Cache-Control":"no-cache"},timeout:3e3,responseType:"blob"}).then(e=>{if(!e||!e.data)throw Error("Image not found or invalid response");let t=e.data;return new Promise((e,n)=>{let a=new FileReader;a.onload=()=>e(a.result),a.onerror=n,a.readAsDataURL(t)})}).then(e=>{sessionStorage.setItem("diagnostic-logo",e)}).catch(e=>{console.warn("Error loading primary image, using fallback:",e),sessionStorage.setItem("diagnostic-logo",a)})},[n,a,3e3]),null}let c=i.mM.create({container:{width:"100%",alignItems:"center",display:"flex",flexDirection:"row",gap:10},logoContainer:{width:100,height:80,marginBottom:10,position:"relative"},image:{width:"100%",height:"100%",objectFit:"contain",borderRadius:100},headerContainer:{width:"100%"},hospitalName:{fontSize:20,fontWeight:"bold",fontFamily:"NotoSans",marginBottom:4,textAlign:"left"},address:{fontSize:12,fontFamily:"NotoSans",marginBottom:2,textAlign:"left"},phone:{fontSize:12,fontFamily:"NotoSans",textAlign:"left"}});t.default=e=>{let{diagnosticState:t,fallbackImageUrl:n="/images/demo-fallback-logo.png",timeoutDuration:r=3e3}=e,l=(0,o._)({key:"print-show-division-name",defaultValue:"true"}),s=sessionStorage.getItem("diagnostic-logo")||n;return(0,a.jsxs)(i.G7,{style:c.container,children:[(0,a.jsx)(i.G7,{style:c.logoContainer,children:s&&(0,a.jsx)(i.Ee,{src:s,style:c.image})}),(0,a.jsxs)(i.G7,{style:c.headerContainer,children:[(0,a.jsx)(i.xv,{style:c.hospitalName,children:null==t?void 0:t.name}),(0,a.jsxs)(i.xv,{style:c.address,children:[null==t?void 0:t.address,"true"===l&&(null==t?void 0:t.division)?", ".concat(null==t?void 0:t.division):""]}),(0,a.jsxs)(i.xv,{style:c.phone,children:["Phone: ",null==t?void 0:t.phone1,(null==t?void 0:t.phone2)?", ".concat(null==t?void 0:t.phone2):""]})]})]})}},86431:function(e,t,n){"use strict";var a=n(68328),r=n(65850);t.Z=e=>{let{diagnosticSettings:t}=e;return(0,a.jsx)(r.G7,{children:(null==t?void 0:t.viewId)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.xv,{style:{textTransform:"capitalize",fontSize:12,fontWeight:"bold"},children:["Viewing as: ",(null==t?void 0:t.viewName)||"N/A"]}),(0,a.jsxs)(r.xv,{style:{fontSize:12},children:["Email: ",(null==t?void 0:t.viewEmail)||"N/A"]})]})})}},89876:function(e,t,n){"use strict";var a=n(68328),r=n(54632),i=n(7518),o=n.n(i),l=n(13520);t.Z=e=>{let{headers:t,rows:n,header:i,withColumnBorders:s,isStriped:d=!1,withRowBorders:c=!0,seeExtra:u=!1,extraLink:m,smallPadding:h,withTableBorder:y,extraClassForTable:x={},children:v,withBorder:g}=e;return(0,a.jsxs)("div",{className:"bg-white p-0 rounded-4",children:[(0,a.jsx)(r.i.ScrollContainer,{className:"p-0",minWidth:767,children:(0,a.jsxs)(r.i,{styles:{td:{paddingTop:h?8:16,paddingBottom:h?8:16},...x},striped:d,withRowBorders:c,withColumnBorders:s,withTableBorder:y,children:[(0,a.jsx)(r.i.Thead,{className:"w-100",children:(0,a.jsx)(r.i.Tr,{children:t})}),(0,a.jsxs)(r.i.Tbody,{children:[n,v]})]})}),u&&(0,a.jsx)("div",{className:o().extra,children:(0,a.jsxs)(l.default,{href:m||"/",children:["See more ",i]})})]})}},49474:function(e,t,n){"use strict";var a=n(68328),r=n(25499),i=n(54632),o=n(72375),l=n(97428),s=n(22041),d=n(32451),c=n(20234),u=n(76029),m=n(8283),h=n(60711),y=n(44019),x=n(12697),v=n(97698),g=n(13520),f=n(4505),p=n(90660),j=n.n(p),b=n(7518),w=n.n(b);t.Z=e=>{let{bill:t=!1,dataKeys:n,isEditable:p,isViewAble:b,editLink:C,viewLink:T,queryParamName:D="id",elements:S,statusVisible:k=!0,isImage:F,limit:P,keyNameWithImage:B,imageKeyName:A,isDeleteAble:R,deleteFunction:N,ActionsArray:E,customComponent:z,customComponentKeyName:I,customComponentObject:q,extraClassInRow:Z="fw-bold",isSelectTable:M,selectedArray:_,setSelectedArray:L,containSerialNo:W}=e,G=P?null==S?void 0:S.slice(0,P):S,O=(0,r.T)(),Q=(0,m.o)();return(0,a.jsx)(a.Fragment,{children:null==G?void 0:G.map((e,r)=>{let m=E?E instanceof Function?E(e):E:[];return(0,a.jsxs)(i.i.Tr,{bg:(null==_?void 0:_.includes(e.id))?"var(--mantine-color-blue-light)":void 0,className:Z,children:[W&&(0,a.jsxs)(i.i.Td,{children:[r+1,". "]}),M&&(0,a.jsx)(i.i.Td,{children:(0,a.jsx)(o.X,{"aria-label":"Select row",checked:null==_?void 0:_.includes(e.id),onChange:t=>L&&_&&L(t.currentTarget.checked?[..._,e.id]:_.filter(t=>t!==e.id))})}),null==n?void 0:n.map(n=>{var o,c;return n&&(0,a.jsx)(f.Fragment,{children:I&&"string"==typeof I&&z&&n===I?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:z(e,r)}):I&&"object"==typeof I&&(null==I?void 0:I.includes(n))&&q?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word",width:"reference"===n?"30%":""}},children:null===(o=q[n])||void 0===o?void 0:o.call(q,e,r)}):Array.isArray(n)?(0,a.jsxs)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:[" ",(0,a.jsx)("div",{className:"d-flex flex-column",children:n.map((t,n)=>(0,a.jsx)("span",{children:e[t]},n))})]},e[n[0]]):F&&B===n?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-2 fw-bold",children:[(0,a.jsx)(l.q,{src:A?e[A]:e.image,alt:"Picture"}),(0,a.jsx)(s.Text,{size:"xs",children:e[n]})]})},e[n]):"name"===n?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,a.jsx)(s.Text,{fw:600,tt:"capitalize",size:"xs",children:e[n]})}):!0===t&&"paidAmount"===n?(0,a.jsx)(a.Fragment,{children:(null==e?void 0:e.status)==="Refunded"?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},className:w().refund,children:(0,a.jsx)(s.Text,{size:"xs",children:"Refunded"})},e[n]):(null==e?void 0:e.totalAmount)-(null==e?void 0:e.paidAmount)<=3||(null==e?void 0:e.totalAmountWithDiscount)-(null==e?void 0:e.paidAmount)<=3?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},className:w().paid,children:(0,a.jsx)(s.Text,{size:"xs",children:"Paid"})},e[n]):(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},className:w().due,children:(0,a.jsxs)(s.Text,{size:"xs",children:["Due(",isNaN(parseInt((null==e?void 0:e.totalAmount)||(null==e?void 0:e.totalAmountWithDiscount))-parseInt(e.paidAmount))?0:Math.floor(parseInt((null==e?void 0:e.totalAmount)||(null==e?void 0:e.totalAmountWithDiscount))-parseInt(e.paidAmount)),")"]})},e[n])}):["totalAmount","totalAmountWithDiscount"].includes(n)?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,a.jsxs)(s.Text,{size:"xs",children:[" ",Math.floor(parseInt(e[n]))]})},e[n]):"createdAt"===n?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,a.jsxs)(s.Text,{size:"xs",children:[" ",(0,v.Z)(new Date(e[n]),"MM/dd/yyyy")]})},e[n]):"time"===n?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,a.jsxs)(s.Text,{size:"xs",children:[" ",new Date(e[n]).toLocaleString("en-US",{timeZone:"Asia/Dhaka"}).replace(","," |")]})},e[n]):"status"===n?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:e.isDeliver?(0,a.jsx)(d.Box,{style:{backgroundColor:"rgba(20, 177, 59, 0.50)",fontWeight:"bold",borderRadius:5,padding:5,textAlign:"left",width:100},bg:"#14B13B33",children:"Delivered"}):(0,a.jsx)(s.Text,{ta:"left",fw:600,size:"xs",children:"In Progress"})}):"totalTests"===n?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,a.jsxs)(s.Text,{size:"xs",children:[" ",(null===(c=e.tests)||void 0===c?void 0:c.length)||0]})},e[n]):(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,a.jsxs)(s.Text,{size:"xs",children:[" ",e[n]]})},e[n])},"".concat(e.id||r,"-").concat(n))}),!n&&Object.keys(e).map(n=>(0,a.jsx)(f.Fragment,{children:!0===t&&"paidAmount"===n?(0,a.jsx)("div",{className:"d-flex align-items-center h-100",children:(null==e?void 0:e.totalAmount)===(null==e?void 0:e.paidAmount)?(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},className:w().paid,children:(0,a.jsx)(s.Text,{size:"xs",children:"Paid"})},e[n])]}):(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},className:w().due,children:(0,a.jsxs)(s.Text,{size:"xs",children:["Due(",Math.floor(parseInt(e.totalAmount)-parseInt(e.paidAmount)),")"]})},e[n])]})}):"totalAmount"===n?(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,a.jsxs)(s.Text,{size:"xs",children:[" ",Math.floor(parseInt(e[n]))]})},e[n]):(0,a.jsx)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},children:(0,a.jsxs)(s.Text,{size:"xs",children:[" ",e[n]]})},e[n])},"".concat(e.id||r,"-").concat(n))),(0,a.jsxs)(i.i.Td,{styles:{td:{wordBreak:"break-word"}},className:"d-flex gap-1 hide__print",children:[(null==e?void 0:e.status)==="done"&&k?(0,a.jsxs)(a.Fragment,{children:[" ",(0,a.jsx)(d.Box,{style:{color:"#14B13B",fontWeight:"bold",borderRadius:5,padding:5},bg:"#14B13B33",children:"Done"})]}):null==m?void 0:m.map(t=>{var n;return(0,a.jsx)(f.Fragment,{children:t.link?(0,a.jsx)(g.default,{href:(null==t?void 0:t.useQueryParam)?"".concat(null==t?void 0:t.link,"?").concat((null==t?void 0:t.queryParamKey)||"id","=").concat((null==t?void 0:t.linkProp)?null==e?void 0:e[null==t?void 0:t.linkProp]:e.id).concat((null==t?void 0:t.queryParam)?"&".concat(null==t?void 0:t.queryParam,"=true"):""):"".concat(null==t?void 0:t.link,"/").concat((null==t?void 0:t.linkProp)?null==e?void 0:e[null==t?void 0:t.linkProp]:e.id).concat((null==t?void 0:t.queryParam)?"?".concat(null==t?void 0:t.queryParam,"=true"):""),children:t.icon}):(0,a.jsx)("span",{onClick:async()=>{if(t.onClickFunc){if((null==t?void 0:t.onClickFuncProp)==="all"){let n=await t.onClickFunc(e);(null==n?void 0:n.success)&&j().fire("Success","success")}else{let n=await t.onClickFunc(e.id);(null==n?void 0:n.success)&&j().fire("Success","success")}t.reduxFunc&&"remove"===t.reduxFuncType?O(await t.reduxFunc({id:e.id})):t.reduxFunc&&O(await t.reduxFunc({appointmentId:e.id,doctorId:t.doctorId}))}},className:"cursor",children:null==t?void 0:t.icon})},(null===(n=t.icon)||void 0===n?void 0:n.toString())||"action-icon")}),b?(0,a.jsx)(c.Anchor,{href:"".concat(T,"?").concat(D,"=").concat(e.id),target:"_blank",underline:"never",children:(0,a.jsx)(u.u,{label:"View",children:(0,a.jsx)(h.Z,{className:"cursor"})})}):"",p?(0,a.jsx)(c.Anchor,{href:"".concat(C,"?").concat(D,"=").concat(e.id),target:"_blank",underline:"never",children:(0,a.jsx)(u.u,{label:"Edit",children:(0,a.jsx)(y.Z,{className:"cursor"})})}):"",R&&N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.Z,{onClick:()=>{Q.openConfirmModal({title:"Delete",centered:!0,children:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("span",{className:"d-block h4",children:"Are you sure?"})}),labels:{confirm:"Delete",cancel:"Cancel"},onConfirm:()=>N(e.id)})},className:"cursor"})," "]}):""]})]},e.id||"".concat(null==e?void 0:e.name,"-").concat(r))})})}},91952:function(e,t,n){"use strict";var a=n(68328),r=n(31204),i=n(13520);n(4505),t.Z=e=>{let{buttonText:t,buttonIcon:n,isButtonTextRightSide:o=!0,onClick:l,routeLink:s,size:d="md",radius:c="md",variant:u="filled",type:m="button",btnBg:h="",color:y,disabled:x}=e;return s?(0,a.jsx)(r.Button,{bg:h,type:m,size:d,radius:c,component:i.default,disabled:x,href:s,onClick:l,variant:u,color:y,children:(0,a.jsxs)("div",{className:"d-flex ".concat(o?"":"flex-row-reverse"," gap-2 align-items-center"),children:[(0,a.jsx)("span",{children:n}),(0,a.jsx)("span",{children:t})]})}):(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.Button,{bg:h,type:m,size:d,radius:c,href:s,onClick:l,variant:u,color:y,disabled:x,children:(0,a.jsxs)("div",{className:"d-flex ".concat(o?"":"flex-row-reverse"," gap-2 align-items-center"),children:[(0,a.jsx)("span",{children:n}),(0,a.jsx)("span",{children:t})]})})})}},72940:function(e,t,n){"use strict";n.d(t,{FD:function(){return r},Hn:function(){return a},y4:function(){return i}});let a={headers:{"Content-Type":"application/json"}},r={withCredentials:!0},i={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},64159:function(e,t,n){"use strict";n.d(t,{J:function(){return d}});var a=n(58539),r=n(95325),i=n(28301),o=n(25499),l=n(4505),s=n(53502);let d=()=>{let e=(0,o.T)(),t=(0,s.v9)(e=>e.doctors);return(0,l.useEffect)(()=>{(async function(){if(!t.adminDoctors){let{success:t,data:n}=await (0,a.c)();t&&e((0,i.v1)(n.items))}if(!t.allDoctors){let{success:t,data:n}=await (0,r.$)(1,1e3);t&&e((0,i.GO)(n.items))}})()},[]),t}},58539:function(e,t,n){"use strict";n.d(t,{c:function(){return i}});var a=n(49854),r=n(67732);let i=async(e,t,n)=>{try{let r=new URLSearchParams(Object.fromEntries(Object.entries({page:e,limit:t,search:n}).filter(e=>{let[t,n]=e;return void 0!==n}).map(e=>{let[t,n]=e;return[t,String(n)]}))),i="admin/doctor?".concat(r.toString()),o=await (0,a.d)(i);return{success:!0,data:o.data}}catch(e){if(e instanceof r.d7){var i;return{success:!1,data:null===(i=e.response)||void 0===i?void 0:i.data.message}}return{success:!1,data:"An error occurred"}}}},95325:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var a=n(49854),r=n(67732);let i=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{let r=await (0,a.d)("doctor",{page:e,limit:t,search:n});return{success:!0,data:r.data}}catch(e){if(e instanceof r.d7){var i;return{success:!1,data:null===(i=e.response)||void 0===i?void 0:i.data.message}}return{success:!1,data:"An error occurred"}}}},78101:function(e,t,n){"use strict";n.d(t,{g:function(){return l}});var a=n(49854),r=n(68240),i=n(94183),o=n(28317);let l=(0,r.LC)({baseQuery:(0,i.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async n=>{let r="string"==typeof e?e:e.url;return r.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,o.t8)(r,await n.clone().json().catch(()=>null),(0,a.x)()),n}).catch(async n=>{if(n instanceof TypeError){let n="string"==typeof e?e:e.url;if(!n.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,o.U2)(n,(0,a.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw n})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},27191:function(e,t,n){"use strict";n.d(t,{a9:function(){return s},v6:function(){return o},z3:function(){return i}});var a=n(68240),r=n(94183);let i=(0,a.LC)({reducerPath:"discountReferrerSlice",baseQuery:(0,r.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",prepareHeaders:e=>{let t=localStorage.getItem("token");return t&&e.set("authorization","Bearer ".concat(t)),e}}),tagTypes:["DiscountReferrer"],endpoints:e=>({getDiscountReferrers:e.query({query:()=>"/discountReferrer",transformResponse:e=>e.data,providesTags:["DiscountReferrer"]}),getDiscountReferrer:e.query({query:e=>"/discountReferrer/".concat(e),transformResponse:e=>e.data,providesTags:(e,t,n)=>[{type:"DiscountReferrer",id:n}]}),createDiscountReferrer:e.mutation({query:e=>({url:"/discountReferrer",method:"POST",body:e}),transformResponse:e=>e.data,invalidatesTags:["DiscountReferrer"]}),updateDiscountReferrer:e.mutation({query:e=>{let{id:t,data:n}=e;return{url:"/discountReferrer/".concat(t),method:"PATCH",body:n}},transformResponse:e=>e.data,invalidatesTags:(e,t,n)=>{let{id:a}=n;return[{type:"DiscountReferrer",id:a},"DiscountReferrer"]}}),deleteDiscountReferrer:e.mutation({query:e=>({url:"/discountReferrer/".concat(e),method:"DELETE"}),invalidatesTags:["DiscountReferrer"]})})}),{useGetDiscountReferrersQuery:o,useGetDiscountReferrerQuery:l,useCreateDiscountReferrerMutation:s,useUpdateDiscountReferrerMutation:d,useDeleteDiscountReferrerMutation:c}=i},28301:function(e,t,n){"use strict";let a;n.d(t,{At:function(){return p},F0:function(){return u},GO:function(){return m},cv:function(){return f},id:function(){return g},ox:function(){return v},pF:function(){return d},v1:function(){return y}});var r=n(79258),i=n(69192),o=n(28317);let l=new Intl.Collator;function s(){return a||(a=(0,o.MT)("doctor-frequency-store","doctor-frequency")),a}let d=(0,r.createAsyncThunk)("doctors/increaseDoctorFrequencies",async e=>(await Promise.resolve((0,o.Vx)(e,e=>(e||0)+1,s())).catch(),await (0,o.qh)(s()).catch(()=>[]))),c=(0,r.createSlice)({name:"doctors",initialState:{allDoctors:null,chamberedDoctors:null,adminDoctors:null,addedDoctors:[],paginatedAdminDoctors:null},reducers:{setAllDoctors:(e,t)=>{e.allDoctors=t.payload},setChamberedDoctors:(e,t)=>{e.chamberedDoctors=t.payload},setAdminDoctors:(e,t)=>{Array.isArray(t.payload)?e.adminDoctors=t.payload:e.adminDoctors?e.adminDoctors=[...e.adminDoctors,t.payload]:e.adminDoctors=t.payload},setPaginatedAdminDoctors:(e,t)=>{e.paginatedAdminDoctors=t.payload},setAddedDoctors:(e,t)=>{e.addedDoctors=[...e.addedDoctors,t.payload]},removeChamberedDoctor:(e,t)=>{e.addedDoctors=e.chamberedDoctors.filter(e=>e.Doctor.id!==t.payload)},removeAdminDoctor:(e,t)=>{var n,a;e.adminDoctors=null!==(a=null===(n=e.adminDoctors)||void 0===n?void 0:n.filter(e=>e.id!==t.payload))&&void 0!==a?a:null},removePaginatedAdminDoctor:(e,t)=>{var n,a;e.paginatedAdminDoctors=null!==(a=null===(n=e.paginatedAdminDoctors)||void 0===n?void 0:n.filter(e=>e.id!==t.payload))&&void 0!==a?a:null}},extraReducers:e=>{e.addCase(d.fulfilled,(e,t)=>{var n;let a=new Map(t.payload);null===(n=e.adminDoctors)||void 0===n||n.sort((e,t)=>{var n,r;return(null!==(n=a.get(t.id))&&void 0!==n?n:0)-(null!==(r=a.get(e.id))&&void 0!==r?r:0)||l.compare(e.name,t.name)})})}}),u=(0,i.createSelector)([e=>e.doctors,e=>{var t;return null===(t=e.auth.diagnostic)||void 0===t?void 0:t.showOnlyAdminDoctor}],(e,t)=>{let{adminDoctors:n,allDoctors:a,chamberedDoctors:r}=e,i=r?r.map(e=>e.Doctor):[],o=new Map;return[...n||[],...i&&!t?i:[],...a&&!t?a:[]].forEach(e=>{var t,n;let a=(null==e?void 0:null===(t=e.name)||void 0===t?void 0:t.trim())+(null==e?void 0:null===(n=e.designation)||void 0===n?void 0:n.trim());o.has(a)||o.set(a,e)}),Array.from(o.values())}),{setAllDoctors:m,setChamberedDoctors:h,setAdminDoctors:y,setAddedDoctors:x,removeChamberedDoctor:v,removeAdminDoctor:g,setPaginatedAdminDoctors:f,removePaginatedAdminDoctor:p}=c.actions;t.ZP=c.reducer},25499:function(e,t,n){"use strict";n.d(t,{C:function(){return i},T:function(){return r}});var a=n(53502);let r=()=>(0,a.I0)(),i=a.v9},75540:function(e,t,n){"use strict";n.d(t,{JC:function(){return o},K0:function(){return i},Nr:function(){return h},Uc:function(){return c},Vi:function(){return f},db:function(){return d},ey:function(){return s},fR:function(){return l},h2:function(){return u},hC:function(){return x},js:function(){return g},pL:function(){return y},s:function(){return m}});var a=n(78101);let r=a.g.injectEndpoints({endpoints:e=>({getPCs:e.query({query:e=>{let{page:t=1,limit:n=10,search:a=""}=e||{},r=new URLSearchParams;return r.append("page",t.toString()),r.append("limit",n.toString()),a&&r.append("search",a),{url:"/pc?".concat(r.toString())}},keepUnusedDataFor:60}),getPCsPaginated:e.query({query:e=>{let{page:t=1,limit:n=10,search:a=""}=e||{},r=new URLSearchParams;return r.append("page",t.toString()),r.append("limit",n.toString()),a&&r.append("search",a),{url:"/pc/paginated?".concat(r.toString())}},keepUnusedDataFor:60}),createPC:e.mutation({query:e=>({url:"/pc",method:"POST",body:e}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:r}=t;try{await r,n(a.g.util.invalidateTags(["PC"]))}catch(e){}}}),updatePC:e.mutation({query:e=>{let{id:t,name:n,percentage:a,fathersName:r,mobile:i,thana:o,address:l,district:s}=e;return{url:"/pc/".concat(t),method:"PATCH",body:{name:n,percentage:a,fathersName:r,mobile:i,thana:o,address:l,district:s}}},async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:r}=t;try{await r,n(a.g.util.invalidateTags(["PC"]))}catch(e){}}}),deletePC:e.mutation({query:e=>({url:"/pc/".concat(e),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:r}=t;try{await r,n(a.g.util.invalidateTags(["PC"]))}catch(e){}}}),getSinglePC:e.query({query:e=>({url:"/pc/".concat(e)})}),getSinglePCTests:e.query({query:e=>({url:"/pc/".concat(e,"/tests")})}),getPCCodeSettings:e.query({query:()=>({url:"/diagnostic/pc-code-settings"})}),updatePCCodeSettings:e.mutation({query:e=>({url:"/diagnostic/pc-code-settings",method:"PATCH",body:e}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:a}=t;try{let{data:e}=await a;n(r.util.updateQueryData("getPCCodeSettings",void 0,t=>{Object.assign(t.data,e.data)}))}catch(e){}}}),bulkCreatePCs:e.mutation({query:e=>({url:"/pc/bulk-create",method:"POST",body:e}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:r}=t;try{await r,n(a.g.util.invalidateTags(["PC"]))}catch(e){}}}),bulkAssignCodes:e.mutation({query:()=>({url:"/pc/bulk-assign-codes",method:"POST"}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:r}=t;try{await r,n(a.g.util.invalidateTags(["PC"]))}catch(e){}}}),previewSyncCodes:e.query({query:()=>({url:"/pc/sync-codes/preview"})}),syncCodes:e.mutation({query:()=>({url:"/pc/sync-codes",method:"POST"}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:r}=t;try{await r,n(a.g.util.invalidateTags(["PC"]))}catch(e){}}})})}),{useGetPCsQuery:i,useGetPCsPaginatedQuery:o,useCreatePCMutation:l,useUpdatePCMutation:s,useDeletePCMutation:d,useGetSinglePCQuery:c,useGetSinglePCTestsQuery:u,useGetPCCodeSettingsQuery:m,useUpdatePCCodeSettingsMutation:h,useBulkCreatePCsMutation:y,useBulkAssignCodesMutation:x,usePreviewSyncCodesQuery:v,useLazyPreviewSyncCodesQuery:g,useSyncCodesMutation:f}=r},49854:function(e,t,n){"use strict";let a;n.d(t,{d:function(){return d},x:function(){return s}});var r=n(72940),i=n(6780),o=n(67732),l=n(28317);function s(){return a||(a=(0,l.MT)("cached-responses-store","cached-responses")),a}async function d(e,t){try{let n=await i.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:t,...r.FD});return await (0,l.t8)(e,n.data,s()),n.data}catch(t){if(t instanceof o.d7&&[o.d7.ERR_NETWORK,o.d7.ETIMEDOUT].includes(t.code)){let t=await (0,l.U2)(e,s());if(t)return t}throw t instanceof o.d7&&t.response&&401===t.response.status||console.error(t),t}}},71:function(e){e.exports={sectionHeaderParent:"SectionHeader_sectionHeaderParent__oBL0i",sectionHeaderContainer:"SectionHeader_sectionHeaderContainer__6KnH7"}},7518:function(e){e.exports={paid:"CustomTable_paid__E18ph",refund:"CustomTable_refund__ajKT1",due:"CustomTable_due___zEjL",extra:"CustomTable_extra__iSZ0R",table:"CustomTable_table__5eJFP",table1:"CustomTable_table1__ekRZh"}},14702:function(e){e.exports={input:"DatePickerField_input__Gn9FX"}}},function(e){e.O(0,[1601,2975,3313,9826,4404,3439,7281,7852,3069,6945,3852,1656,9722,4670,9258,9533,966,12,7538,1166,7967,6029,154,7698,7186,4890,9916,9175,7402,1744],function(){return e(e.s=91737)}),_N_E=e.O()}]);