(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5701],{14794:function(e,t,s){Promise.resolve().then(s.bind(s,67352))},67352:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return el}});var a=s(68328),r=s(34473),i=s(41224),n=s(90660),o=s.n(n),l=s(4505),d=s(25499),c=s(72940),u=s(6780),m=s(67732);let h=async e=>{try{let t=await u.default.post("".concat("http://sasthotech.local:5000/api/v1","/admin/labAssistant"),e,{...c.FD,...c.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof m.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}},p=async()=>{try{let e=await u.default.get("".concat("http://sasthotech.local:5000/api/v1","/admin/labAssistant"),c.FD);return{success:!0,data:e.data.data}}catch(t){if(t instanceof m.d7){var e;return{success:!1,data:null===(e=t.response)||void 0===e?void 0:e.data.message}}return{success:!1,data:"An error occurred"}}};var g=s(16201),f=s(89043),x=s(22614),v=s(32451),y=s(58812),j=s(53729),C=s(11114),w=s(68242),b=s(22041),z=s(55911),A=s(76029),S=s(3741),k=s(62811),T=s(69861),B=s(86083),Z=s(50430);let G=e=>{let{count:t,query:s,onQueryChange:r,onRefresh:i,refreshLoading:n}=e;return(0,a.jsxs)(f.X,{p:"xl",radius:"lg",withBorder:!0,bg:"var(--mantine-color-body)",children:[(0,a.jsxs)(x.Group,{justify:"space-between",align:"flex-end",children:[(0,a.jsxs)(v.Box,{children:[(0,a.jsxs)(x.Group,{align:"center",gap:"sm",mb:"xs",children:[(0,a.jsx)(y.k,{size:42,radius:"md",variant:"gradient",gradient:{from:"cyan",to:"blue",deg:45},children:(0,a.jsx)(k.Z,{style:{width:(0,j.h)(24),height:(0,j.h)(24)},stroke:1.5})}),(0,a.jsx)(C.C,{variant:"gradient",gradient:{from:"cyan",to:"blue"},size:"lg",radius:"sm",children:"Diagnostic Access"})]}),(0,a.jsx)(w.Title,{order:1,fw:900,style:{fontSize:(0,j.h)(32),letterSpacing:-1},children:"Pathologist Management"}),(0,a.jsx)(b.Text,{c:"dimmed",size:"lg",mt:4,maw:600,children:"Manage lab assistants and pathologists, assign test categories and inventory access."})]}),(0,a.jsx)(x.Group,{align:"flex-end",gap:"md",children:(0,a.jsxs)(v.Box,{children:[(0,a.jsx)(b.Text,{size:"xs",fw:700,c:"dimmed",mb:4,tt:"uppercase",children:"Total Staff"}),(0,a.jsxs)(C.C,{size:"xl",variant:"light",color:"cyan",radius:"md",leftSection:(0,a.jsx)(T.Z,{size:16}),styles:{root:{height:42}},children:[t," Pathologist",1!==t?"s":""]})]})})]}),(0,a.jsxs)(x.Group,{mt:"xl",justify:"space-between",children:[(0,a.jsx)(z.TextInput,{placeholder:"Search by email...",leftSection:(0,a.jsx)(B.Z,{size:16,stroke:1.5}),value:s,onChange:e=>r(e.currentTarget.value),size:"md",radius:"md",style:{width:320}}),(0,a.jsx)(A.u,{label:"Refresh list",withArrow:!0,children:(0,a.jsx)(S.A,{size:42,variant:"default",radius:"md",onClick:i,loading:n,children:(0,a.jsx)(Z.Z,{size:20,stroke:1.5})})})]})]})};var D=s(48604),I=s(13822),P=s(49905),E=s(13367),L=s(31204),F=s(34499),M=s(58895),R=s(8372),O=s(47720);let Y=e=>{let{loading:t,onSubmit:s}=e,r=(0,O.c)({initialValues:{email:"",password:""},validate:{email:e=>/^(([^<>()\[\]\\.,;:\s@\"]+(\.[^<>()\[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)?null:"Invalid email",password:e=>e.length<6?"Password must be at least 6 characters":null}});return(0,a.jsxs)(D.Z,{shadow:"sm",padding:"xl",radius:"lg",withBorder:!0,children:[(0,a.jsx)(I.f,{visible:t,zIndex:10,overlayProps:{radius:"lg",blur:2}}),(0,a.jsxs)(x.Group,{align:"center",gap:"sm",mb:"lg",children:[(0,a.jsx)(y.k,{size:"lg",radius:"md",variant:"light",color:"cyan",style:{width:(0,j.h)(32),height:(0,j.h)(32)},children:(0,a.jsx)(F.Z,{style:{width:(0,j.h)(18),height:(0,j.h)(18)},stroke:2})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(w.Title,{order:4,fw:700,children:"Add New Pathologist"}),(0,a.jsx)(b.Text,{size:"xs",c:"dimmed",children:"Create a new account for lab access"})]})]}),(0,a.jsx)("form",{onSubmit:r.onSubmit(e=>{s(e),r.reset()}),children:(0,a.jsxs)(P.M,{cols:{base:1,sm:1,md:3},spacing:"md",verticalSpacing:"md",children:[(0,a.jsx)(z.TextInput,{name:"email",size:"md",variant:"filled",radius:"md",label:"Email Address",placeholder:"pathologist@example.com",leftSection:(0,a.jsx)(M.Z,{size:16,stroke:1.5}),...r.getInputProps("email")}),(0,a.jsx)(E.W,{size:"md",variant:"filled",radius:"md",name:"password",label:"Password",placeholder:"Minimum 6 characters",leftSection:(0,a.jsx)(R.Z,{size:16,stroke:1.5}),...r.getInputProps("password")}),(0,a.jsx)("div",{style:{display:"flex",alignItems:"flex-end",width:"100%"},children:(0,a.jsx)(L.Button,{type:"submit",size:"md",radius:"md",fullWidth:!0,variant:"gradient",gradient:{from:"cyan",to:"blue",deg:45},leftSection:(0,a.jsx)(F.Z,{size:18,stroke:1.5}),children:"Create Account"})})]})})]})};var q=s(83501);let N=async e=>{try{let t=await u.default.delete("".concat("http://sasthotech.local:5000/api/v1","/admin/labAssistant/").concat(e),c.FD);return{success:!0,data:t.data.data}}catch(e){if(e instanceof m.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}},U=async e=>{try{let t=await u.default.post("".concat("http://sasthotech.local:5000/api/v1","/admin/labAssistant/setCategory"),e,{...c.FD,...c.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof m.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}},_=async e=>{try{let t=await u.default.post("".concat("http://sasthotech.local:5000/api/v1","/admin/labAssistant/setInventoryStores"),e,{...c.FD,...c.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof m.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}};var H=s(25626),W=s(40794),X=s(97428),K=s(77303),V=s(67961),Q=s(2025),$=s(91166),J=s(44176),ee=s(91006),et=s(93589),es=s(12697),ea=s(59406),er=s(37947);function ei(e){let{user:t}=e,s=(0,d.T)(),[r,n]=(0,l.useState)(!1),[c,u]=(0,l.useState)(t.inventoryStores||[]),[m,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{(async()=>{let{success:e,data:t}=await (0,q.Y)();e&&s((0,H.Z2)(t))})()},[s]);let f=async e=>{h(!0);try{let{success:t,data:a}=await _({userId:e,storeIds:c});if(t){o().fire({title:"Updated!",text:"Inventory access has been updated successfully.",icon:"success",confirmButtonColor:"#12b886",timer:2e3});let{success:e,data:t}=await p();e&&s((0,g.GU)(null==t?void 0:t.items))}else o().fire("Error",a||"Failed to update inventory access","error")}catch(e){o().fire("Error","An error occurred","error")}finally{h(!1)}},j=t.email.split("@")[0].split(/[._-]/).map(e=>e[0]).join("").toUpperCase().slice(0,2);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("style",{children:"\n          @keyframes slideIn {\n            from {\n              opacity: 0;\n              transform: translateY(10px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          \n          .lab-assistant-card {\n            animation: slideIn 0.3s ease-out;\n          }\n        "}),(0,a.jsx)(D.Z,{className:"lab-assistant-card",shadow:r?"xl":"md",radius:"lg",p:"xl",style:{border:"1px solid #e9ecef",background:"linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%)",transition:"all 0.3s ease",transform:r?"translateY(-2px)":"translateY(0)"},onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:(0,a.jsxs)(i.Stack,{gap:"lg",children:[(0,a.jsxs)(x.Group,{justify:"space-between",wrap:"nowrap",children:[(0,a.jsxs)(x.Group,{gap:"md",children:[(0,a.jsx)(X.q,{size:"lg",radius:"xl",variant:"gradient",gradient:{from:"blue",to:"cyan",deg:135},style:{boxShadow:"0 4px 12px rgba(0, 123, 255, 0.15)"},children:(0,a.jsx)(b.Text,{size:"lg",fw:700,c:"white",children:j})}),(0,a.jsxs)(v.Box,{children:[(0,a.jsxs)(x.Group,{gap:"xs",mb:4,children:[(0,a.jsx)(b.Text,{size:"lg",fw:600,c:"#212529",children:t.name||"Lab Assistant"}),(0,a.jsx)(C.C,{variant:"light",color:"blue",size:"sm",leftSection:(0,a.jsx)(y.k,{size:"xs",color:"blue",variant:"transparent",children:(0,a.jsx)(k.Z,{size:12})}),children:"Lab Assistant"})]}),(0,a.jsxs)(x.Group,{gap:"xs",children:[(0,a.jsx)(M.Z,{size:14,color:"#868e96"}),(0,a.jsx)(b.Text,{size:"sm",c:"dimmed",children:t.email})]})]})]}),(0,a.jsx)(S.A,{variant:"subtle",color:"red",size:"lg",radius:"md",onClick:()=>{o().fire({title:"Remove Lab Assistant?",html:'\n        <div style="text-align: left; padding: 1rem;">\n          <p style="color: #868e96; margin-bottom: 0.5rem;">You are about to remove:</p>\n          <p style="font-weight: 600; color: #212529; margin-bottom: 1rem;">'.concat(t.email,'</p>\n          <p style="color: #fa5252; font-size: 0.9rem;">This action cannot be undone!</p>\n        </div>\n      '),icon:"warning",showCancelButton:!0,confirmButtonColor:"#fa5252",cancelButtonColor:"#868e96",confirmButtonText:'<i class="fas fa-trash"></i> Yes, Remove',cancelButtonText:"Cancel",focusCancel:!0,customClass:{popup:"swal-modern-popup",confirmButton:"swal-modern-confirm",cancelButton:"swal-modern-cancel"}}).then(e=>{let{isConfirmed:a}=e;a&&N(t.id).then(e=>{let{success:a,data:r}=e;a?(s((0,g.iw)(t.id)),o().fire({title:"Removed!",text:"Lab assistant has been removed successfully.",icon:"success",confirmButtonColor:"#12b886"})):o().fire("Error",r,"error")})})},style:{transition:"all 0.2s ease"},styles:{root:{"&:hover":{backgroundColor:"#ffe3e3",transform:"scale(1.1)"}}},children:(0,a.jsx)(es.Z,{size:20})})]}),(0,a.jsx)(K.Divider,{}),(0,a.jsxs)(v.Box,{children:[(0,a.jsxs)(x.Group,{gap:"xs",mb:"sm",children:[(0,a.jsx)(y.k,{size:"sm",variant:"light",color:"violet",radius:"md",children:(0,a.jsx)(k.Z,{size:14})}),(0,a.jsx)(b.Text,{size:"sm",fw:600,c:"#495057",children:"Test Categories Access"})]}),(0,a.jsx)(en,{userId:t.id,categories:t.userTestCategory})]}),(0,a.jsx)(v.Box,{children:(0,a.jsx)(W.d,{userId:t.id,userEmail:t.email,selectedStores:c,onStoresChange:u,onSave:f,saving:m})})]})})]})}function en(e){var t;let{userId:s,categories:r}=e,n=(0,d.T)(),c=(0,d.C)(e=>e.tests.adminCategories),u=(0,V.K)({onDropdownClose:()=>u.resetSelectedOption(),onDropdownOpen:()=>u.updateSelectedOptionIndex("active")}),m=(0,et.P)(),[h,p]=(0,l.useState)(!1),[j,w]=(0,l.useState)(""),[z,A]=(0,l.useState)(null!==(t=null==r?void 0:r.map(e=>e+""))&&void 0!==t?t:[]),S=e=>A(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]),T=e=>A(t=>t.filter(t=>t!==e)),B=z.map(e=>{var t;return(0,a.jsx)(Q.D,{withRemoveButton:!0,onRemove:()=>T(e),size:"md",radius:"md",style:{backgroundColor:"#e7f5ff",color:"#1971c2",border:"1px solid #a5d8ff"},children:null==c?void 0:null===(t=c.find(t=>t.id===e))||void 0===t?void 0:t.name},e)}),Z=null==c?void 0:c.filter(e=>e.name.toLowerCase().includes(j.trim().toLowerCase())).map(e=>(0,a.jsx)($.h.Option,{value:e.id+"",active:z.includes(e.id+""),style:{borderRadius:"6px",margin:"2px 0"},children:(0,a.jsxs)(x.Group,{gap:"sm",children:[z.includes(e.id+"")?(0,a.jsx)(y.k,{size:"xs",variant:"filled",color:"blue",radius:"xl",children:(0,a.jsx)(ea.Z,{size:12})}):(0,a.jsx)(v.Box,{style:{width:16,height:16,border:"2px solid #ced4da",borderRadius:"50%"}}),(0,a.jsx)(b.Text,{size:"sm",children:e.name})]})},e.id)),G=async()=>{if("loading"===h)return;if(!h)return p(!0);p("loading");let e=z.map(e=>e.toString()),{success:t,data:a}=await U({userId:s,categoryIds:e});t?(n((0,g.tG)({userId:s,categoryIds:e})),o().fire({title:"Updated!",text:"Test categories have been updated successfully.",icon:"success",confirmButtonColor:"#12b886",timer:2e3})):o().fire("Error",a,"error"),p(!1)};return(0,a.jsxs)(i.Stack,{gap:"sm",children:[(0,a.jsx)(J.u,{mounted:!h,transition:"fade",duration:200,children:e=>(0,a.jsx)(f.X,{p:"md",radius:"md",style:{...e,backgroundColor:"#f8f9fa",border:"1px solid #e9ecef",cursor:"pointer",transition:"all 0.2s ease"},onClick:()=>p(!0),styles:{root:{"&:hover":{backgroundColor:"#e9ecef",borderColor:"#dee2e6"}}},children:(null==z?void 0:z.length)?(0,a.jsx)(Q.D.Group,{children:null==z?void 0:z.map(e=>{var t;return(0,a.jsx)(Q.D,{size:"md",radius:"md",style:{backgroundColor:"#d0ebff",color:"#1971c2"},children:null==c?void 0:null===(t=c.find(t=>t.id===e))||void 0===t?void 0:t.name},e)})}):(0,a.jsxs)(x.Group,{gap:"xs",children:[(0,a.jsx)(y.k,{size:"sm",variant:"light",color:"gray",radius:"md",children:(0,a.jsx)(k.Z,{size:14})}),(0,a.jsx)(b.Text,{size:"sm",c:"dimmed",fs:"italic",children:"No test categories assigned yet. Click to add."})]})})}),(0,a.jsx)(J.u,{mounted:!!h,transition:"slide-down",duration:200,children:e=>(0,a.jsxs)(v.Box,{style:e,children:[(0,a.jsxs)($.h,{store:u,onOptionSubmit:S,children:[(0,a.jsx)($.h.DropdownTarget,{children:(0,a.jsx)(ee.d,{label:(0,a.jsxs)(x.Group,{gap:"xs",mb:"xs",children:[(0,a.jsx)(b.Text,{size:"sm",fw:500,children:"Select Test Categories"}),(0,a.jsxs)(C.C,{size:"xs",variant:"light",color:"blue",children:[z.length," selected"]})]}),onClick:()=>u.openDropdown(),ref:m,size:"md",radius:"md",style:{backgroundColor:"white"},children:(0,a.jsxs)(Q.D.Group,{children:[B,(0,a.jsx)($.h.EventsTarget,{children:(0,a.jsx)(ee.d.Field,{onFocus:()=>u.openDropdown(),onBlur:()=>u.closeDropdown(),value:j,placeholder:"Search categories...",onChange:e=>{u.updateSelectedOptionIndex(),w(e.currentTarget.value)},onKeyDown:e=>{"Backspace"===e.key&&0===j.length&&(e.preventDefault(),T(z[z.length-1]))}})})]})})}),(0,a.jsx)($.h.Dropdown,{children:(0,a.jsx)($.h.Options,{children:(null==Z?void 0:Z.length)?Z:(0,a.jsx)($.h.Empty,{children:(0,a.jsxs)(x.Group,{gap:"xs",justify:"center",py:"md",children:[(0,a.jsx)(y.k,{size:"lg",variant:"light",color:"gray",radius:"xl",children:(0,a.jsx)(k.Z,{size:20})}),(0,a.jsx)(b.Text,{size:"sm",c:"dimmed",children:"No categories found"})]})})})})]}),(0,a.jsxs)(x.Group,{gap:"xs",mt:"md",children:[(0,a.jsx)(L.Button,{onClick:G,leftSection:(0,a.jsx)(ea.Z,{size:16}),loading:"loading"===h,variant:"gradient",gradient:{from:"blue",to:"cyan",deg:135},radius:"md",flex:1,children:"loading"===h?"Saving...":"Save Changes"}),(0,a.jsx)(L.Button,{onClick:()=>{var e;A(null!==(e=null==r?void 0:r.map(e=>e+""))&&void 0!==e?e:[]),p(!1),w("")},leftSection:(0,a.jsx)(er.Z,{size:16}),variant:"light",color:"gray",radius:"md",disabled:"loading"===h,children:"Cancel"})]})]})})]})}let eo=e=>{let{pathologists:t,isLoading:s}=e;return 0!==t.length||s?(0,a.jsxs)(v.Box,{pos:"relative",children:[(0,a.jsx)(I.f,{visible:s,zIndex:10,overlayProps:{radius:"lg",blur:2}}),(0,a.jsxs)(P.M,{cols:{base:1,md:1},spacing:"lg",children:[" ",t.map((e,t)=>(0,a.jsx)(ei,{user:e},t))]})]}):(0,a.jsx)(f.X,{p:"xl",radius:"md",style:{textAlign:"center"},withBorder:!0,children:(0,a.jsx)(b.Text,{c:"dimmed",size:"md",children:"No pathologists found. Use the form above to add one."})})};var el=()=>{let e=(0,d.T)(),t=(0,d.C)(e=>e.diagnostic.pathologist),[s,n]=(0,l.useState)(!0),[c,u]=(0,l.useState)(!1),[m,f]=(0,l.useState)(""),x=async()=>{n(!0);try{let{success:t,data:s}=await p();t&&e((0,g.GU)((null==s?void 0:s.items)||[]))}finally{n(!1)}};(0,l.useEffect)(()=>{x()},[]);let v=async t=>{u(!0);try{let{success:s,data:a}=await h(t);s?(e((0,g.GU)(a)),o().fire({title:"Success",text:"Pathologist Added",icon:"success",timer:1500,showConfirmButton:!1})):o().fire("Error",a,"error")}catch(e){o().fire("Error","An error occurred","error")}finally{u(!1)}},y=(0,l.useMemo)(()=>t?m.trim()?t.filter(e=>{var t,s;return(null===(t=e.email)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase()))||(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(m.toLowerCase()))}):t:[],[t,m]);return(0,a.jsx)(r.Container,{fluid:!0,p:"lg",children:(0,a.jsxs)(i.Stack,{gap:"xl",children:[(0,a.jsx)(G,{count:(null==t?void 0:t.length)||0,query:m,onQueryChange:f,onRefresh:x,refreshLoading:s}),(0,a.jsx)(Y,{loading:c,onSubmit:v}),(0,a.jsx)(eo,{pathologists:y,isLoading:s})]})})}},83501:function(e,t,s){"use strict";s.d(t,{Y:function(){return i}});var a=s(49854),r=s(67732);let i=async()=>{try{let e=await (0,a.d)("testCategory/admin");return{success:!0,data:e.data}}catch(t){if(t instanceof r.d7){var e;return{success:!1,data:null===(e=t.response)||void 0===e?void 0:e.data.message}}return{success:!1,data:"An error occurred"}}}},16201:function(e,t,s){"use strict";s.d(t,{C4:function(){return i},GU:function(){return l},WH:function(){return c},Yr:function(){return n},ZR:function(){return d},iw:function(){return u},kd:function(){return o},sI:function(){return r},tG:function(){return m}});let a=(0,s(79258).createSlice)({name:"diagnostic",initialState:{receptionist:[],diagnostics:[],pathologist:[],marketer:[]},reducers:{setReceptionist:(e,t)=>{Array.isArray(t.payload)?e.receptionist=t.payload:e.receptionist=[...e.receptionist,t.payload]},removeReceptionist:(e,t)=>{e.receptionist=e.receptionist.filter(e=>e.id!==t.payload)},setPathologist:(e,t)=>{Array.isArray(t.payload)?e.pathologist=t.payload:e.pathologist=[...e.pathologist,t.payload]},setMarketer:(e,t)=>{Array.isArray(t.payload)?e.marketer=t.payload:e.marketer=[...e.marketer,t.payload]},removeMarketer:(e,t)=>{e.marketer=e.marketer.filter(e=>e.id!==t.payload)},removePathologist:(e,t)=>{e.pathologist=e.pathologist.filter(e=>e.id!==t.payload)},setPathologistCategory:(e,t)=>{let{payload:{userId:s,categoryIds:a}}=t,r=e.pathologist.find(e=>e.id!==s);r&&(r.userTestCategory=a)},setDiagnosticList:(e,t)=>{Array.isArray(t.payload)?e.diagnostics=t.payload:e.diagnostics=[...e.diagnostics,t.payload]},removeFromDiagnosticLists:(e,t)=>{e.diagnostics=e.diagnostics.filter(e=>e.id!==t.payload)}}}),{setReceptionist:r,removeReceptionist:i,setDiagnosticList:n,removeFromDiagnosticLists:o,setPathologist:l,setMarketer:d,removeMarketer:c,removePathologist:u,setPathologistCategory:m}=a.actions;t.ZP=a.reducer},25626:function(e,t,s){"use strict";let a;s.d(t,{H3:function(){return c},Z2:function(){return m},Zw:function(){return v},_W:function(){return d},gu:function(){return p},lF:function(){return g},mC:function(){return x},s9:function(){return h},se:function(){return f}});var r=s(79258),i=s(69192),n=s(28317);function o(){return a||(a=(0,n.MT)("test-frequency-store","test-frequency")),a}let l=new Intl.Collator,d=(0,r.createAsyncThunk)("tests/setAdminTests",async e=>{let t=await (0,n.qh)().catch(()=>[]);return t.length?(await (0,n.vw)(t,o()),(0,n.ZH)()):t=await (0,n.qh)(o()).catch(()=>[]),[e,t]}),c=(0,r.createAsyncThunk)("tests/increaseTestFrequencies",async e=>(await Promise.all(e.map(e=>(0,n.Vx)(e.id,e=>(e||0)+1),o())).catch(),await (0,n.qh)(o()).catch(()=>[]))),u=(0,r.createSlice)({name:"tests",initialState:{adminCategories:[],adminTests:null,superAdminCategories:[]},reducers:{setAdminCategories:(e,t)=>{e.adminCategories=t.payload},removeAdminCategories:(e,t)=>{var s;e.adminCategories=null===(s=e.adminCategories)||void 0===s?void 0:s.filter(e=>e.id!==t.payload.id)},updateTestsInAdminCategories:(e,t)=>{var s;let a=t.payload;console.log(a),e.adminCategories=null===(s=e.adminCategories)||void 0===s?void 0:s.map(e=>({...e,tests:e.tests.map(e=>a.find(t=>t.id===e.id)||e)}))},removeTestFromAdminCategories:(e,t)=>{var s;e.adminCategories=null===(s=e.adminCategories)||void 0===s?void 0:s.map(e=>({...e,tests:e.tests.filter(e=>e.id!==t.payload.id)}))},removeTestFromSuperAdminCategories:(e,t)=>{var s;e.superAdminCategories=null===(s=e.superAdminCategories)||void 0===s?void 0:s.map(e=>({...e,tests:e.tests.filter(e=>e.id!==t.payload.id)}))},setSuperAdminCategories:(e,t)=>{e.superAdminCategories=t.payload},removeSuperAdminCategories:(e,t)=>{var s;e.superAdminCategories=null===(s=e.superAdminCategories)||void 0===s?void 0:s.filter(e=>e.id!==t.payload.id)}},extraReducers:e=>{e.addCase(d.fulfilled,(e,t)=>{let s=t.payload[0],a=new Map(t.payload[1]);if(Array.isArray(s))e.adminTests=[...s];else{if(e.adminTests){let t=e.adminTests.findIndex(e=>e.id===s.id);t>=0?e.adminTests[t]=s:e.adminTests.push(s)}else e.adminTests=[s];if(e.adminCategories){for(let t=0;t<e.adminCategories.length;t++)for(let a=0;a<e.adminCategories[t].tests.length;a++)if(s.id===e.adminCategories[t].tests[a].id){e.adminCategories[t].tests[a]=s;break}}}e.adminTests.sort((e,t)=>{var s,r;return(null!==(s=a.get(t.id))&&void 0!==s?s:0)-(null!==(r=a.get(e.id))&&void 0!==r?r:0)||l.compare(e.name,t.name)})}),e.addCase(c.fulfilled,(e,t)=>{var s;let a=new Map(t.payload);null===(s=e.adminTests)||void 0===s||s.sort((e,t)=>{var s,r;return(null!==(s=a.get(t.id))&&void 0!==s?s:0)-(null!==(r=a.get(e.id))&&void 0!==r?r:0)||l.compare(e.name,t.name)})})}});(0,i.createSelector)([e=>e.tests.adminCategories],e=>new Map(null==e?void 0:e.map(e=>[+e.id,e])));let{setAdminCategories:m,removeAdminCategories:h,setSuperAdminCategories:p,removeSuperAdminCategories:g,removeTestFromAdminCategories:f,removeTestFromSuperAdminCategories:x,updateTestsInAdminCategories:v}=u.actions;t.ZP=u.reducer}},function(e){e.O(0,[1601,2975,3069,6945,3852,1656,9722,4670,9258,9533,966,1166,6029,9645,4347,6121,2481,794,9175,7402,1744],function(){return e(e.s=14794)}),_N_E=e.O()}]);