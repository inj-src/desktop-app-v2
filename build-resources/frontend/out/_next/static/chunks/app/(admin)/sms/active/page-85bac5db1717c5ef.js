(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3079],{84777:function(e,s,t){Promise.resolve().then(t.bind(t,20234)),Promise.resolve().then(t.bind(t,31204)),Promise.resolve().then(t.bind(t,22041)),Promise.resolve().then(t.bind(t,76889)),Promise.resolve().then(t.bind(t,77052)),Promise.resolve().then(t.bind(t,60331)),Promise.resolve().then(t.t.bind(t,40154,23)),Promise.resolve().then(t.t.bind(t,14686,23)),Promise.resolve().then(t.t.bind(t,71,23)),Promise.resolve().then(t.bind(t,75690)),Promise.resolve().then(t.t.bind(t,14702,23))},75690:function(e,s,t){"use strict";t.r(s);var n=t(68328),r=t(19290),i=t(49905),a=t(25621),o=t(48604),d=t(58812),l=t(22041),c=t(22614),u=t(11114),m=t(34022),p=t(77303),h=t(41224),x=t(43495),g=t(54481),f=t(67781),v=t(92671),y=t(58211),j=t(59406),b=t(4505),S=t(33908),T=t.n(S);s.default=()=>{let[e,s]=(0,b.useState)([]),{data:t,isFetching:S,isLoading:w}=(0,r.pA)(void 0);(0,b.useEffect)(()=>{s(t)},[t]);let z=e=>{switch(e.toLowerCase()){case"active":return"green";case"expired":return"red";case"pending":return"yellow";case"suspended":return"orange";default:return"gray"}},k=(e,s)=>0===e?0:(e-s)/e*100,D=e=>{let s=T()(e).diff(T()(),"day");return s<=7&&s>=0},A=e=>T()(e).isBefore(T()());return S||w?(0,n.jsx)("div",{style:{padding:"2rem"},children:(0,n.jsx)(i.M,{cols:{base:1,sm:2,lg:3},spacing:"md",children:Array.from({length:6}).map((e,s)=>(0,n.jsx)(a.O,{height:300,radius:"md"},s))})}):e&&0!==e.length?(0,n.jsx)("div",{style:{padding:"2rem",backgroundColor:"#f4f4f4",minHeight:"100vh"},children:(0,n.jsx)(i.M,{cols:{base:1,sm:2,lg:3},spacing:"md",children:null==e?void 0:e.map(e=>{let s=k(e.totalSMS,e.remainingSMS),t=D(e.expiryDate),r=A(e.expiryDate);return(0,n.jsxs)(o.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,style:{backgroundColor:"#fff",height:"100%",position:"relative",border:t?"2px solid #ffd43b":r?"2px solid #fa5252":void 0},children:[(0,n.jsxs)(c.Group,{justify:"space-between",mb:"md",children:[(0,n.jsx)(u.C,{color:z(e.status),variant:"filled",size:"sm",children:e.status.toUpperCase()}),t&&(0,n.jsx)(u.C,{color:"yellow",variant:"light",size:"sm",children:"Expiring Soon"}),r&&(0,n.jsx)(u.C,{color:"red",variant:"light",size:"sm",children:"Expired"})]}),(0,n.jsxs)(c.Group,{mb:"md",children:[(0,n.jsx)(d.k,{size:40,radius:"md",variant:"light",color:"blue",children:(0,n.jsx)(g.Z,{size:20})}),(0,n.jsx)("div",{style:{flex:1},children:(0,n.jsx)(l.Text,{size:"lg",fw:600,c:"#2c2e33",lineClamp:1,children:e.name})})]}),(0,n.jsxs)("div",{style:{marginBottom:"2rem",marginTop:"1rem"},children:[(0,n.jsxs)(c.Group,{justify:"space-between",mb:"xs",children:[(0,n.jsx)(l.Text,{size:"sm",c:"#63707A",children:"SMS Usage"}),(0,n.jsxs)(l.Text,{size:"sm",fw:600,children:[e.remainingSMS.toLocaleString()," / ",e.totalSMS.toLocaleString()]})]}),(0,n.jsx)(m.E,{value:s,color:s>80?"red":s>60?"yellow":"green",size:"sm",radius:"xl"}),(0,n.jsxs)(l.Text,{size:"xs",c:"#63707A",mt:4,children:[(100-s).toFixed(1),"% remaining"]})]}),(0,n.jsx)(p.Divider,{mb:"md"}),(0,n.jsxs)(h.Stack,{gap:"sm",mb:"md",children:[(0,n.jsxs)(c.Group,{children:[(0,n.jsx)(d.k,{size:20,color:"green",variant:"light",children:(0,n.jsx)(f.Z,{size:12})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Text,{size:"xs",c:"#63707A",children:"Purchase Date"}),(0,n.jsx)(l.Text,{size:"sm",fw:500,children:T()(e.purchaseDate).format("MMM DD, YYYY")})]})]}),(0,n.jsxs)(c.Group,{children:[(0,n.jsx)(d.k,{size:20,color:r?"red":t?"yellow":"blue",variant:"light",children:(0,n.jsx)(v.Z,{size:12})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Text,{size:"xs",c:"#63707A",children:"Expiry Date"}),(0,n.jsx)(l.Text,{size:"sm",fw:500,c:r?"red":t?"orange":void 0,children:T()(e.expiryDate).format("MMM DD, YYYY")})]})]}),(0,n.jsxs)(c.Group,{children:[(0,n.jsx)(d.k,{size:20,color:"teal",variant:"light",children:(0,n.jsx)(y.Z,{size:12})}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.Text,{size:"xs",c:"#63707A",children:"Package Price"}),(0,n.jsxs)(l.Text,{size:"sm",fw:500,children:["à§³",e.price.toLocaleString()]})]})]})]}),e.features&&e.features.length>0&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Divider,{mb:"sm"}),(0,n.jsx)(l.Text,{size:"xs",c:"#63707A",mb:"xs",tt:"uppercase",fw:700,children:"Features"}),(0,n.jsxs)(x.a,{spacing:"xs",size:"sm",center:!0,icon:(0,n.jsx)(d.k,{color:"teal",size:16,radius:"xl",children:(0,n.jsx)(j.Z,{size:10})}),children:[e.features.slice(0,3).map((e,s)=>(0,n.jsx)(x.a.Item,{children:(0,n.jsx)(l.Text,{size:"xs",c:"#63707A",lineClamp:1,children:e})},s)),e.features.length>3&&(0,n.jsxs)(l.Text,{size:"xs",c:"#63707A",mt:"xs",children:["+",e.features.length-3," more features"]})]})]})]},e.id)})})}):(0,n.jsx)("div",{style:{padding:"2rem",backgroundColor:"#f4f4f4",minHeight:"50vh"},children:(0,n.jsxs)(o.Z,{shadow:"sm",padding:"xl",radius:"md",withBorder:!0,style:{backgroundColor:"#fff",textAlign:"center",maxWidth:500,margin:"0 auto"},children:[(0,n.jsx)(d.k,{size:80,radius:"xl",variant:"light",color:"gray",style:{margin:"0 auto 1rem"},children:(0,n.jsx)(g.Z,{size:40})}),(0,n.jsx)(l.Text,{size:"lg",fw:600,c:"#2c2e33",mb:"sm",children:"No Active SMS Packages"}),(0,n.jsx)(l.Text,{size:"sm",c:"#63707A",children:"You don't have any active SMS packages at the moment."})]})})}},72940:function(e,s,t){"use strict";t.d(s,{FD:function(){return r},Hn:function(){return n},y4:function(){return i}});let n={headers:{"Content-Type":"application/json"}},r={withCredentials:!0},i={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},19290:function(e,s,t){"use strict";t.d(s,{Fr:function(){return n},U_:function(){return r},mg:function(){return o},pA:function(){return i},u7:function(){return d},xk:function(){return a}});let{useGetAllAdminPackageQuery:n,useBuySMSPackageMutation:r,useGetAllActiveSMSPackageQuery:i,useGetSMSDashboardQuery:a,useGetSMSMessagesQuery:o,useGetSMSAnalyticsQuery:d,useGetSMSStatusQuery:l}=t(78101).g.injectEndpoints({endpoints:e=>({getAllAdminPackage:e.query({query:()=>({url:"/sms/package/admin/available-packages",method:"GET"}),transformResponse:e=>(null==e?void 0:e.data)||e,providesTags:["sms"]}),getAllActiveSMSPackage:e.query({query:()=>({url:"/sms/package/admin/active-packages",method:"GET"}),transformResponse:e=>(null==e?void 0:e.data)||e,providesTags:["sms"]}),buySMSPackage:e.mutation({query:e=>{let{id:s,transactionId:t,transactionReference:n}=e;return{url:"/sms/package/admin/buy-package/".concat(s),method:"POST",body:{transactionId:t,transactionReference:n}}},invalidatesTags:["sms"]}),getSMSDashboard:e.query({query:e=>{let s=new URLSearchParams;(null==e?void 0:e.period)&&s.append("period",e.period),(null==e?void 0:e.startDate)&&s.append("startDate",e.startDate),(null==e?void 0:e.endDate)&&s.append("endDate",e.endDate);let t=s.toString();return{url:"/sms/dashboard".concat(t?"?".concat(t):""),method:"GET"}},transformResponse:e=>null==e?void 0:e.data,providesTags:["sms-dashboard"]}),getSMSMessages:e.query({query:e=>{let s=new URLSearchParams;(null==e?void 0:e.page)&&s.append("page",e.page.toString()),(null==e?void 0:e.limit)&&s.append("limit",e.limit.toString()),(null==e?void 0:e.status)&&s.append("status",e.status),(null==e?void 0:e.type)&&s.append("type",e.type),(null==e?void 0:e.phone)&&s.append("phone",e.phone),(null==e?void 0:e.startDate)&&s.append("startDate",e.startDate),(null==e?void 0:e.endDate)&&s.append("endDate",e.endDate);let t=s.toString();return{url:"/sms/dashboard/messages".concat(t?"?".concat(t):""),method:"GET"}},transformResponse:e=>null==e?void 0:e.data,providesTags:["sms-messages"]}),getSMSAnalytics:e.query({query:e=>{let s=new URLSearchParams;(null==e?void 0:e.days)&&s.append("days",e.days.toString());let t=s.toString();return{url:"/sms/dashboard/analytics".concat(t?"?".concat(t):""),method:"GET"}},transformResponse:e=>null==e?void 0:e.data,providesTags:["sms-analytics"]}),getSMSStatus:e.query({query:()=>({url:"/sms/status",method:"GET"}),transformResponse:e=>null==e?void 0:e.data,providesTags:["sms-status"]})})})},78101:function(e,s,t){"use strict";t.d(s,{g:function(){return o}});var n=t(49854),r=t(68240),i=t(94183),a=t(28317);let o=(0,r.LC)({baseQuery:(0,i.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,s)=>fetch(e,s).then(async t=>{let r="string"==typeof e?e:e.url;return r.includes("?")||(null==s?void 0:s.body)||"string"!=typeof e&&e.body||await (0,a.t8)(r,await t.clone().json().catch(()=>null),(0,n.x)()),t}).catch(async t=>{if(t instanceof TypeError){let t="string"==typeof e?e:e.url;if(!t.includes("?")&&!(null==s?void 0:s.body)&&!("string"!=typeof e&&e.body)){let e=await (0,a.U2)(t,(0,n.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw t})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},49854:function(e,s,t){"use strict";let n;t.d(s,{d:function(){return l},x:function(){return d}});var r=t(72940),i=t(6780),a=t(67732),o=t(28317);function d(){return n||(n=(0,o.MT)("cached-responses-store","cached-responses")),n}async function l(e,s){try{let t=await i.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:s,...r.FD});return await (0,o.t8)(e,t.data,d()),t.data}catch(s){if(s instanceof a.d7&&[a.d7.ERR_NETWORK,a.d7.ETIMEDOUT].includes(s.code)){let s=await (0,o.U2)(e,d());if(s)return s}throw s instanceof a.d7&&s.response&&401===s.response.status||console.error(s),s}}},14686:function(e){e.exports={container:"Sms_container__IElJt"}},71:function(e){e.exports={sectionHeaderParent:"SectionHeader_sectionHeaderParent__oBL0i",sectionHeaderContainer:"SectionHeader_sectionHeaderContainer__6KnH7"}},14702:function(e){e.exports={input:"DatePickerField_input__Gn9FX"}}},function(e){e.O(0,[1601,3069,6945,3852,1656,9722,4670,9258,9533,966,12,7538,154,7186,9669,6889,356,9175,7402,1744],function(){return e(e.s=84777)}),_N_E=e.O()}]);