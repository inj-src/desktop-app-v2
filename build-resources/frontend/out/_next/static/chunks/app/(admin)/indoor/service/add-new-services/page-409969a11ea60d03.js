(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7189],{20109:function(e,r,t){Promise.resolve().then(t.bind(t,77909))},77909:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return w}});var s=t(68328),n=t(38823),i=t(31100),a=t(72940),l=t(6780),c=t(67732);let u=async e=>{try{let r=await l.default.post("".concat("http://sasthotech.local:5000/api/v1","/service/multi"),e,{...a.FD,...a.Hn});return{success:!0,data:r.data.data}}catch(e){if(e instanceof c.d7){var r;return{success:!1,data:null===(r=e.response)||void 0===r?void 0:r.data.message}}return{success:!1,data:"An error occurred"}}};var d=t(32451),o=t(22614),m=t(68242),p=t(31204),h=t(3741),v=t(12697),f=t(23583),x=t(12450),j=t(90660),b=t.n(j),y=t(14193);let N={services:[{name:"",price:0}]},g=y.Ry().shape({services:y.IX(y.Ry({name:y.Z_().required("Service Name is Required"),price:y.Rx().required("Service Price is Required")}))});var w=()=>{let e=(0,x.useRouter)();return(0,s.jsxs)(d.Box,{className:"p-3 bg-light p-md-5",children:[(0,s.jsxs)(o.Group,{mb:"md",children:[(0,s.jsx)(m.Title,{mr:"auto",children:"Add New Services"}),(0,s.jsx)(p.Button,{variant:"default",size:"md",radius:"md",onClick:()=>e.back(),children:"Cancel"})]}),(0,s.jsx)(f.J9,{validationSchema:g,enableReinitialize:!0,initialValues:N,onSubmit:async(r,t)=>{let{setSubmitting:s}=t;try{let{success:t,data:s}=await u(r.services);t?(await b().fire("Success","".concat(s.count," service(s) Added"),"success"),e.push("/indoor/service/service-list")):b().fire("Error",s||"Invalid Server Response","error")}finally{s(!1)}},children:e=>{let{values:r}=e;return(0,s.jsxs)(f.l0,{className:"w-100 d-flex flex-column gap-1",children:[(0,s.jsx)(f.F2,{name:"services",children:e=>{let{remove:t,push:i}=e;return(0,s.jsxs)("div",{children:[r.services.length>0&&r.services.map((e,r)=>(0,s.jsxs)("div",{className:"row",children:[(0,s.jsx)("div",{className:"col",children:(0,s.jsx)(n.Z,{name:"services.".concat(r,".name"),label:"Service Name",placeholder:"Type name",withAsterisk:!0,classNames:{input:"border border-primary"}})}),(0,s.jsx)("div",{className:"col",children:(0,s.jsx)(n.Z,{name:"services.".concat(r,".price"),label:"Per Unit Price",placeholder:"Enter Price",withAsterisk:!0,type:"number",min:"0",classNames:{input:"border border-primary"}})}),(0,s.jsx)("div",{className:"col-auto",style:{marginTop:"3.5rem"},children:(0,s.jsx)(h.A,{variant:"transparent","aria-label":"Delete",onClick:()=>t(r),children:(0,s.jsx)(v.Z,{style:{width:"70%",height:"70%"},stroke:1.5})})})]},r)),(0,s.jsx)("div",{className:"text-center mt-3",children:(0,s.jsx)(p.Button,{type:"button",size:"md",radius:"md",onClick:()=>i({name:"",price:0}),children:"Add more"})})]})}}),(0,s.jsx)("div",{className:"mt-3 text-center",children:(0,s.jsx)(i.M,{size:"lg",className:"mw-100",w:"24rem",children:"Save"})})]})}})]})}},38823:function(e,r,t){"use strict";t.d(r,{E:function(){return o}});var s=t(68328),n=t(30331),i=t(55911),a=t(73626),l=t(23583),c=t(4505),u=t(49749),d=t.n(u);let o={size:"md",variant:"filled",radius:"md"},m={mt:"md",withAsterisk:!1},p=(0,c.memo)(function(e){let{onChange:r,onBlur:t,onClick:l,value:u,useFieldResult:p,...h}=e,[{value:v,onChange:f,onBlur:x,...j},b,y]=p,N=(0,c.useRef)(null),g=(0,a.y)(()=>{if(N.current){let e;let{type:r,value:t}=N.current;y.setValue("number"===r?isNaN(e=parseFloat(t))?"":e:t)}},200);return(0,c.useEffect)(()=>{N.current&&N.current.value!==v&&!(document.hasFocus()&&document.activeElement===N.current)&&(N.current.value=null!=v?v:"")},[v]),(0,s.jsx)(i.TextInput,{ref:N,error:b.touched&&b.error,defaultValue:v,classNames:d(),onChange:e=>{g()},onBlur:e=>{null==t||t(e),x(e)},onClick:e=>{"number"===h.type&&"0"===e.currentTarget.value&&e.currentTarget.select(),null==l||l(e)},onWheel:n.P,...j,...m,...o,...h})},(e,r)=>e.useFieldResult[0].value===r.useFieldResult[0].value&&e.useFieldResult[1].touched===r.useFieldResult[1].touched&&e.useFieldResult[1].error===r.useFieldResult[1].error&&e.error===r.error);r.Z=e=>(0,s.jsx)(p,{useFieldResult:(0,l.U$)(e.name),...e})},31100:function(e,r,t){"use strict";t.d(r,{M:function(){return a}});var s=t(68328),n=t(31204),i=t(23583);function a(e){let{loading:r,disabled:t,...a}=e,{isSubmitting:l}=(0,i.u6)();return(0,s.jsx)(n.Button,{type:"submit",loading:l||r,disabled:l||t,...a})}},72940:function(e,r,t){"use strict";t.d(r,{FD:function(){return n},Hn:function(){return s},y4:function(){return i}});let s={headers:{"Content-Type":"application/json"}},n={withCredentials:!0},i={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},30331:function(e,r,t){"use strict";function s(e){e.currentTarget.blur(),e.stopPropagation(),setTimeout(()=>{var r;null==e||null===(r=e.currentTarget)||void 0===r||r.focus()},0)}t.d(r,{P:function(){return s}})},49749:function(e){e.exports={input:"InputFieldWithOptionsFast_input__HgGdh",placeholder:"InputFieldWithOptionsFast_placeholder__EagU9",wrapper:"InputFieldWithOptionsFast_wrapper__8GXHB"}}},function(e){e.O(0,[2975,3069,6945,1656,9722,3583,4193,642,9175,7402,1744],function(){return e(e.s=20109)}),_N_E=e.O()}]);