(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1911],{87055:function(e,t,a){Promise.resolve().then(a.bind(a,5619))},5619:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var r=a(68328),s=a(80516),n=a(79033),i=a(57620),o=a(72940),l=a(6780),c=a(67732);let d=async e=>{let{from:t,to:a,pcId:r}=e;try{let e="string"==typeof t?t:t.toISOString(),s="string"==typeof a?a:a.toISOString(),n=await l.default.get("".concat("http://sasthotech.local:5000/api/v1","/pcGroup/marketer/stats"),{...o.FD,params:{from:e,to:s,...r&&{pcId:r}}});return{success:!0,data:n.data.data}}catch(e){if(e instanceof c.d7){var s;return{success:!1,data:null===(s=e.response)||void 0===s?void 0:s.data.message}}return{success:!1,data:"An error occurred"}}};var u=a(45913),m=a(41224),g=a(68242),h=a(22041),x=a(48604),p=a(22614),v=a(31204),j=a(14587),f=a(77303),y=a(11114),T=a(68823),w=a(29663),b=a(34022),k=a(77052),D=a(67781),M=a(26546),S=a(69861),C=a(35288),z=a(19376),P=a(25564),Z=a(1860),I=a.n(Z),B=a(4505);let G=e=>new Intl.NumberFormat("en-BD",{style:"currency",currency:"BDT",minimumFractionDigits:0}).format(e),_=e=>0===e.totalCommission?0:e.commissionPaid/e.totalCommission*100;var V=()=>{var e;let[t,a]=(0,B.useState)(null),[o,l]=(0,B.useState)(!1),[c,Z]=(0,B.useState)([new Date(new Date().getFullYear(),new Date().getMonth(),1),new Date]),[V,E]=(0,B.useState)(null),[N,Y]=(0,B.useState)(!1),{data:q,isLoading:F}=(0,u._q)(c[0]&&c[1]?{startDate:c[0].toISOString(),endDate:c[1].toISOString()}:void 0),L=null==q?void 0:null===(e=q.data)||void 0===e?void 0:e[0];(0,B.useEffect)(()=>{c[0]&&c[1]&&O()},[c]);let O=async()=>{if(c[0]&&c[1]){l(!0);try{let{success:e,data:t}=await d({from:c[0],to:c[1]});e&&a(t)}finally{l(!1)}}};return(0,r.jsxs)("div",{style:{padding:"20px"},children:[(0,r.jsxs)(m.Stack,{gap:"md",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(g.Title,{order:1,children:"Marketer Dashboard"}),(0,r.jsx)(h.Text,{size:"sm",c:"dimmed",children:"Track your assigned PCs, income, and commission payments"})]}),(0,r.jsx)(x.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:(0,r.jsxs)(m.Stack,{gap:"md",children:[(0,r.jsx)(g.Title,{order:3,children:"Select Date Range"}),(0,r.jsxs)(p.Group,{gap:"md",children:[(0,r.jsx)(k.DatePickerInput,{type:"range",label:"Date Range",placeholder:"Pick dates range",value:c,onChange:Z,leftSection:(0,r.jsx)(D.Z,{size:16}),style:{flex:1},clearable:!0}),(0,r.jsxs)(p.Group,{gap:"xs",style:{marginTop:"auto"},children:[(0,r.jsx)(v.Button,{variant:"light",size:"sm",onClick:()=>{let e=new Date;Z([new Date(e.getFullYear(),e.getMonth(),1),new Date])},children:"Current Month"}),(0,r.jsx)(v.Button,{variant:"light",size:"sm",onClick:()=>{let e=new Date;Z([new Date(e.getFullYear(),e.getMonth()-1,1),new Date(e.getFullYear(),e.getMonth(),0)])},children:"Last Month"}),(0,r.jsx)(v.Button,{variant:"light",size:"sm",onClick:()=>{let e=new Date;Z([new Date(e.getTime()-2592e6),e])},children:"Last 30 Days"})]})]})]})}),o?(0,r.jsx)(p.Group,{justify:"center",py:"xl",children:(0,r.jsx)(j.Loader,{size:"lg"})}):t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f.Divider,{label:"My Target",labelPosition:"center"}),F?(0,r.jsx)(p.Group,{justify:"center",py:"md",children:(0,r.jsx)(j.Loader,{size:"sm"})}):L?(0,r.jsxs)(x.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:[(0,r.jsxs)(p.Group,{justify:"space-between",align:"flex-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)(p.Group,{gap:"xs",mb:"xs",children:[(0,r.jsx)(M.Z,{size:24,color:"var(--mantine-color-violet-6)"}),(0,r.jsx)(g.Title,{order:3,children:"My Target"}),(0,r.jsx)(y.C,{color:"MONTHLY"===L.targetType?"green":"WEEKLY"===L.targetType?"orange":"blue",variant:"filled",size:"sm",children:L.targetType})]}),(0,r.jsxs)(h.Text,{size:"sm",c:"dimmed",mb:"md",children:[I()(L.startDate).format("MMM DD, YYYY")," -"," ",I()(L.endDate).format("MMM DD, YYYY")]})]}),(0,r.jsx)(T.T,{size:100,thickness:10,roundCaps:!0,sections:[{value:t?Math.min(t.totalIncome/L.targetValue*100,100):0,color:t&&t.totalIncome>=L.targetValue?"violet":"teal"}],label:(0,r.jsxs)(h.Text,{ta:"center",size:"xs",fw:700,children:[t?Math.round(t.totalIncome/L.targetValue*100):0,"%"]})})]}),(0,r.jsx)(f.Divider,{my:"sm"}),(0,r.jsxs)(w.Grid,{children:[(0,r.jsxs)(w.Grid.Col,{span:6,children:[(0,r.jsx)(h.Text,{size:"xs",c:"dimmed",children:"Achieved"}),(0,r.jsx)(h.Text,{size:"xl",fw:700,c:"teal",children:G((null==t?void 0:t.totalIncome)||0)})]}),(0,r.jsxs)(w.Grid.Col,{span:6,style:{textAlign:"right"},children:[(0,r.jsx)(h.Text,{size:"xs",c:"dimmed",children:"Target Amount"}),(0,r.jsx)(h.Text,{size:"xl",fw:700,c:"violet",children:G(L.targetValue||0)})]})]}),(0,r.jsx)(b.E,{value:t&&L.targetValue?Math.min(t.totalIncome/L.targetValue*100,100):0,size:"lg",radius:"xl",mt:"md",color:t&&L.targetValue&&t.totalIncome>=L.targetValue?"violet":"teal"}),(0,r.jsxs)(p.Group,{justify:"space-between",mt:"xs",children:[(0,r.jsxs)(h.Text,{size:"xs",c:"dimmed",children:[G((null==t?void 0:t.totalIncome)||0)," /"," ",G(L.targetValue||0)]}),(0,r.jsx)(h.Text,{size:"xs",c:t&&L.targetValue&&t.totalIncome>=L.targetValue?"teal":"dimmed",fw:500,children:t&&L.targetValue&&t.totalIncome>=L.targetValue?"\uD83C\uDF89 Target Achieved!":"".concat(G((L.targetValue||0)-((null==t?void 0:t.totalIncome)||0))," remaining")})]})]}):(0,r.jsx)(x.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:(0,r.jsxs)(p.Group,{justify:"center",gap:"xs",children:[(0,r.jsx)(M.Z,{size:20,color:"gray"}),(0,r.jsx)(h.Text,{c:"dimmed",children:"No target assigned for this period"})]})}),(0,r.jsx)(f.Divider,{label:"Overview Statistics",labelPosition:"center"}),(0,r.jsxs)(w.Grid,{children:[(0,r.jsx)(w.Grid.Col,{span:{base:12,sm:6,md:4},children:(0,r.jsx)(i.Z,{title:"Total PCs",value:t.totalPCs,icon:(0,r.jsx)(S.Z,{}),color:"blue"})}),(0,r.jsx)(w.Grid.Col,{span:{base:12,sm:6,md:4},children:(0,r.jsx)(i.Z,{title:"Total Income",value:G(t.totalIncome),icon:(0,r.jsx)(C.Z,{}),color:"green"})}),(0,r.jsx)(w.Grid.Col,{span:{base:12,sm:6,md:4},children:(0,r.jsx)(i.Z,{title:"Total Commission",value:G(t.totalCommission),icon:(0,r.jsx)(z.Z,{}),color:"violet"})}),(0,r.jsx)(w.Grid.Col,{span:{base:12,sm:6,md:4},children:(0,r.jsx)(i.Z,{title:"Commission Paid",value:G(t.commissionPaid),icon:(0,r.jsx)(z.Z,{}),color:"teal",subtitle:"".concat(_(t).toFixed(1),"% of total")})}),(0,r.jsx)(w.Grid.Col,{span:{base:12,sm:6,md:4},children:(0,r.jsx)(i.Z,{title:"Commission Unpaid",value:G(t.commissionUnpaid),icon:(0,r.jsx)(z.Z,{}),color:"red",subtitle:"".concat((100-_(t)).toFixed(1),"% remaining")})}),(0,r.jsx)(w.Grid.Col,{span:{base:12,sm:6,md:4},children:(0,r.jsx)(i.Z,{title:"Total Bills",value:t.totalBills,icon:(0,r.jsx)(P.Z,{}),color:"orange",subtitle:"Paid: ".concat(t.paidBills," | Unpaid: ").concat(t.unpaidBills)})})]}),(0,r.jsx)(f.Divider,{label:"PC Performance",labelPosition:"center"}),(0,r.jsx)(x.Z,{shadow:"sm",padding:"lg",radius:"md",withBorder:!0,children:(0,r.jsxs)(m.Stack,{gap:"md",children:[(0,r.jsx)(g.Title,{order:3,children:"Performance by PC"}),(0,r.jsx)(h.Text,{size:"sm",c:"dimmed",children:"View detailed performance metrics for each assigned PC"}),(0,r.jsx)(n.Z,{pcStats:t.pcStats,onViewDetails:e=>{E(e),Y(!0)}})]})})]}):(0,r.jsx)(x.Z,{shadow:"sm",padding:"xl",radius:"md",withBorder:!0,children:(0,r.jsx)(h.Text,{c:"dimmed",ta:"center",children:"Select a date range to view statistics"})})]}),(0,r.jsx)(s.Z,{opened:N,onClose:()=>{Y(!1),E(null)},pcId:V,dateRange:c[0]&&c[1]?{from:c[0],to:c[1]}:{from:new Date,to:new Date}})]})}},45913:function(e,t,a){"use strict";a.d(t,{_6:function(){return n},_q:function(){return l},dF:function(){return r},ns:function(){return i},zq:function(){return o}});let{useGetMarketerTargetsQuery:r,useGetMarketerTargetByIdQuery:s,useCreateMarketerTargetMutation:n,useUpdateMarketerTargetMutation:i,useDeleteMarketerTargetMutation:o,useGetMyMarketerTargetQuery:l}=a(78101).g.injectEndpoints({endpoints:e=>({getMarketerTargets:e.query({query:e=>({url:"/marketerTarget",method:"GET",params:e}),providesTags:["MarketerTarget"]}),getMarketerTargetById:e.query({query:e=>({url:"/marketerTarget/".concat(e),method:"GET"}),providesTags:["MarketerTarget"]}),createMarketerTarget:e.mutation({query:e=>({url:"/marketerTarget",method:"POST",body:e}),invalidatesTags:["MarketerTarget"]}),updateMarketerTarget:e.mutation({query:e=>{let{id:t,data:a}=e;return{url:"/marketerTarget/".concat(t),method:"PATCH",body:a}},invalidatesTags:["MarketerTarget"]}),deleteMarketerTarget:e.mutation({query:e=>({url:"/marketerTarget/".concat(e),method:"DELETE"}),invalidatesTags:["MarketerTarget"]}),getMyMarketerTarget:e.query({query:e=>({url:"/marketerTarget/my",method:"GET",params:e||void 0}),providesTags:["MarketerTarget"]})})})},80745:function(e,t,a){"use strict";a.d(t,{M:function(){return l}});var r=a(68328);a(4505);var s=a(4687),n=a(9722),i=a(83375);let o={__staticSelector:"InputBase",withAria:!0},l=(0,s.b)((e,t)=>{let{inputProps:a,wrapperProps:s,...l}=(0,i.k)("InputBase",o,e);return(0,r.jsx)(n.I.Wrapper,{...s,children:(0,r.jsx)(n.I,{...a,...l,ref:t})})});l.classes={...n.I.classes,...n.I.Wrapper.classes},l.displayName="@mantine/core/InputBase"},34022:function(e,t,a){"use strict";a.d(t,{E:function(){return M}});var r=a(68328);a(4505);var s=a(72355),n=a(65786),i=a(36246),o=a(32451);let[l,c]=(0,a(98296).R)("Progress.Root component was not found in tree");var d={root:"m_db6d6462",section:"m_2242eb65","stripes-animation":"m_81a374bd",label:"m_91e40b74"};let u={},m=(0,i.d5)((e,t)=>{let{classNames:a,className:s,style:i,styles:l,vars:d,...m}=(0,n.w)("ProgressLabel",u,e),g=c();return(0,r.jsx)(o.Box,{ref:t,...g.getStyles("label",{className:s,style:i,classNames:a,styles:l}),...m})});m.classes=d,m.displayName="@mantine/core/ProgressLabel";var g=a(63773),h=a(55622),x=a(28266);let p={},v=(0,h.Z)((e,t)=>{let{size:a,radius:r,transitionDuration:s}=t;return{root:{"--progress-size":(0,g.ap)(a,"progress-size"),"--progress-radius":void 0===r?void 0:(0,g.H5)(r),"--progress-transition-duration":"number"==typeof s?"".concat(s,"ms"):void 0}}}),j=(0,i.d5)((e,t)=>{let a=(0,n.w)("ProgressRoot",p,e),{classNames:s,className:i,style:c,styles:u,unstyled:m,vars:g,autoContrast:h,transitionDuration:j,...f}=a,y=(0,x.y)({name:"Progress",classes:d,props:a,className:i,style:c,classNames:s,styles:u,unstyled:m,vars:g,varsResolver:v});return(0,r.jsx)(l,{value:{getStyles:y,autoContrast:h},children:(0,r.jsx)(o.Box,{ref:t,...y("root"),...f})})});j.classes=d,j.displayName="@mantine/core/ProgressRoot";var f=a(12498),y=a(70703),T=a(33901),w=a(11692);let b={withAria:!0},k=(0,i.d5)((e,t)=>{let{classNames:a,className:s,style:i,styles:l,vars:d,value:u,withAria:m,color:g,striped:h,animated:x,mod:p,...v}=(0,n.w)("ProgressSection",b,e),j=c(),k=(0,w.rZ)();return(0,r.jsx)(o.Box,{ref:t,...j.getStyles("section",{className:s,classNames:a,styles:l,style:i}),...v,...m?{role:"progressbar","aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":u,"aria-valuetext":"".concat(u,"%")}:{},mod:[{striped:h||x,animated:x},p],__vars:{"--progress-section-width":"".concat(u,"%"),"--progress-section-color":(0,f.p)(g,k),"--progress-label-color":(0,T.o)(j.autoContrast,k)?(0,y.R)({color:g,theme:k,autoContrast:j.autoContrast}):void 0}})});k.classes=d,k.displayName="@mantine/core/ProgressSection";let D={},M=(0,i.d5)((e,t)=>{let a=(0,n.w)("Progress",D,e),{value:i,classNames:o,styles:l,vars:c,color:d,striped:u,animated:m,"aria-label":g,...h}=a,{resolvedClassNames:x,resolvedStyles:p}=(0,s.h)({classNames:o,styles:l,props:a});return(0,r.jsx)(j,{ref:t,classNames:x,styles:p,vars:c,...h,children:(0,r.jsx)(k,{value:i,color:d,striped:u,animated:m,"aria-label":g})})});M.classes=d,M.displayName="@mantine/core/Progress",M.Section=k,M.Root=j,M.Label=m},41224:function(e,t,a){"use strict";a.r(t),a.d(t,{Stack:function(){return g}});var r=a(68328);a(4505);var s=a(63773),n=a(55622),i=a(65786),o=a(28266),l=a(32451),c=a(36246),d={root:"m_6d731127"};let u={gap:"md",align:"stretch",justify:"flex-start"},m=(0,n.Z)((e,t)=>{let{gap:a,align:r,justify:n}=t;return{root:{"--stack-gap":(0,s.bG)(a),"--stack-align":r,"--stack-justify":n}}}),g=(0,c.d5)((e,t)=>{let a=(0,i.w)("Stack",u,e),{classNames:s,className:n,style:c,styles:g,unstyled:h,vars:x,align:p,justify:v,gap:j,variant:f,...y}=a,T=(0,o.y)({name:"Stack",props:a,classes:d,className:n,style:c,classNames:s,styles:g,unstyled:h,vars:x,varsResolver:m});return(0,r.jsx)(l.Box,{ref:t,...T("root"),variant:f,...y})});g.classes=d,g.displayName="@mantine/core/Stack"},68242:function(e,t,a){"use strict";a.r(t),a.d(t,{Title:function(){return x}});var r=a(68328);a(4505);var s=a(55622),n=a(65786),i=a(28266),o=a(32451),l=a(36246),c=a(53729);let d=["h1","h2","h3","h4","h5","h6"],u=["xs","sm","md","lg","xl"];var m={root:"m_8a5d1357"};let g={order:1},h=(0,s.Z)((e,t)=>{let{order:a,size:r,lineClamp:s,textWrap:n}=t,i=function(e,t){let a=void 0!==t?t:"h".concat(e);return d.includes(a)?{fontSize:"var(--mantine-".concat(a,"-font-size)"),fontWeight:"var(--mantine-".concat(a,"-font-weight)"),lineHeight:"var(--mantine-".concat(a,"-line-height)")}:u.includes(a)?{fontSize:"var(--mantine-font-size-".concat(a,")"),fontWeight:"var(--mantine-h".concat(e,"-font-weight)"),lineHeight:"var(--mantine-h".concat(e,"-line-height)")}:{fontSize:(0,c.h)(a),fontWeight:"var(--mantine-h".concat(e,"-font-weight)"),lineHeight:"var(--mantine-h".concat(e,"-line-height)")}}(a,r);return{root:{"--title-fw":i.fontWeight,"--title-lh":i.lineHeight,"--title-fz":i.fontSize,"--title-line-clamp":"number"==typeof s?s.toString():void 0,"--title-text-wrap":n}}}),x=(0,l.d5)((e,t)=>{let a=(0,n.w)("Title",g,e),{classNames:s,className:l,style:c,styles:d,unstyled:u,order:x,vars:p,size:v,variant:j,lineClamp:f,textWrap:y,mod:T,...w}=a,b=(0,i.y)({name:"Title",props:a,classes:m,className:l,style:c,classNames:s,styles:d,unstyled:u,vars:p,varsResolver:h});return[1,2,3,4,5,6].includes(x)?(0,r.jsx)(o.Box,{...b("root"),component:"h".concat(x),variant:j,ref:t,mod:[{order:x,"data-line-clamp":"number"==typeof f},T],size:v,...w}):null});x.classes=m,x.displayName="@mantine/core/Title"},67781:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(52165).Z)("outline","calendar","Calendar",[["path",{d:"M4 7a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12",key:"svg-0"}],["path",{d:"M16 3v4",key:"svg-1"}],["path",{d:"M8 3v4",key:"svg-2"}],["path",{d:"M4 11h16",key:"svg-3"}],["path",{d:"M11 15h1",key:"svg-4"}],["path",{d:"M12 15v3",key:"svg-5"}]])}},function(e){e.O(0,[1601,748,3069,6945,3852,1656,9722,4670,9258,9533,966,12,7538,1166,7967,6029,7186,1493,9669,7140,7308,6616,5851,9175,7402,1744],function(){return e(e.s=87055)}),_N_E=e.O()}]);