"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2893],{60595:function(e,t,n){var a=n(42752);n.o(a,"isArray")&&n.d(t,{isArray:function(){return a.isArray}})},61683:function(e,t,n){n.d(t,{O:function(){return c},Z:function(){return m}});var a=n(68328),o=n(11114),i=n(22041),r=n(3741),l=n(87967),s=n(37947),d=n(25091);let u=e=>{switch(e){case"BOOKED":case"WAITING":return{backgroundColor:"#dbeafe",color:"#1e40af"};case"ON_GOING":return{backgroundColor:"#fef3c7",color:"#92400e"};case"COMPLETED":return{backgroundColor:"#d1fae5",color:"#065f46"};case"MISSED":return{backgroundColor:"#fee2e2",color:"#991b1b"};default:return{backgroundColor:"transparent",color:"inherit"}}};function c(e){let{appointment:t}=e;return(0,a.jsx)(o.C,{component:i.Text,variant:"light",style:{backgroundColor:u(t.status).backgroundColor,color:u(t.status).color,fontWeight:400,borderRadius:4},children:t.status})}function m(e){let{status:t,handleStatusChange:n,disableMissed:o=!0}=e,i=async()=>{["WAITING"].includes(t)?n("ON_GOING"):"ON_GOING"===t&&n("COMPLETED")},c=["WAITING","ON_GOING","MISSED"].includes(t),m=!o&&"MISSED"!==t&&"COMPLETED"!==t,p=async()=>{n("MISSED")};return(0,a.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{display:"flex",alignItems:"center",gap:"4px"},children:[m&&(0,a.jsx)(r.A,{size:"md",variant:"subtle",bg:"#fee2e2",color:"#991b1b",onClick:p,title:"Mark as Missed",children:(0,a.jsx)(s.Z,{size:12})}),(0,a.jsx)(l.P,{data:[{value:"BOOKED",label:"BOOKED",disabled:!0},{value:"WAITING",label:"WAITING",disabled:"BOOKED"==t&&!1},{value:"ON_GOING",label:"ON GOING",disabled:"BOOKED"==t&&!1},{value:"COMPLETED",label:"COMPLETED",disabled:"BOOKED"==t&&!1},{value:"MISSED",label:"MISSED",disabled:o||"BOOKED"==t&&!1}],value:t,onChange:e=>n(e),placeholder:"Select status",size:"xs",variant:"unstyled",w:120,styles:{input:{padding:"4px 8px",fontSize:"12px",border:"none",borderRadius:"4px",...u(t)}}}),c&&(0,a.jsx)(r.A,{size:"md",variant:"subtle",bg:u(t).backgroundColor,color:u(t).color,onClick:i,children:(0,a.jsx)(d.Z,{size:12})})]})}},71149:function(e,t,n){n.d(t,{AN:function(){return u},HG:function(){return l},J7:function(){return i},UA:function(){return d},dB:function(){return m},ev:function(){return r},q:function(){return c},tK:function(){return s}});var a=n(62471),o=n(4505);let i=["A4 portrait","A5 portrait","A4 landscape"],r=[["outdoor-bill","A5 portrait",60],["indoor-bill","A4 portrait",60,void 0,120],["indoor-admission-form","A4 portrait",90,"isHospitalManagement",120],["outdoor-summary","A4 portrait",90],["indoor-summary","A4 portrait",90,"isHospitalManagement"],["receptionist-summary","A4 portrait",90],["pc-payment","A5 portrait",60]];function l(e){let t=(0,o.useMemo)(()=>r.find(t=>t[0]===e),[e]),[n]=(0,a.I)({key:"".concat(e,"-print-page-size"),defaultValue:null==t?void 0:t[1]}),[i]=(0,a.I)({key:"".concat(e,"-print-page-scale"),defaultValue:null==t?void 0:t[2]});return"\n    @page { size: ".concat(n,";margin:10px 0px; }\n    :root { --mantine-scale: ").concat(+i/100,"; }\n    .fs-1{font-size:calc(var(--mantine-scale) * calc(1.375rem + 1.5vw))!important}\n    .fs-2{font-size:calc(var(--mantine-scale) * calc(1.325rem + .9vw))!important}\n    .fs-3{font-size:calc(var(--mantine-scale) * calc(1.3rem + .6vw))!important}\n    .fs-4{font-size:calc(var(--mantine-scale) * calc(1.275rem + .3vw))!important}\n    .fs-5{font-size:calc(var(--mantine-scale) * 1.25rem)!important}\n    .fs-6{font-size:calc(var(--mantine-scale) * 1rem)!important}")}function s(e){var t,n,i;let l=(0,o.useMemo)(()=>r.find(t=>t[0]===e),[e]),[s]=(0,a.I)({key:"".concat(e,"-print-page-height"),defaultValue:null!==(n=null==l?void 0:null===(t=l[4])||void 0===t?void 0:t.toString())&&void 0!==n?n:""});return s?+s:null!==(i=null==l?void 0:l[4])&&void 0!==i?i:100}function d(){let[e]=(0,a.I)({key:"selected-admission-template-id",defaultValue:"1"});return e?+e:1}function u(){let[e]=(0,a.I)({key:"selected-bill-template-id",defaultValue:"1"});return e?+e:1}function c(){let[e]=(0,a.I)({key:"print-watermark-enabled",defaultValue:"true"});return"true"===e}function m(){let[e]=(0,a.I)({key:"selected-appointment-token-template-id",defaultValue:"2"});return e?+e:2}},96657:function(e,t,n){n.d(t,{Z:function(){return ex}});var a=n(68328),o=n(4505),i=n(22975),r=n(29663),l=n(41224),s=n(16391),d=n(31204),u=n(80948),c=n(91611),m=n(9323),p=n(62471),h=n(75540),f=n(48604),v=n(32451),x=n(76029),g=n(22041),b=n(22614),y=n(8720),j=n(67781),T=n(92671),C=n(51396),w=n(33908),A=n.n(w);let S=(0,o.memo)(e=>{let{doctorName:t,sessionName:n,date:o,slotTime:r,serialNo:l}=e;return(0,a.jsx)(f.Z,{withBorder:!0,bg:"gray.0",w:"100%",mb:"md",children:(0,a.jsxs)(s.k,{direction:{base:"column",sm:"row"},justify:"space-between",gap:"sm",children:[(0,a.jsxs)(s.k,{gap:"sm",align:"center",justify:"space-between",wrap:"nowrap",children:[(0,a.jsxs)(s.k,{gap:"sm",align:"center",wrap:"nowrap",children:[(0,a.jsx)(y.Z,{style:{minWidth:"20px",minHeight:"20px"},color:"var(--mantine-color-blue-6)"}),(0,a.jsxs)(v.Box,{w:{base:"auto",sm:250},children:[(0,a.jsx)(x.u,{label:t||"",withArrow:!0,disabled:!t||t.length<25,children:(0,a.jsx)(g.Text,{fw:600,size:"sm",lineClamp:2,children:t})}),(0,a.jsxs)(g.Text,{size:"xs",c:"dimmed",children:[n," Session"]})]})]}),(0,a.jsx)(i.u.CloseButton,{hiddenFrom:"sm"})]}),(0,a.jsxs)(s.k,{gap:"xs",align:"center",wrap:"wrap",children:[(0,a.jsxs)(b.Group,{gap:"xs",children:[(0,a.jsx)(j.Z,{size:16,color:"var(--mantine-color-gray-6)"}),(0,a.jsx)(g.Text,{visibleFrom:"sm",size:"sm",children:A()(o).format("DD MMM YYYY")}),(0,a.jsx)(g.Text,{hiddenFrom:"sm",size:"xs",children:A()(o).format("DD MMM YYYY")})]}),r&&(0,a.jsxs)(b.Group,{gap:"xs",children:[(0,a.jsx)(T.Z,{size:16,color:"var(--mantine-color-gray-6)"}),(0,a.jsx)(g.Text,{visibleFrom:"sm",size:"sm",children:r}),(0,a.jsx)(g.Text,{hiddenFrom:"sm",size:"xs",children:r})]}),l&&(0,a.jsxs)(b.Group,{gap:"xs",children:[(0,a.jsx)(C.Z,{size:16,color:"var(--mantine-color-gray-6)"}),(0,a.jsxs)(g.Text,{visibleFrom:"sm",size:"sm",children:["Serial No ",l.toUpperCase()]}),(0,a.jsxs)(g.Text,{hiddenFrom:"sm",size:"xs",children:["Serial No ",l.toUpperCase()]})]}),(0,a.jsx)(i.u.CloseButton,{visibleFrom:"sm"})]})]})})});S.displayName="AppointmentHeader";var I=n(29259),k=n(81209),P=n(55911),E=n(77379),N=n(57956),D=n(87967),z=n(17382),q=n(14587),G=n(39215),M=n(94183),R=n(37947),F=n(86083),O=e=>{let{name:t="phoneNumber",label:n="Phone Number",doctorChamberId:i,required:r=!1,value:l,onChange:s,onPatientSelect:d,error:u,disabled:c=!1}=e,m=l||"01",p=(0,o.useMemo)(()=>m&&m.length>=5&&i,[m,i]),{data:h,isFetching:f,error:x}=(0,z.wX)(p?{param:m,args:{doctorChamberId:i}}:M.CN,{skip:!p}),y=(0,o.useMemo)(()=>(null==h?void 0:h.data)?h.data.map(e=>({value:"".concat(e.phone,"-").concat(e.name,"-").concat(e.patientId),label:"".concat(e.phone," - ").concat(e.name),patient:e})):[],[null==h?void 0:h.data]),j=(0,o.useCallback)(e=>{var t;let[n,a,o]=e.split("-");s(n.startsWith("01")?n.slice(2):n);let i=null==h?void 0:null===(t=h.data)||void 0===t?void 0:t.find(e=>e.phone===n&&e.name===a&&e.patientId===parseInt(o));i&&d&&d(i)},[s,d,null==h?void 0:h.data]),T=(0,o.useCallback)(()=>{s("")},[s]),C=(0,o.useCallback)(e=>{s(e.split("-")[0])},[s]),w=!i||c,A=m&&m.length>0,S=(0,o.useMemo)(()=>f?(0,a.jsx)(q.Loader,{size:"xs"}):A?(0,a.jsx)(R.Z,{size:16,stroke:1.5,style:{cursor:"pointer"},color:"var(--mantine-color-gray-6)",onClick:T}):(0,a.jsx)(F.Z,{size:16,stroke:1.5,color:"var(--mantine-color-gray-5)"}),[f,A,T]);return(0,a.jsxs)(v.Box,{children:[(0,a.jsx)(G.F,{name:t,label:n,placeholder:"",data:y,value:m,disabled:w,error:u,onChange:C,onOptionSubmit:j,leftSection:(0,a.jsx)(g.Text,{size:"sm",children:"+88"}),leftSectionWidth:50,rightSection:S,rightSectionWidth:32,description:w?"Please select a doctor and date first":"Enter phone number to search existing patients",withAsterisk:r,limit:15,withScrollArea:!0,maxDropdownHeight:280}),f&&m&&m.length>=5&&(0,a.jsxs)(b.Group,{justify:"center",mt:"xs",children:[(0,a.jsx)(q.Loader,{size:"xs"}),(0,a.jsx)(g.Text,{size:"xs",c:"dimmed",children:"Searching patients..."})]}),!f&&m&&m.length>=5&&0===y.length&&(0,a.jsx)(g.Text,{size:"xs",c:"dimmed",ta:"center",mt:"xs",children:"No patients found with this number"})]})},B=n(25499);let Z=(0,o.createContext)(null);function _(){let e=(0,o.useContext)(Z);if(!e)throw Error("useAppointmentFormContext must be used within an AppointmentFormContext.Provider");return e}var L=n(32267),V=n(17848);let K=[{value:"male",label:"Male"},{value:"female",label:"Female"}],U=(0,o.memo)(e=>{var t,n,o,i,r;let{phoneDisabled:d,doctorChamberId:c,onPatientSelect:m}=e,{control:p,setValue:h,watch:f,formState:{errors:x}}=_(),y=(0,B.C)(e=>e.auth.diagnostic),j=(0,u.bc)({control:p,name:"phoneNumber"}),T=(0,u.bc)({control:p,name:"fullName"}),C=(0,u.bc)({control:p,name:"age"}),w=(0,u.bc)({control:p,name:"gender"}),A=(0,u.bc)({control:p,name:"address"}),S=(0,u.bc)({control:p,name:"district"}),z=(0,u.bc)({control:p,name:"thana"}),q=j.field.value.trim()===(null!==(r=null!==(i=null==y?void 0:y.phone1)&&void 0!==i?i:null==y?void 0:y.phone2)&&void 0!==r?r:"01851503939");return(0,a.jsxs)(l.Stack,{gap:"lg",children:[d?(0,a.jsxs)(v.Box,{children:[(0,a.jsx)(g.Text,{c:"dimmed",size:"sm",mb:12,children:"Patient Number can not be changed"}),(0,a.jsx)(I.Y,{value:j.field.value,disabled:!0,hideControls:!0})]}):(0,a.jsxs)(l.Stack,{gap:2,children:[(0,a.jsx)(O,{label:"Phone Number",doctorChamberId:c,required:!0,value:j.field.value,onChange:e=>h("phoneNumber",e),onPatientSelect:m,error:null===(t=x.phoneNumber)||void 0===t?void 0:t.message}),(0,a.jsx)(k.r,{checked:q,label:"Default phone",onChange:e=>{if(e.currentTarget.checked){var t,n;h("phoneNumber",null!==(n=null!==(t=null==y?void 0:y.phone1)&&void 0!==t?t:null==y?void 0:y.phone2)&&void 0!==n?n:"01851503939")}else h("phoneNumber","")},mt:12})]}),(0,a.jsx)(P.TextInput,{label:"Full Name",placeholder:"Enter patient's full name",required:!0,value:T.field.value,onChange:T.field.onChange,onBlur:T.field.onBlur,error:null===(n=x.fullName)||void 0===n?void 0:n.message}),(0,a.jsx)(I.Y,{label:"Age",placeholder:"Enter age",min:0,max:150,required:!0,size:"sm",labelProps:{style:{marginBottom:10}},value:C.field.value?Number(C.field.value):void 0,onChange:e=>h("age",(null==e?void 0:e.toString())||""),onBlur:C.field.onBlur,error:null===(o=x.age)||void 0===o?void 0:o.message}),(0,a.jsx)(b.Group,{grow:!0,children:(0,a.jsxs)(v.Box,{children:[(0,a.jsx)(g.Text,{size:"sm",fw:500,mb:"xs",children:"Gender"}),(0,a.jsx)(E.s,{w:"100%",value:w.field.value,onChange:e=>h("gender",e),data:K,color:"blue",styles:{indicator:{backgroundColor:"var(--mantine-color-blue-6)"}}})]})}),(0,a.jsx)(N.g,{label:"Address",value:A.field.value||"",placeholder:"Enter Patient Address",onChange:A.field.onChange,onBlur:A.field.onBlur,minRows:2,maxRows:4}),(0,a.jsxs)(s.k,{gap:"md",children:[(0,a.jsx)(D.P,{label:"Enter District",placeholder:"Pick value",data:L.map(e=>({label:e.name,value:e.name})),value:S.field.value||null,onChange:e=>{h("district",e||""),h("thana","")},searchable:!0,style:{flex:1}}),(0,a.jsx)(D.P,{label:"Thana / Upazila",placeholder:"Pick value",data:V.filter(e=>e.district_id===S.field.value).map(e=>({label:e.name,value:e.name})),value:z.field.value||null,onChange:e=>h("thana",e||""),searchable:!0,disabled:!S.field.value,style:{flex:1}})]})]})});U.displayName="PatientInfoSection";var W=n(46373),Y=n(13342),H=n(9326);let X=[{value:"FIRST_VISIT",label:"First Visit"},{value:"OLD_VISIT",label:"Old Visit"}],Q=(0,o.memo)(e=>{var t,n,i;let{payableAmount:r,defaultData:s,doctorChamberId:d,selectedDate:c}=e,{control:m,setValue:h,formState:{errors:f}}=_(),y=(0,u.qo)({control:m,name:"discountType"}),j=(0,u.qo)({control:m,name:"discount"}),T=(0,u.qo)({control:m,name:"paidAmount"}),C=(0,u.qo)({control:m,name:"appointmentType"}),w=(0,u.qo)({control:m,name:"tests"}),A=(0,u.bc)({control:m,name:"paidAmount"}),S=(0,u.bc)({control:m,name:"discount"}),[P,N]=(0,p.I)({key:"isFeeIncluded",defaultValue:!1}),D=(0,u.bc)({control:m,name:"isFeeIncluded",defaultValue:P?"true":"false"});(0,o.useEffect)(()=>{D.field.onChange(P?"true":"false")},[P]);let z="number"==typeof T?T:Number(T)||0,q="number"==typeof j?j:Number(j)||0,G=P?0:r[C]||0,M=Math.max(0,G+(0,o.useMemo)(()=>w&&Array.isArray(w)&&0!==w.length?w.reduce((e,t)=>e+(("number"==typeof t.price?t.price:0)-("number"==typeof t.discount?t.discount:0)),0):0,[w])-(0,o.useMemo)(()=>q&&y?"amount"===y?Math.min(q,G):"percentage"===y?Math.round(G*q/100):0:0,[q,y,G])),R=z>0&&z>M,F=z>0&&z===M,O="percentage"===y&&!!q&&!!z,[B,Z]=(0,o.useState)("automatic");return(0,a.jsxs)(l.Stack,{gap:"xl",children:[(0,a.jsxs)(v.Box,{children:[(0,a.jsx)(g.Text,{size:"sm",fw:500,mb:"xs",children:"Appointment Type"}),(0,a.jsx)(E.s,{fullWidth:!0,value:C,onChange:e=>h("appointmentType",e),data:X,color:"blue",styles:{indicator:{backgroundColor:"var(--mantine-color-blue-6)"}}})]}),(0,a.jsxs)(l.Stack,{children:[(0,a.jsx)(I.Y,{label:(0,a.jsxs)(g.Text,{display:"inline-block",mb:12,size:"sm",fw:500,c:"dark.6",children:["Paid Amount"," ",M>0&&(0,a.jsxs)(g.Text,{component:"span",size:"sm",c:"red",children:["(Payable - ",M," TK)"]})]}),placeholder:"0",min:0,max:M,required:!0,value:"number"==typeof A.field.value?A.field.value:void 0,onChange:e=>h("paidAmount","number"==typeof e?e:0),onBlur:A.field.onBlur,error:null===(t=f.paidAmount)||void 0===t?void 0:t.message}),w&&w.length>0&&(0,a.jsx)(x.u,{label:"If checked, the doctor's fee will be included with the tests",children:(0,a.jsxs)(b.Group,{gap:"xs",mt:"xs",children:[(0,a.jsx)(k.r,{checked:"true"===D.field.value,onChange:e=>N(e.currentTarget.checked)}),(0,a.jsx)(g.Text,{size:"sm",children:"Test Includes Doctor Fee"})]})})]}),R&&(0,a.jsxs)(W.b,{icon:(0,a.jsx)(H.Z,{size:16}),color:"yellow",title:"Amount Exceeds",children:["Paid amount cannot exceed payable amount of ",M," Tk"]}),(0,a.jsxs)(Y.m,{value:y||"none",onChange:e=>{"none"===e?(h("discount",void 0),h("discountType",void 0)):h("discountType",e)},children:[(0,a.jsxs)(Y.m.List,{children:[(0,a.jsx)(Y.m.Tab,{value:"none",children:"None"}),(0,a.jsx)(Y.m.Tab,{value:"amount",disabled:F,children:"Amount"}),(0,a.jsx)(Y.m.Tab,{value:"percentage",disabled:F,children:"Percent"})]}),(0,a.jsx)(Y.m.Panel,{value:"none",pt:"xs",children:(0,a.jsx)(g.Text,{display:"inline-block",mb:12,size:"sm",fw:500,c:"dimmed",children:F?"Full payment made - Discount disabled":"No Discount Applied"})}),(0,a.jsx)(Y.m.Panel,{value:"amount",pt:"xs",children:(0,a.jsx)(I.Y,{label:(0,a.jsxs)(g.Text,{display:"inline-block",mb:12,size:"sm",fw:500,c:"dark.6",children:["Max Discount"," ",G>0&&(0,a.jsxs)(g.Text,{component:"span",size:"sm",c:"red",children:["( ",G," TK)"]})]}),placeholder:"Enter the discount amount",min:0,max:G,required:!0,value:"number"==typeof S.field.value?S.field.value:void 0,onChange:e=>h("discount","number"==typeof e?e:void 0),onBlur:S.field.onBlur,error:null===(n=f.discount)||void 0===n?void 0:n.message})}),(0,a.jsxs)(Y.m.Panel,{value:"percentage",pt:"xs",children:[(0,a.jsx)(I.Y,{value:"number"==typeof j?j:void 0,onChange:e=>h("discount",null!=e?e:void 0),label:(0,a.jsxs)(g.Text,{display:"inline-block",mb:12,size:"sm",fw:500,c:"dark.6",children:["Discount"," ",(0,a.jsx)(g.Text,{component:"span",size:"sm",c:"red",children:"(100%)"})]}),placeholder:"Enter the discount amount",required:!1,min:0,max:100,disabled:F,error:null===(i=f.discount)||void 0===i?void 0:i.message}),O&&(0,a.jsxs)(g.Text,{size:"sm",c:"dimmed",mt:"xs",children:["Discount Amount: ",Math.floor(G*q/100)," Tk"]})]})]})]})});Q.displayName="AppointmentDetailsSection";var J=n(44176),$=n(53729),ee=n(4923),et=n(46557),en=n(74559),ea=n(17135);let eo=(0,o.memo)(e=>{let{selectedPc:t,onPcChange:n,onPcAmountChange:r,onPcSelect:s}=e,[d,{open:c,close:m}]=(0,et.q)(!1),{control:p,setValue:x,getValues:y}=_(),j=(0,u.qo)({control:p,name:"pcEnabled"}),T=(0,u.qo)({control:p,name:"pCId"}),C=(0,u.qo)({control:p,name:"pcAmount"}),w=(0,u.qo)({control:p,name:"paidAmount"}),A=(0,B.C)(en.nC),{data:S,refetch:I}=(0,h.K0)(),E=(0,o.useMemo)(()=>(null==S?void 0:S.data)||[],[null==S?void 0:S.data]),N=(0,o.useMemo)(()=>(null==E?void 0:E.map(e=>({value:null==e?void 0:e.id,label:"".concat(null==e?void 0:e.name," - ").concat(null==e?void 0:e.mobile)})))||[],[E]),z=(0,o.useCallback)(e=>{if(!e){x("pcAmount","");return}let t=parseFloat(e);isNaN(t)||t<0||(w>0&&t>w?x("pcAmount",w.toString()):x("pcAmount",e),r(e))},[x,w,r]);return(0,a.jsxs)(l.Stack,{gap:"lg",children:[(0,a.jsx)(f.Z,{withBorder:!0,p:"md",bg:"gray.0",children:(0,a.jsxs)(b.Group,{justify:"space-between",align:"center",wrap:"nowrap",children:[(0,a.jsxs)(v.Box,{children:[(0,a.jsx)(g.Text,{fw:500,size:"sm",children:"Enable PC Selection"}),(0,a.jsx)(g.Text,{size:"xs",c:"dimmed",children:"Optional: Select a PC"})]}),(0,a.jsx)(k.r,{checked:j,onChange:e=>x("pcEnabled",e.currentTarget.checked),size:"md",color:"blue"})]})}),j&&(0,a.jsx)(J.u,{mounted:j,transition:"slide-down",duration:200,children:e=>(0,a.jsxs)(v.Box,{style:e,children:[(0,a.jsx)(D.P,{label:"PC Name",placeholder:"Select or Search PC",data:N,value:T||null,onChange:n,searchable:!0,clearable:!0,rightSection:(0,a.jsx)(F.Z,{style:{width:(0,$.h)(16),height:(0,$.h)(16)},stroke:1.5}),limit:20,maxDropdownHeight:200,nothingFoundMessage:"receptionist"===A||"admin"===A?(0,a.jsx)(ee.k,{onClick:c,bg:"#F1F3F5",p:6,className:"w-100 text-center",children:"Add new PC"}):"No PC Found"}),t&&(0,a.jsx)(P.TextInput,{label:(0,a.jsxs)(g.Text,{size:"sm",fw:500,c:"dark.6",children:["PC Amount"," ",w>0&&(0,a.jsxs)(g.Text,{component:"span",size:"sm",c:"red",children:["(Max: à§³",w,")"]})]}),placeholder:"Enter PC amount",type:"number",min:0,max:w||void 0,value:C||"",onChange:e=>{var t;return z(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.value)},mt:"md"})]})}),(0,a.jsx)(i.u,{opened:d,onClose:m,title:"Add New PC",centered:!0,children:(0,a.jsx)(ea._,{onValue:e=>{x("pCId",null==e?void 0:e.id),s(e),setTimeout(()=>{null==I||I()},1e3),m()}})})]})});eo.displayName="PCDetailsSection";var ei=n(54632),er=n(85033),el=n(73626),es=n(38254),ed=n(53502);let eu=(0,o.memo)(function(e){let{testId:t,initialValue:n,onUpdate:i}=e,[r,l]=(0,o.useState)(n);(0,o.useEffect)(()=>{l(n)},[n]);let s=(0,el.y)(e=>{i(t,e)},300);return(0,a.jsx)(I.Y,{value:r,onChange:e=>{let t="number"==typeof e?e:0;l(t),s(t)},min:0,placeholder:"Enter price",hideControls:!0,maw:100,styles:{input:{border:"none",padding:"4px 8px"}}})}),ec=(0,o.memo)(function(e){let{testId:t,initialValue:n,maxValue:i,onUpdate:r}=e,[l,s]=(0,o.useState)(n);(0,o.useEffect)(()=>{s(n)},[n]);let d=(0,el.y)(e=>{r(t,e)},300);return(0,a.jsx)(I.Y,{value:l,onChange:e=>{let t="number"==typeof e?e:0;s(t),d(t)},min:0,max:i,placeholder:"Enter discount",hideControls:!0,maw:100,styles:{input:{border:"none",padding:"4px 8px"}}})}),em=(0,o.memo)(function(e){let{test:t,index:n,onPriceUpdate:o,onDiscountUpdate:i}=e;return(0,a.jsxs)(ei.i.Tr,{children:[(0,a.jsx)(ei.i.Td,{children:n+1}),(0,a.jsx)(ei.i.Td,{children:t.name}),(0,a.jsx)(ei.i.Td,{children:(0,a.jsx)(eu,{testId:t.testId,initialValue:t.price||0,onUpdate:o})}),(0,a.jsx)(ei.i.Td,{children:(0,a.jsx)(ec,{testId:t.testId,initialValue:t.discount||0,maxValue:t.price||100,onUpdate:i})})]})}),ep=(0,o.memo)(function(e){let{tests:t,onPriceUpdate:n,onDiscountUpdate:o}=e;return 0===t.length?null:(0,a.jsx)(ei.i.ScrollContainer,{minWidth:400,children:(0,a.jsxs)(ei.i,{striped:!0,highlightOnHover:!0,children:[(0,a.jsx)(ei.i.Thead,{children:(0,a.jsxs)(ei.i.Tr,{children:[(0,a.jsx)(ei.i.Th,{children:"S.L"}),(0,a.jsx)(ei.i.Th,{children:"Name"}),(0,a.jsx)(ei.i.Th,{children:"Price"}),(0,a.jsx)(ei.i.Th,{children:"Discount"})]})}),(0,a.jsx)(ei.i.Tbody,{children:t.map((e,t)=>(0,a.jsx)(em,{test:e,index:t,onPriceUpdate:n,onDiscountUpdate:o},e.testId))})]})})}),eh=(0,o.memo)(()=>{let{control:e,setValue:t,getValues:n}=_(),[i,r]=(0,p.I)({key:"show-tests-appointment",defaultValue:!1}),s=(0,u.qo)({control:e,name:"tests"})||[];(0,es.x)();let d=(0,ed.v9)(e=>e.tests),c=(0,o.useMemo)(()=>d.adminTests||[],[d.adminTests]),m=(0,o.useMemo)(()=>c&&0!==c.length?c.map(e=>({value:e.id,label:e.name})):[],[c]),h=(0,o.useCallback)(e=>{let a=n("tests")||[];t("tests",e.map(e=>{var t;let n=a.find(t=>t.testId===e);if(n)return n;let o=null==c?void 0:c.find(t=>t.id===e);return{testId:e,name:(null==o?void 0:o.name)||"",price:(null==o?void 0:o.price)||0,discount:(null==o?void 0:o.discount)||0,discountType:null==o?void 0:o.discountType,roomNo:null!==(t=null==o?void 0:o.roomNo)&&void 0!==t?t:null}}))},[c,t,n]),x=(0,o.useCallback)((e,a)=>{t("tests",(n("tests")||[]).map(t=>t.testId===e?{...t,price:a}:t))},[t,n]),y=(0,o.useCallback)((e,a)=>{t("tests",(n("tests")||[]).map(t=>t.testId===e?{...t,discount:a}:t))},[t,n]);return(0,a.jsxs)(l.Stack,{gap:"lg",children:[(0,a.jsx)(f.Z,{withBorder:!0,p:"md",bg:"gray.0",children:(0,a.jsxs)(b.Group,{justify:"space-between",align:"center",children:[(0,a.jsxs)(v.Box,{children:[(0,a.jsx)(g.Text,{fw:500,size:"sm",children:"Enable Test Selection"}),(0,a.jsx)(g.Text,{size:"xs",c:"dimmed",children:"Optional: Select a test"})]}),(0,a.jsx)(k.r,{checked:i,onChange:()=>r(!i),size:"md",color:"blue"})]})}),i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(er.N,{label:"Select tests",placeholder:"Choose tests",data:m,value:s.map(e=>e.testId),onChange:h,searchable:!0,clearable:!0,maxDropdownHeight:200}),(0,a.jsx)(ep,{tests:s,onPriceUpdate:x,onDiscountUpdate:y})]})]})});eh.displayName="TestsSection";var ef=n(24049);let ev=ef.Ry({phoneNumber:ef.Z_().min(1,"Phone number is required"),fullName:ef.Z_().min(1,"Full name is required"),age:ef.Z_().min(1,"Age is required"),gender:ef.Km(["male","female"]),address:ef.Z_().optional().default(""),district:ef.Z_().optional().default(""),thana:ef.Z_().optional().default(""),appointmentLabel:ef.Km(["GENERAL","VIP","URGENT","PC"]),appointmentType:ef.Km(["FIRST_VISIT","OLD_VISIT"]),paidAmount:ef.G0([ef.Rx(),ef.i0("")]),discount:ef.G0([ef.Rx(),ef.i0("")]).optional(),discountType:ef.Km(["amount","percentage"]).optional(),tests:ef.IX(ef.Ry({testId:ef.Z_(),name:ef.Z_(),price:ef.Rx(),discount:ef.Rx(),discountType:ef.Z_().optional(),roomNo:ef.Z_().nullable().optional()})).optional(),slotId:ef.Z_().optional(),selectedTime:ef.Z_().optional(),selectedSlotType:ef.Km(["available","reserved"]).optional(),pcEnabled:ef.O7(),pCId:ef.Z_().optional(),pcAmount:ef.G0([ef.Z_(),ef.i0("")]).optional(),isFeeIncluded:ef.Km(["true","false"]).optional()});var ex=e=>{var t;let{opened:n,onClose:f,doctorName:v,sessionName:x,date:g,slotTime:b,doctorChamberId:y,handleSubmit:j,defaultData:T,serialNo:C,payableAmount:w,slotId:A,phoneDisabled:I}=e,[k,P]=(0,o.useState)(null),E=(0,m.a)("(max-width: 50em)"),{data:N}=(0,h.K0)(),D=(0,o.useMemo)(()=>(null==N?void 0:N.data)||[],[null==N?void 0:N.data]),z=(0,u.cI)({defaultValues:{phoneNumber:(null==T?void 0:T.phone)||"",fullName:(null==T?void 0:T.fullname)||"",age:(null==T?void 0:T.age)||"",address:(null==T?void 0:T.address)||"",district:(null==T?void 0:T.district)||"",thana:(null==T?void 0:T.thana)||"",gender:(null==T?void 0:T.gender)||"male",appointmentLabel:(null==T?void 0:T.appointmentLabel)||"GENERAL",appointmentType:(null==T?void 0:T.appointmentType)||"FIRST_VISIT",paidAmount:null!==(t=null==T?void 0:T.paidAmount)&&void 0!==t?t:0,pcEnabled:(null==T?void 0:T.pcEnabled)||!1,pCId:null==T?void 0:T.pCId,pcAmount:null==T?void 0:T.pcAmount,discount:null==T?void 0:T.discount,discountType:null==T?void 0:T.discountType,tests:null==T?void 0:T.tests,slotId:A},mode:"onBlur",resolver:(0,c.F)(ev)}),{reset:q,setValue:G,getValues:M,formState:{errors:R}}=z;(0,o.useEffect)(()=>{if((null==T?void 0:T.pCId)&&D.length>0){let e=D.find(e=>(null==e?void 0:e.id)===T.pCId);e&&P(e)}},[null==T?void 0:T.pCId,D]);let F=(0,o.useCallback)(e=>{e?(P((null==D?void 0:D.find(t=>(null==t?void 0:t.id)===e))||null),G("pCId",e)):(P(null),G("pCId",""),G("pcAmount",""))},[D,G]),O=(0,o.useCallback)(e=>{if(!e){G("pcAmount","");return}let t=parseFloat(e);if(isNaN(t)||t<0)return;let n=M("paidAmount");n>0&&t>n?G("pcAmount",n.toString()):G("pcAmount",e)},[G,M]),B=(0,o.useCallback)(e=>{G("fullName",e.name),G("age",e.ageYear.toString()),G("gender",e.gender),e.hasRecentAppointment&&G("appointmentType","OLD_VISIT")},[G]),_=(0,o.useCallback)(e=>{P(e)},[]),L=(0,o.useCallback)(()=>{q(),P(null),f()},[q,f]),V=(0,o.useRef)(null),[K]=(0,p.I)({key:"show-tests-appointment",defaultValue:!1}),W=(0,o.useCallback)(e=>{j(e,q)},[j,q]);return(0,a.jsxs)(i.u.Root,{opened:n,onClose:L,size:E?"100%":"1200px",padding:E?"sm":30,centered:!0,fullScreen:E,children:[(0,a.jsx)(i.u.Overlay,{}),(0,a.jsx)(i.u.Content,{ref:V,style:{overflowX:"hidden"},children:(0,a.jsxs)(i.u.Body,{style:{position:"relative"},children:[(0,a.jsx)(S,{doctorName:v,sessionName:x,date:g,slotTime:b,serialNo:C}),(0,a.jsx)(Z.Provider,{value:z,children:(0,a.jsx)("form",{onSubmit:e=>e.preventDefault(),children:(0,a.jsxs)(r.Grid,{columns:7,gutter:"xl",children:[(0,a.jsx)(r.Grid.Col,{span:{base:7,md:K?3:"auto",lg:"auto"},style:{borderRight:"1px solid var(--mantine-color-gray-3)"},children:(0,a.jsx)(U,{phoneDisabled:I,doctorChamberId:y,onPatientSelect:B})}),K&&(0,a.jsx)(r.Grid.Col,{span:{base:7,md:4,lg:3},style:{borderRight:"1px solid var(--mantine-color-gray-3)"},children:(0,a.jsx)(eh,{})}),(0,a.jsx)(r.Grid.Col,{span:{base:7,md:K?7:"auto",lg:"auto"},children:(0,a.jsxs)(l.Stack,{children:[!K&&(0,a.jsx)(eh,{}),(0,a.jsx)(eo,{payableAmount:w,selectedPc:k,onPcChange:F,onPcAmountChange:O,onPcSelect:_}),(0,a.jsx)(Q,{currentSection:1,payableAmount:w,doctorChamberId:y,selectedDate:new Date(g)})]})})]})})}),(0,a.jsx)(s.k,{mt:"xl",py:"xs",direction:{base:"column-reverse",xs:"row"},gap:"sm",justify:"flex-end",style:{borderTop:"1px solid var(--mantine-color-gray-3)",position:"sticky",bottom:0,background:"white",zIndex:10},children:(0,a.jsx)(d.Button,{color:"green",onClick:()=>{z.handleSubmit(W)()},fullWidth:E,children:"Submit Appointment"})})]})})]})}},84153:function(e,t,n){var a=n(68328),o=n(89043),i=n(22041),r=n(41224),l=n(31204),s=n(9323),d=n(65850),u=n(42870),c=n(42116),m=n(4505);let p=(0,m.memo)(e=>{let{PDFTemplate:t}=e,[n,r]=(0,d.Eb)({document:(0,a.jsx)(t,{})});return((0,m.useEffect)(()=>{let e,o=0;return n.error&&(console.log("PDF ERROR: ",n.error),n.error&&o<3&&(e=setTimeout(()=>{console.log("Retrying PDF generation attempt ".concat(o+1,"/").concat(3)),r((0,a.jsx)(t,{})),o++},2e3))),()=>{e&&clearTimeout(e)}},[t,n.error,r]),n.loading)?(0,a.jsx)(o.X,{shadow:"xs",p:"xl",withBorder:!0,children:(0,a.jsx)(i.Text,{size:"lg",ta:"center",children:"Loading PDF..."})}):n.error?(0,a.jsx)(o.X,{shadow:"xs",p:"xl",withBorder:!0,bg:"red.1",children:(0,a.jsxs)(i.Text,{c:"red",size:"lg",ta:"center",children:["Error loading PDF. Attempting to reload...",JSON.stringify(n.error)]})}):(0,a.jsx)(h,{instance:n})});p.displayName="RenderReactPdfWithRetry";let h=(0,m.memo)(e=>{let{instance:t}=e,n=(0,s.a)("(max-width: 768px)");return t.url?n?(0,a.jsxs)(r.Stack,{align:"center",justify:"center",gap:"lg",p:"xl",h:"100%",children:[(0,a.jsx)(i.Text,{size:"lg",fw:500,ta:"center",c:"dimmed",children:"PDF preview is not available on mobile devices"}),(0,a.jsx)(l.Button,{component:"a",href:t.url,download:"document.pdf",leftSection:(0,a.jsx)(u.Z,{size:24}),children:"Download PDF"}),(0,a.jsx)(i.Text,{size:"sm",c:"dimmed",ta:"center",children:"Tap the button above to download and view the PDF"})]}):(0,a.jsx)("iframe",{src:t.url,width:"100%",height:"1000px",style:{border:"none"}}):null});h.displayName="PDFPreview",t.Z=(0,c.default)(()=>Promise.resolve(p),{ssr:!1})},38254:function(e,t,n){n.d(t,{x:function(){return l}});var a=n(83501),o=n(25499),i=n(25626),r=n(4505);let l=()=>{let e=(0,o.C)(e=>e.tests),t=(0,o.T)();(0,r.useEffect)(()=>{let n=async()=>{let{success:e,data:n}=await (0,a.Y)();if(e){let e=n.map(e=>{var t;return null==e?void 0:null===(t=e.tests)||void 0===t?void 0:t.map(e=>e)}).flat();t((0,i._W)(e))}else console.error(n)};(null==e?void 0:e.adminTests)||n()},[])}},14803:function(e,t,n){n.d(t,{Q:function(){return i}});var a=n(12450),o=n(4505);function i(e){let t=(0,a.useRouter)(),n=(0,a.useSearchParams)(),[i,r]=(0,o.useState)(!1);(0,o.useEffect)(()=>{r("true"===n.get(e))},[n,e]);let l=(0,o.useCallback)(()=>{let a=new URLSearchParams(Array.from(n.entries()));a.set(e,"true");let o=a.toString();t.push("".concat(window.location.pathname).concat(o?"?".concat(o):""),{scroll:!1})},[t,n,e]),s=(0,o.useCallback)(()=>{let a=new URLSearchParams(Array.from(n.entries()));a.delete(e);let o=a.toString();t.replace("".concat(window.location.pathname).concat(o?"?".concat(o):""),{scroll:!1})},[t,n,e]);return(0,o.useEffect)(()=>{let t=()=>{r("true"===new URLSearchParams(window.location.search).get(e))};return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)},[e]),{opened:i,open:l,close:s}}},83501:function(e,t,n){n.d(t,{Y:function(){return i}});var a=n(49854),o=n(67732);let i=async()=>{try{let e=await (0,a.d)("testCategory/admin");return{success:!0,data:e.data}}catch(t){if(t instanceof o.d7){var e;return{success:!1,data:null===(e=t.response)||void 0===e?void 0:e.data.message}}return{success:!1,data:"An error occurred"}}}},25922:function(e,t,n){n.d(t,{BG:function(){return v},Fp:function(){return x},LW:function(){return a},U6:function(){return p},XK:function(){return f},_C:function(){return l},bX:function(){return i},ei:function(){return o},lF:function(){return m},mu:function(){return d},mx:function(){return s},tP:function(){return c}});let{useGetAllDoctorQuery:a,useGetDoctorQuery:o,useGetSingleDoctorQuery:i,useGetAllTimeSlotQuery:r,useCreateAppointmentMutation:l,useAllAppointmentsQuery:s,useGetAppointmentDashboardQuery:d,useUpdateAppointmentMutation:u,useCreateReservedAppointmentMutation:c,useGetAllReservedTimeSlotQuery:m,useStartQueueMutation:p,useGetRunningSessionsQuery:h,useGetAppointmentQuery:f,useAllAppointmentsWithoutGroupingQuery:v,useGetSingleDoctorTestsQuery:x}=n(78101).g.injectEndpoints({endpoints:e=>({getAllDoctor:e.query({query:()=>({url:"/doctorchamber",method:"GET"}),providesTags:["doctor"],transformResponse:e=>({data:e.data})}),getAllAdminDoctor:e.query({query:()=>({url:"/doctorchamber",method:"GET"}),providesTags:["doctor"],transformResponse:e=>({data:e.data})}),getDoctor:e.query({query:e=>({url:"/doctorchamber/".concat(e),method:"GET"}),providesTags:["doctor"],transformResponse:e=>({data:e.data})}),getSingleDoctor:e.query({query:e=>({url:"/doctor/".concat(e),method:"GET"}),providesTags:["doctor"],transformResponse:e=>({data:e.data})}),getAppointmentDashboard:e.query({query:e=>{let{from:t,to:n}=e;return{url:"/appointment/dashboard",method:"GET",params:{from:t instanceof Date?t.toISOString():t,to:n instanceof Date?n.toISOString():n}}},providesTags:["doctor"],keepUnusedDataFor:86400,transformResponse:e=>e}),getAllTimeSlot:e.query({query:e=>({url:"appointment/available-time-slots",method:"GET",params:e}),providesTags:["appointment"],transformResponse:e=>({data:e.data})}),createAppointment:e.mutation({query:e=>({url:"/appointment",method:"POST",body:e}),invalidatesTags:["appointment"]}),getAllReservedTimeSlot:e.query({query:e=>({url:"appointment/reserved-slots",method:"GET",params:e}),providesTags:["appointment"],transformResponse:e=>({data:e.data})}),createReservedAppointment:e.mutation({query:e=>({url:"/appointment/fill-reserved",method:"POST",body:e}),invalidatesTags:["appointment"]}),updateAppointment:e.mutation({query:e=>{let{id:t,...n}=e;return{url:"/appointment/".concat(t),method:"PATCH",body:n}},invalidatesTags:["appointment"]}),allAppointments:e.query({query:e=>({url:"/appointment/doctor",method:"GET",params:e}),providesTags:["appointment"],transformResponse:e=>({data:e.data})}),allAppointmentsWithoutGrouping:e.query({query:e=>({url:"/appointment",method:"GET",params:e}),transformResponse:e=>{var t;return{data:null===(t=e.data)||void 0===t?void 0:t.items}}}),startQueue:e.mutation({query:e=>({url:"/appointment/start-queue",method:"POST",body:e}),invalidatesTags:["appointment"]}),getRunningSessions:e.query({query:()=>({url:"/appointment/live/running-sessions",method:"GET"}),providesTags:["appointment"],transformResponse:e=>({message:e.message,sessions:e.sessions})}),getAppointment:e.query({query:e=>({url:"/appointment/".concat(e),method:"GET"}),providesTags:["appointment"],transformResponse:e=>({data:e.data})}),getSingleDoctorTests:e.query({query:e=>({url:"/doctor/".concat(e,"/tests")})})})})},17382:function(e,t,n){n.d(t,{ju:function(){return o},n8:function(){return i},wX:function(){return a}});let{useGetPatientDetailsInfoQuery:a,useLazyGetPatientDetailsInfoQuery:o,useLazyGetPatientInfoQuery:i}=n(78101).g.injectEndpoints({endpoints:e=>({getPatientDetailsInfo:e.query({query:e=>{let{param:t,args:n}=e;return{url:"patient/appointment/".concat(t),method:"GET",params:n}},providesTags:["patient"],transformResponse:e=>({data:e.data})}),getPatientInfo:e.query({query:e=>({url:"patient/info",method:"GET",params:e}),providesTags:["patient"],transformResponse:e=>e.data})})})},78101:function(e,t,n){n.d(t,{g:function(){return l}});var a=n(49854),o=n(68240),i=n(94183),r=n(28317);let l=(0,o.LC)({baseQuery:(0,i.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async n=>{let o="string"==typeof e?e:e.url;return o.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,r.t8)(o,await n.clone().json().catch(()=>null),(0,a.x)()),n}).catch(async n=>{if(n instanceof TypeError){let n="string"==typeof e?e:e.url;if(!n.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,r.U2)(n,(0,a.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw n})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},74559:function(e,t,n){n.d(t,{Im:function(){return r},av:function(){return i},nC:function(){return o}});let a=(0,n(79258).createSlice)({name:"auth",initialState:{isAuth:null,user:null,isProfileIncomplete:!1,diagnostic:null},reducers:{setUser:(e,t)=>{var n;e.user=t.payload,e.isAuth=!!t.payload,(null===(n=t.payload)||void 0===n?void 0:n.name)?localStorage.setItem("name",t.payload.name):localStorage.removeItem("name")},setDiagnostic:(e,t)=>{let n=t.payload;"hospital.sasthotech.com"===window.location.hostname?n.activeLogo=n.logo:n.activeLogo=n.offlineLogo,e.diagnostic=n},setProfileIncomplete:(e,t)=>{e.isProfileIncomplete=t.payload}}}),o=e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.role},{setUser:i,setDiagnostic:r}=a.actions;t.ZP=a.reducer},25626:function(e,t,n){let a;n.d(t,{H3:function(){return u},Z2:function(){return m},Zw:function(){return g},_W:function(){return d},gu:function(){return h},lF:function(){return f},mC:function(){return x},s9:function(){return p},se:function(){return v}});var o=n(79258),i=n(69192),r=n(28317);function l(){return a||(a=(0,r.MT)("test-frequency-store","test-frequency")),a}let s=new Intl.Collator,d=(0,o.createAsyncThunk)("tests/setAdminTests",async e=>{let t=await (0,r.qh)().catch(()=>[]);return t.length?(await (0,r.vw)(t,l()),(0,r.ZH)()):t=await (0,r.qh)(l()).catch(()=>[]),[e,t]}),u=(0,o.createAsyncThunk)("tests/increaseTestFrequencies",async e=>(await Promise.all(e.map(e=>(0,r.Vx)(e.id,e=>(e||0)+1),l())).catch(),await (0,r.qh)(l()).catch(()=>[]))),c=(0,o.createSlice)({name:"tests",initialState:{adminCategories:[],adminTests:null,superAdminCategories:[]},reducers:{setAdminCategories:(e,t)=>{e.adminCategories=t.payload},removeAdminCategories:(e,t)=>{var n;e.adminCategories=null===(n=e.adminCategories)||void 0===n?void 0:n.filter(e=>e.id!==t.payload.id)},updateTestsInAdminCategories:(e,t)=>{var n;let a=t.payload;console.log(a),e.adminCategories=null===(n=e.adminCategories)||void 0===n?void 0:n.map(e=>({...e,tests:e.tests.map(e=>a.find(t=>t.id===e.id)||e)}))},removeTestFromAdminCategories:(e,t)=>{var n;e.adminCategories=null===(n=e.adminCategories)||void 0===n?void 0:n.map(e=>({...e,tests:e.tests.filter(e=>e.id!==t.payload.id)}))},removeTestFromSuperAdminCategories:(e,t)=>{var n;e.superAdminCategories=null===(n=e.superAdminCategories)||void 0===n?void 0:n.map(e=>({...e,tests:e.tests.filter(e=>e.id!==t.payload.id)}))},setSuperAdminCategories:(e,t)=>{e.superAdminCategories=t.payload},removeSuperAdminCategories:(e,t)=>{var n;e.superAdminCategories=null===(n=e.superAdminCategories)||void 0===n?void 0:n.filter(e=>e.id!==t.payload.id)}},extraReducers:e=>{e.addCase(d.fulfilled,(e,t)=>{let n=t.payload[0],a=new Map(t.payload[1]);if(Array.isArray(n))e.adminTests=[...n];else{if(e.adminTests){let t=e.adminTests.findIndex(e=>e.id===n.id);t>=0?e.adminTests[t]=n:e.adminTests.push(n)}else e.adminTests=[n];if(e.adminCategories){for(let t=0;t<e.adminCategories.length;t++)for(let a=0;a<e.adminCategories[t].tests.length;a++)if(n.id===e.adminCategories[t].tests[a].id){e.adminCategories[t].tests[a]=n;break}}}e.adminTests.sort((e,t)=>{var n,o;return(null!==(n=a.get(t.id))&&void 0!==n?n:0)-(null!==(o=a.get(e.id))&&void 0!==o?o:0)||s.compare(e.name,t.name)})}),e.addCase(u.fulfilled,(e,t)=>{var n;let a=new Map(t.payload);null===(n=e.adminTests)||void 0===n||n.sort((e,t)=>{var n,o;return(null!==(n=a.get(t.id))&&void 0!==n?n:0)-(null!==(o=a.get(e.id))&&void 0!==o?o:0)||s.compare(e.name,t.name)})})}});(0,i.createSelector)([e=>e.tests.adminCategories],e=>new Map(null==e?void 0:e.map(e=>[+e.id,e])));let{setAdminCategories:m,removeAdminCategories:p,setSuperAdminCategories:h,removeSuperAdminCategories:f,removeTestFromAdminCategories:v,removeTestFromSuperAdminCategories:x,updateTestsInAdminCategories:g}=c.actions;t.ZP=c.reducer},88531:function(e,t,n){n.d(t,{V:function(){return function e(t){if(t in a)return a[t];let n="";return t>=1e5&&(n+=e(Math.floor(t/1e5))+" lac ",t%=1e5),t>=1e3&&(n+=e(Math.floor(t/1e3))+" thousand ",t%=1e3),t>=100&&(n+=e(Math.floor(t/100))+" hundred ",t%=100),t>0&&(""!==n&&(n+=" and "),t<20?n+=a[t]:(n+=a[10*Math.floor(t/10)],t%10>0&&(n+="-"+a[t%10]))),n}}});let a={0:"zero",1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen",17:"seventeen",18:"eighteen",19:"nineteen",20:"twenty",30:"thirty",40:"forty",50:"fifty",60:"sixty",70:"seventy",80:"eighty",90:"ninety"}}}]);