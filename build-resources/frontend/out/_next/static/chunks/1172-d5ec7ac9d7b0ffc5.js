(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1172],{70237:function(e,t,i){"use strict";i.r(t),i.d(t,{Axios:function(){return a},OFFLINE_MSG:function(){return r}});var n=i(6780),o=i(67732),s=i(4505);let r="You are offline!";function a(){return(0,s.useEffect)(()=>{n.default.interceptors.response.use(null,e=>{if(e instanceof o.d7){var t,i;e.code===o.d7.ERR_NETWORK?(e.response||(e.response={data:{},status:400,statusText:"Offline",headers:{},config:{headers:new o.uu},request:{}}),e.response.data.message=r):e.response&&/prisma/i.test(null===(i=e.response)||void 0===i?void 0:null===(t=i.data)||void 0===t?void 0:t.message)&&(e.response.data.message="An unexpected error occurred in server!")}return Promise.reject(e)})},[]),null}},91872:function(e,t,i){"use strict";i.r(t);var n=i(68328),o=i(32451),s=i(31204),r=i(22041),a=i(3741),l=i(4919),d=i(44131),c=i(86083),u=i(58011),p=i(12450);i(4505);var h=i(25499),m=i(8083);i(11190),t.default=()=>{let e=(0,p.useRouter)(),t=(0,h.C)(e=>e.auth),i=(0,m.m)(t,!0);return(0,n.jsxs)(o.Box,{children:[(0,n.jsx)(l.$,{actions:i.map((t,i)=>({id:t.href+i,label:t.title,description:t.description,onClick:()=>e.push(t.href),leftSection:t.icon})),nothingFound:"Nothing found...",highlightQuery:!0,scrollable:!0,maxHeight:"80vh",searchProps:{leftSection:(0,n.jsx)(c.Z,{}),placeholder:"Search..."}}),(0,n.jsx)(s.Button,{variant:"transparent",leftSection:(0,n.jsx)(u.Z,{size:22}),onClick:d.US.open,c:"dark.5",px:"xs",visibleFrom:"md",children:(0,n.jsx)(r.Text,{fw:500,children:"Quick access"})}),(0,n.jsxs)(a.A,{hiddenFrom:"md",variant:"transparent",onClick:d.US.open,c:"dark.5",mt:2,children:[(0,n.jsx)(u.Z,{size:22})," "]})]})}},51172:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return ep}});var n=i(68328),o=i(72940),s=i(49854),r=i(6780),a=i(28317);let l=async()=>{try{return await r.default.post("".concat("http://sasthotech.local:5000/api/v1","/auth/logout"),{},{...o.Hn,...o.FD}),await (0,a.ZH)((0,s.x)()),!0}catch(e){return!1}};var d=i(74559),c=i(25499),u=i(19870),p=i(22614),h=i(32451),m=i(3741),f=i(89822),g=i(74524),v=i(46557),x=i(62471),j=i(39314),w=i(49238),b=i(37895),y=i(78862),S=i(13520),Z=i(12450),A=i(4505),M=i(8083),C={src:"/_next/static/media/logo.8b515e53.png",height:559,width:1479,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAJFBMVEVMaXEaGRkZFxi+IjL/qJRdKCwdHR3/YIL/jY1DJyf/HHEcHBywmIyXAAAADHRSTlMAEU83Mz8aLQlTCS38koGpAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAIElEQVR4nGNgAAEWFg4GbiYmJiZOVnYGRjZGRkZmZi4AA8kAU3gYkDEAAAAASUVORK5CYII=",blurWidth:8,blurHeight:3},k=i(91872),D=i(77052),I=i(13603),T=i(78259),P=i(76607),B=i(67781);function L(e){let{flex:t}=e,i=(0,c.T)();return(0,n.jsx)(D.DatePickerInput,{flex:t,type:"range",allowSingleDateInRange:!0,valueFormat:"DD MMM, YYYY",placeholder:"Choose start and end dates",onChange:e=>{e[0]&&e[1]&&i((0,I.rm)([(0,T.Z)(new Date(e[0])).toISOString(),(0,P.Z)(new Date(e[1])).toISOString()]))},leftSection:(0,n.jsx)(B.Z,{size:22}),leftSectionWidth:42,maxDate:new Date,miw:230,defaultValue:[new Date,new Date],styles:{input:{backgroundColor:"var(--mantine-color-gray-0)",color:"var(--mantine-color-gray-8)",fontWeight:500},section:{color:"var(--mantine-color-gray-8)",paddingInline:"6px"}}})}var V=i(75865),O=i(31204),E=i(22041),N=i(52700),R=i(20819),W=i(58599),_=i(51334);function F(){return(0,c.C)(e=>{var t;return null===(t=e.auth.diagnostic)||void 0===t?void 0:t.isHospitalManagement})&&(0,n.jsxs)(V.v,{withArrow:!0,children:[(0,n.jsx)(V.v.Target,{children:(0,n.jsxs)(h.Box,{children:[(0,n.jsx)(O.Button,{variant:"transparent",leftSection:(0,n.jsx)(N.Z,{size:22}),c:"dark.5",px:"xs",visibleFrom:"md",children:(0,n.jsx)(E.Text,{fw:500,children:"Indoor"})}),(0,n.jsx)(m.A,{variant:"transparent",c:"dark.5",hiddenFrom:"md",children:(0,n.jsx)(N.Z,{})})]})}),(0,n.jsxs)(V.v.Dropdown,{children:[(0,n.jsx)(V.v.Item,{leftSection:(0,n.jsx)(R.Z,{}),component:S.default,href:"/indoor/in-patient-admission",children:"Patient Admission"}),(0,n.jsx)(V.v.Item,{leftSection:(0,n.jsx)(W.Z,{}),component:S.default,href:"/indoor/in-patient-admission?dayPatient=true",children:"Day Patient Admission"}),(0,n.jsx)(V.v.Item,{leftSection:(0,n.jsx)(_.Z,{}),component:S.default,href:"/indoor/in-patient-billing",children:"Patient Billing"})]})]})}var U=i(69022),H=i(29533),z=i(10779),G=i(68242),q=i(20447),Y=i(394);function Q(){let e=(0,c.C)(e=>e.offlineQueues),t=(0,c.C)(d.nC),i=(0,c.T)(),o=(null==e?void 0:e.indoorBillsCount)+(null==e?void 0:e.outdoorBillsCount),s=e.isError,[r,a]=(0,A.useTransition)();return(0,A.useEffect)(()=>{i((0,U.mJ)())},[i]),(0,A.useEffect)(()=>{if(!s&&o>0&&["admin","receptionist"].includes(null!=t?t:"")){let e=setInterval(()=>{a(()=>{i((0,U.Db)())})},5e3);return()=>clearInterval(e)}},[o,i,t,s]),o>0&&["admin","receptionist"].includes(null!=t?t:"")&&(0,n.jsxs)(H.J,{shadow:"md",width:200,children:[(0,n.jsx)(H.J.Target,{children:(0,n.jsx)(z.z,{ml:"auto",inline:!0,processing:r,label:o,color:"red",size:12,children:(0,n.jsx)(m.A,{variant:"light","aria-label":"Queued bills",children:(0,n.jsx)(q.Z,{})})})}),(0,n.jsxs)(H.J.Dropdown,{children:[(0,n.jsx)(G.Title,{order:2,mb:"sm",children:"Queued bills"}),(0,n.jsxs)(E.Text,{mb:"sm",children:[e.indoorBillsCount," Indoor bills"]}),(0,n.jsxs)(E.Text,{mb:"sm",children:[e.outdoorBillsCount," Outdoor bills"]}),(0,n.jsx)(O.Button,{leftSection:(0,n.jsx)(Y.Z,{}),disabled:r,loading:r,onClick:()=>{a(()=>{i((0,U.Db)())})},children:"Submit Bills"})]})]})}var J=i(83336),K=i.n(J);function X(e){let{links:t,mobileClose:i}=e,o=(0,Z.usePathname)(),[s,r]=(0,A.useState)({}),a=(e,t)=>{let i=new URL(e,window.location.origin);i.search="";let n=i.pathname;return t?o===n:o===n||o.startsWith(n+"/")},l=(0,A.useCallback)(e=>!!e.dropdown&&0!==e.dropdown.length&&e.dropdown.some(e=>{let t=new URL(e.href,window.location.origin);return t.search="",o===t.pathname||l(e)}),[o]);(0,A.useEffect)(()=>{let e=t=>{let i={};return t.forEach(t=>{let n=t.title+t.href,o=Array.isArray(t.dropdown)&&t.dropdown.length>0;o&&l(t)?i[n]=!0:i[n]=!1,o&&e(t.dropdown||[])}),i};r(e(t))},[o,t,l]);let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map(e=>{var o;let c=Array.isArray(e.dropdown)&&e.dropdown.length>0,u=a(e.href,t),p=c&&l(e),h=e.title+e.href,m=null!==(o=s[h])&&void 0!==o?o:p;return(0,n.jsx)(g.O,{label:e.title,leftSection:t?void 0:e.icon,active:u,component:c?"button":S.default,href:c?void 0:e.href,onClick:c?void 0:i,childrenOffset:28,opened:m,onChange:()=>{r(e=>({...e,[h]:!e[h]}))},className:"".concat(K().navLink," ").concat(t&&K().childNavLink),classNames:{label:K().navLabel,section:K().navSection,children:K().navChildren},children:c?d(e.dropdown||[],!0):null},e.title+e.href)})};return(0,n.jsx)(n.Fragment,{children:d(t)})}var $=i(97428),ee=i(41224);let{useGetReceptionistsQuery:et}=i(78101).g.injectEndpoints({endpoints:e=>({getReceptionists:e.query({query:()=>({url:"/admin/receptionist"}),transformResponse(e){var t,i,n;return{message:"Receptionist list",data:{totalPage:(null===(t=e.data)||void 0===t?void 0:t.totalPage)||1,totalItems:(null===(i=e.data)||void 0===i?void 0:i.totalItems)||0,items:(null===(n=e.data)||void 0===n?void 0:n.items)||[]}}}})})});var ei=i(39717),en=i(59406),eo=i(37947),es=i(53729),er=i(87967),ea=i(22115),el=i(84228),ed=i(9323),ec=()=>{var e,t,i,o,s,r;let a=(0,c.C)(e=>e.auth.user),l=(0,c.T)(),[d,u]=(0,A.useState)(null),{hovered:f,ref:g}=(0,el.X)(),{data:v,isError:x,isLoading:j}=et(),w=(null==v?void 0:null===(e=v.data)||void 0===e?void 0:e.items)||[],b=(0,ed.a)("(max-width: ".concat((0,es.em)(750),")")),y=d?null==v?void 0:null===(i=v.data)||void 0===i?void 0:null===(t=i.items)||void 0===t?void 0:t.find(e=>e.id===d):null;return(null==a?void 0:a.role)!=="admin"?null:(0,n.jsx)(h.Box,{ref:g,children:y?(0,n.jsxs)(p.Group,{gap:"xs",wrap:"nowrap",pb:5,children:[(0,n.jsx)(h.Box,{maw:237,children:(0,n.jsx)(E.Text,{size:"sm",c:"dimmed",truncate:!0,children:null==y?void 0:y.email})}),(0,n.jsx)(m.A,{size:"sm",id:"x_icon",variant:"transparent",color:"gray",ml:"auto",style:{visibility:b||f?"visible":"hidden"},onClick:()=>{l((0,ei.w)({viewId:null,name:void 0,email:void 0})),u(null),ea.N9.show({title:"View Mode Reset",message:"Returned to default view",color:"gray",icon:(0,n.jsx)(eo.Z,{size:"1rem"}),autoClose:3e3})},children:(0,n.jsx)(eo.Z,{size:"1rem"})})]}):(0,n.jsx)(er.P,{placeholder:x?"An error occurred":j?"Loading...":"View as a receptionist",data:null!==(r=null==v?void 0:null===(s=v.data)||void 0===s?void 0:null===(o=s.items)||void 0===o?void 0:o.map(e=>{var t;return{value:e.id,label:null!==(t=e.email)&&void 0!==t?t:"Not Set"}}))&&void 0!==r?r:[],value:d,onChange:e=>{if(u(e),e){var t;let i=w.find(t=>t.id===e);l((0,ei.w)({viewId:e,name:null!==(t=null==i?void 0:i.name)&&void 0!==t?t:void 0,email:null==i?void 0:i.email})),ea.N9.show({title:"View Mode Changed",message:"Now viewing dashboard as ".concat(null==i?void 0:i.name),color:"blue",icon:(0,n.jsx)(en.Z,{size:"1rem"}),autoClose:4e3})}},searchable:!0,disabled:j||x,size:"sm",comboboxProps:{width:300},variant:"unstyled",styles:{root:{marginTop:-10},input:{padding:0,backgroundColor:"transparent",color:x?"var(--mantine-color-red-6)":void 0,cursor:j?"default":"pointer"}}})})},eu=()=>{let e=(0,c.C)(e=>e.auth.user),[t,i]=(0,x.I)({key:"name",defaultValue:""});return(0,A.useEffect)(()=>{(null==e?void 0:e.name)&&e.name!==t&&i(e.name)},[null==e?void 0:e.name,t,i]),(0,n.jsxs)(p.Group,{children:[(0,n.jsx)(S.default,{href:"/profile",style:{textDecoration:"none"},children:(0,n.jsx)($.q,{name:t,color:"initials",allowedInitialsColors:["blue"]})}),(0,n.jsxs)(ee.Stack,{gap:2,flex:1,children:[(0,n.jsx)(S.default,{href:"/profile",style:{textDecoration:"none"},children:(0,n.jsx)(E.Text,{fw:500,size:"sm",truncate:!0,c:"dark",children:t})}),(0,n.jsx)(ec,{})]})]})},ep=e=>{var t,i,o;let{children:s}=e,r=(0,Z.useRouter)(),a=(0,c.T)(),D=(0,c.C)(e=>e.auth),I=null==D?void 0:D.isAuth,[T,{toggle:P,close:B}]=(0,v.q)(),[V,O]=(0,x.I)({key:"desktopOpened",defaultValue:!0}),[E,N]=(0,x.I)({key:"headerCollapsed",defaultValue:!1});(0,A.useEffect)(()=>{!1===I&&r.push("/")},[I,r]);let R=(0,M.m)(D),W=(0,c.C)(e=>e.auth.diagnostic);function _(){if(null==W?void 0:W.isHospitalManagement){var e,t,i,n;if((null===(e=D.user)||void 0===e?void 0:e.role)==="admin"||(null===(t=D.user)||void 0===t?void 0:t.role)==="receptionist"&&(null===(n=D.user)||void 0===n?void 0:null===(i=n.permissions)||void 0===i?void 0:i.canManageIndoorBills))return!0}return!1}let U=async()=>{await l()&&(a((0,d.av)(null)),r.push("/login"))},H=D.isAuth?(null===(t=D.user)||void 0===t?void 0:t.role)==="labAssistant"?"/lab":(null===(i=D.user)||void 0===i?void 0:i.role)==="superadmin"?"/superadmin":(null===(o=D.diagnostic)||void 0===o?void 0:o.isHospitalManagement)?"/dashboard":"/outdoor":"/";return(0,n.jsxs)(u.AppShell,{header:{height:{base:E?65:120,xs:64}},navbar:{width:{sm:300},breakpoint:"sm",collapsed:{mobile:!T,desktop:!V}},layout:"default",transitionDuration:200,children:[(0,n.jsxs)(u.AppShell.Header,{component:p.Group,py:{base:"sm",sm:0},style:{alignItems:"center"},children:[(0,n.jsxs)(u.AppShell.Section,{component:p.Group,hiddenFrom:"sm",px:"lg",style:{flexGrow:1},children:[(0,n.jsx)(S.default,{href:H,children:(0,n.jsx)(y.default,{src:C,alt:"SasthoTech",height:45})}),(0,n.jsx)(h.Box,{hiddenFrom:"sm",ml:"auto",children:(0,n.jsx)(k.default,{})}),(0,n.jsx)(m.A,{onClick:P,hiddenFrom:"sm",variant:"default",children:(0,n.jsx)(j.Z,{size:18})}),(0,n.jsx)(m.A,{hiddenFrom:"md",variant:"transparent",onClick:()=>{N(!E)},c:"dark.5",mt:1,style:{transform:E?"rotate(180deg)":"rotate(0deg)"},children:(0,n.jsx)(w.Z,{size:22})})]}),(0,n.jsx)(u.AppShell.Section,{component:p.Group,visibleFrom:"sm",px:"lg",w:V?300:void 0,h:"100%",justify:"center",style:{borderRight:"1px solid ".concat(V?"var(--mantine-color-gray-3)":"transparent"),interpolateSize:"allow-keywords",transition:"width 200ms ease-out"},children:(0,n.jsx)(S.default,{href:H,children:(0,n.jsx)(y.default,{src:C,alt:"SasthoTech",height:45})})}),(0,n.jsxs)(u.AppShell.Section,{visibleFrom:"sm",style:{flexGrow:1},component:p.Group,px:"lg",children:[(0,n.jsx)(m.A,{onClick:()=>{O(!V)},visibleFrom:"sm",variant:"default",children:(0,n.jsx)(j.Z,{size:18})}),(0,n.jsxs)(p.Group,{ml:"auto",gap:"md",children:[(0,n.jsx)(h.Box,{children:(0,n.jsx)(L,{})}),(0,n.jsx)(h.Box,{children:(0,n.jsx)(k.default,{})}),_()&&(0,n.jsx)(F,{}),(0,n.jsx)(Q,{})]})]}),!E&&(0,n.jsx)(u.AppShell.Section,{component:p.Group,hiddenFrom:"sm",px:"lg",children:(0,n.jsxs)(p.Group,{gap:"md",w:"100%",children:[(0,n.jsx)(h.Box,{mr:"auto",children:(0,n.jsx)(L,{})}),_()&&(0,n.jsx)(F,{}),(0,n.jsx)(Q,{})]})})]}),(0,n.jsxs)(u.AppShell.Navbar,{children:[(0,n.jsx)(u.AppShell.Section,{grow:!0,component:f.x,children:(0,n.jsxs)(h.Box,{px:"sm",pr:"md",mt:"md",children:[(0,n.jsx)(X,{links:R,mobileClose:B}),(0,n.jsx)(g.O,{label:"Logout",leftSection:(0,n.jsx)(b.Z,{}),px:"md",onClick:U,mb:"md"})]})}),(0,n.jsx)(u.AppShell.Section,{py:"sm",px:"md",pl:"lg",style:{borderTop:"1px solid var(--mantine-color-gray-3)"},children:(0,n.jsx)(eu,{})})]}),(0,n.jsx)(u.AppShell.Main,{children:s})]})}},72940:function(e,t,i){"use strict";i.d(t,{FD:function(){return o},Hn:function(){return n},y4:function(){return s}});let n={headers:{"Content-Type":"application/json"}},o={withCredentials:!0},s={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},8083:function(e,t,i){"use strict";i.d(t,{m:function(){return ew}});var n=i(4505),o=i(68328),s=i(79324),r=i(19076),a=i(74831),l=i(13559),d=i(70894),c=i(59636),u=i(14285),p=i(78530),h=i(36435),m=i(69571),f=i(5038),g=i(72309),v=i(52700),x=i(16438),j=i(72901),w=i(32740),b=i(74087),y=i(20819),S=i(94404),Z=i(35587),A=i(56222),M=i(17918),C=i(9654),k=i(51334),D=i(9286),I=i(33370),T=i(42484),P=i(599),B=i(58185),L=i(90655),V=i(91247),O=i(59832),E=i(79629),N=i(31267),R=i(38156),W=i(34331),_=i(8720),F=i(72517),U=i(62724),H=i(20433),z=i(83458),G=i(19376),q=i(35288),Y=i(52566),Q=i(54306),J=i(66055),K=i(87470),X=i(78355),$=i(21119),ee=i(29709),et=i(7387),ei=i(21889),en=i(70923),eo=i(58291),es=i(26546),er=i(69861),ea=i(58721),el=i(30105);let ed=[{title:"Dashboard",href:"/dashboard",description:"Main dashboard with overview and key metrics",icon:(0,o.jsx)(s.Z,{}),role:["admin","receptionist"]},{title:"Outdoor",href:"/outdoor",description:"Manage outdoor patient services and consultations",icon:(0,o.jsx)(r.Z,{}),role:["admin","receptionist"],dropdown:[{title:"Overview",href:"/outdoor",description:"Outdoor services overview",icon:(0,o.jsx)(a.Z,{})},{title:"Patient Search",href:"/outdoor/patient-search",description:"Search and find outdoor patients",icon:(0,o.jsx)(l.Z,{})},{title:"Total Bill",href:"/outdoor/total-bill",description:"View total bills for outdoor services",icon:(0,o.jsx)(d.Z,{})},{title:"Due Bills",href:"/outdoor/due-bills",description:"View all bills with due amounts",icon:(0,o.jsx)(c.Z,{})},{title:"Due Collected",href:"/outdoor/due-collected",description:"View collected due bills with date filtering",icon:(0,o.jsx)(u.Z,{})},{title:"Total Tests",href:"/outdoor/total-tests",description:"View all tests conducted for outdoor patients",icon:(0,o.jsx)(p.Z,{})}]},{title:"Create Outdoor Bill",href:"/billing",description:"Create new bills for outdoor patients",icon:(0,o.jsx)(d.Z,{}),role:["admin","receptionist"]},{title:"OPD",href:"/indoor/in-patient-admission?dayPatient=true",description:"Create OPD admissions for day patients",icon:(0,o.jsx)(h.Z,{}),role:["admin","receptionist"],dropdown:[{title:"Dashboard",href:"/opd",description:"Add a new OPD admission",icon:(0,o.jsx)(h.Z,{})},{title:"OPD Admission",href:"/opd/opd-patient-addmission?dayPatient=true",description:"View all OPD day patients",icon:(0,o.jsx)(a.Z,{})}]},{title:"Appointments",href:"/appointment",description:"Manage patient appointments and scheduling",icon:(0,o.jsx)(m.Z,{}),role:["admin","receptionist","serial manager"],dropdown:[{title:"Dashboard",href:"/appointment/dashboard",description:"Appointment dashboard overview",icon:(0,o.jsx)(a.Z,{})},{title:"Create Appointment",href:"/appointment",description:"Schedule a new appointment",icon:(0,o.jsx)(f.Z,{})},{title:"Appointments list",href:"/appointment/list",description:"View all scheduled appointments",icon:(0,o.jsx)(g.Z,{})}]},{title:"Indoor",href:"/indoor",description:"Manage indoor patient services and hospital management",icon:(0,o.jsx)(v.Z,{}),role:["admin","receptionist"],dropdown:[{title:"Overview",href:"/indoor",description:"Indoor services overview",icon:(0,o.jsx)(a.Z,{})},{title:"Bed",href:"/indoor/bed",description:"Manage hospital beds and bed assignments",icon:(0,o.jsx)(x.Z,{}),dropdown:[{title:"Bed Layout",href:"/indoor/bed/bed-layout",description:"View and manage bed layout",icon:(0,o.jsx)(j.Z,{})},{title:"Bed Category",href:"/indoor/bed/bed-category",description:"Manage bed categories",icon:(0,o.jsx)(w.Z,{})},{title:"Bed SubCategory",href:"/indoor/bed/bed-sub-category",description:"Manage bed subcategories",icon:(0,o.jsx)(b.Z,{})},{title:"Add a Bed",href:"/indoor/bed/add-bed",description:"Add new beds to the system",icon:(0,o.jsx)(y.Z,{})}]},{title:"Staff Management",href:"/indoor/staff",description:"Manage indoor staff and personnel",icon:(0,o.jsx)(S.Z,{})},{title:"Indoor Payments",href:"/indoor/payments",description:"Process indoor patient payments",icon:(0,o.jsx)(Z.Z,{})},{title:"Services",href:"/indoor/service/add-new-services",description:"Manage indoor services",icon:(0,o.jsx)(A.Z,{}),dropdown:[{title:"Service",href:"/indoor/service/service-list",description:"View list of available services",icon:(0,o.jsx)(M.Z,{})},{title:"Add New Services",href:"/indoor/service/add-new-services",description:"Add new services",icon:(0,o.jsx)(C.Z,{})}]},{title:"Patient Billing",href:"/indoor/in-patient-billing",description:"Manage indoor patient billing",icon:(0,o.jsx)(k.Z,{})},{title:"Filtered Bills",href:"/indoor/filtered-bills",description:"Advanced bill filtering and reporting",icon:(0,o.jsx)(D.Z,{})},{title:"Patient Admission",href:"/indoor/in-patient-admission",description:"Admit new indoor patients",icon:(0,o.jsx)(y.Z,{})},{title:"Indoor Summary",href:"/indoor/summary",description:"View indoor services summary",icon:(0,o.jsx)(I.Z,{})}]},{title:"Dashboard",href:"/lab/dashboard",role:["labAssistant"],description:"Lab dashboard with overview and key metrics",icon:(0,o.jsx)(s.Z,{size:20,stroke:1.5})},{title:"Pending Reports",href:"/lab/pending-reports",role:["labAssistant"],description:"Manage and view pending lab reports",icon:(0,o.jsx)(T.Z,{size:20,stroke:1.5})},{title:"Completed Reports",href:"/lab/completed-reports",role:["labAssistant"],description:"View all completed lab reports",icon:(0,o.jsx)(P.Z,{size:20,stroke:1.5})},{title:"Print Same Test Reports",href:"/lab/print-same-test-reports-at-a-time",role:["labAssistant"],description:"Print multiple reports for the same test",icon:(0,o.jsx)(B.Z,{})},{title:"Patient Search",href:"/lab/patient-search",role:["labAssistant"],description:"Search and find patients in the lab system",icon:(0,o.jsx)(l.Z,{})},{title:"Signatures",href:"/lab/signatures",description:"Manage lab report signatures",role:["labAssistant"],icon:(0,o.jsx)(L.Z,{})},{title:"Test Templates",href:"/test/all-tests",description:"Manage test templates for lab reports",role:["labAssistant"],icon:(0,o.jsx)(V.Z,{})},{title:"Sub Category Lists",href:"/test/sub-category-lists",description:"Manage test subcategories",role:["labAssistant"],icon:(0,o.jsx)(a.Z,{})},{title:"Report Print Settings",href:"/lab/report-printing-settings",description:"Configure lab report print settings",role:["labAssistant"],icon:(0,o.jsx)(B.Z,{})},{title:"Inventory",href:"/inventory",description:"Manage hospital inventory and stock",icon:(0,o.jsx)(O.Z,{}),role:["admin","receptionist","labAssistant"],dropdown:[{title:"Dashboard",href:"/inventory/dashboard",description:"Inventory dashboard overview",icon:(0,o.jsx)(s.Z,{})},{title:"Critical Alerts",href:"/inventory/alerts",description:"View critical inventory alerts",icon:(0,o.jsx)(E.Z,{})},{title:"Trends & Analytics",href:"/inventory/trends",description:"View inventory trends and analytics",icon:(0,o.jsx)(N.Z,{})},{title:"Management",href:"/inventory/management",description:"Manage inventory items",icon:(0,o.jsx)(a.Z,{})},{title:"Statements",href:"/inventory/transactions",description:"View inventory transaction statements",icon:(0,o.jsx)(a.Z,{})},{title:"Default Stores",href:"/inventory/default-stores",description:"Configure default inventory stores for bills",icon:(0,o.jsx)(R.Z,{}),role:["admin","receptionist"]}]},{title:"Statements",icon:(0,o.jsx)(k.Z,{}),href:"/statements",description:"View various financial and operational statements",role:["admin","receptionist"],dropdown:[{title:"Monthly Statement",href:"/dashboard/monthly-report",description:"View monthly financial report",icon:(0,o.jsx)(m.Z,{})},{title:"Category Statement",href:"/dashboard/category-statement?printNow",description:"View statements by service category",icon:(0,o.jsx)(w.Z,{})},{title:"Test Wise Statement",href:"/dashboard/test-wise-statement",description:"View statements by test type",icon:(0,o.jsx)(p.Z,{})},{title:"Bill/Pc Statement",href:"/outdoor/total-bill?searchFilter=pc",description:"View bills and PC statements",icon:(0,o.jsx)(W.Z,{})},{title:"Bill/Doctor Statement",href:"/outdoor/total-bill?searchFilter=doctor",description:"View bills by doctor",icon:(0,o.jsx)(_.Z,{})},{title:"Expense Statement",href:"/expense/expense-today?printNow=true&overall=true",description:"View overall expense statements",icon:(0,o.jsx)(F.Z,{})},{title:"Pc Statement",href:"/dashboard/pc-statement",description:"View PC statements",icon:(0,o.jsx)(W.Z,{})}]},{title:"Expense",href:"/expense",description:"Track and manage hospital expenses",icon:(0,o.jsx)(F.Z,{}),role:["admin","receptionist"],dropdown:[{title:"Expense Categories",href:"/expense/categories",description:"Manage expense categories",icon:(0,o.jsx)(w.Z,{})},{title:"Add Expense",href:"/expense/add-expense",description:"Add a new expense",icon:(0,o.jsx)(C.Z,{})},{title:"Expense Today",href:"/expense/expense-today",description:"View today's expenses",icon:(0,o.jsx)(U.Z,{})},{title:"SasthoTech Charge",href:"/expense/sasthotech-service-charge",description:"Manage SasthoTech service charges",icon:(0,o.jsx)(H.Z,{})},{title:"Commission Expense",href:"/expense/commission-expense",description:"Track commission expenses",icon:(0,o.jsx)(z.Z,{})},{title:"Pc Commission",href:"/expense/pc-commission",description:"Manage PC commission expenses",icon:(0,o.jsx)(z.Z,{})},{title:"Doctor Commission",href:"/expense/doctor-commission",description:"Manage doctor commission expenses",icon:(0,o.jsx)(z.Z,{})},{title:"Doctor Payment",href:"/expense/doctor-payment",description:"Manage doctor payments",icon:(0,o.jsx)(G.Z,{})}]},{title:"Income",href:"/income",description:"Track and manage hospital income",icon:(0,o.jsx)(q.Z,{size:20}),role:["admin","receptionist"],dropdown:[{title:"Income Categories",href:"/income/categories",description:"Manage income categories",icon:(0,o.jsx)(w.Z,{size:20})},{title:"Add Income",href:"/income/add-income",description:"Add new income entry",icon:(0,o.jsx)(q.Z,{size:20})},{title:"Income Today",href:"/income/income-today",description:"View today's income",icon:(0,o.jsx)(N.Z,{size:20})}]},{title:"Doctor",href:"/doctor",description:"Manage doctor profiles and information",icon:(0,o.jsx)(Y.Z,{}),role:["admin","receptionist"],dropdown:[{title:"Add Doctor",href:"/doctor/add-doctor",description:"Add a new doctor to the system",icon:(0,o.jsx)(C.Z,{})},{title:" Doctor List",href:"/doctor/all-doctor",description:"View all registered doctors",icon:(0,o.jsx)(a.Z,{})},{title:"Commissioned Doctor List",href:"/doctor/commissioned-doctors",description:"View commissioned doctors list",icon:(0,o.jsx)(a.Z,{})}]},{title:"Doctor Chambers",href:"/doctor-chambers",description:"Manage doctor chambers and schedules",role:["serial manager"],icon:(0,o.jsx)(Q.Z,{})},{title:"Test",href:"/test",description:"Manage laboratory tests and diagnostics",icon:(0,o.jsx)(p.Z,{}),role:["admin","receptionist"],dropdown:[{title:"All Tests",href:"/test/all-tests",description:"View all available tests",icon:(0,o.jsx)(J.Z,{})},{title:"Add Test",href:"/test/add-new-test",description:"Add a new test",icon:(0,o.jsx)(C.Z,{})},{title:"Category Lists",href:"/test/category-lists",description:"Manage test categories",icon:(0,o.jsx)(a.Z,{})},{title:"Sub Category Lists",href:"/test/sub-category-lists",description:"Manage test subcategories",icon:(0,o.jsx)(a.Z,{})}]},{title:"Dashboard",href:"/marketer/dashboard",description:"View your performance dashboard",role:["marketer"],icon:(0,o.jsx)(s.Z,{})},{title:"PC",href:"/pc",description:"Manage PCs (Primary Consultants)",icon:(0,o.jsx)(W.Z,{}),role:["admin","marketer","receptionist"]},{title:"SMS ",href:"/sms",description:"Manage SMS communication packages",icon:(0,o.jsx)(K.Z,{}),role:["admin","receptionist"],dropdown:[{title:"Package List",href:"/sms/list",description:"View SMS packages",icon:(0,o.jsx)(X.Z,{})},{title:"Active Package",href:"/sms/active",description:"View active SMS packages",icon:(0,o.jsx)($.Z,{})},{title:"Settings",href:"/settings/sms",description:"Configure SMS settings",icon:(0,o.jsx)(R.Z,{})}]},{title:"Accessory",href:"/accessory",description:"Manage medical accessories and supplies",role:["admin"],icon:(0,o.jsx)(ee.Z,{})},{title:"Receptionist",href:"/receptionist",description:"Manage receptionist staff",role:["admin"],icon:(0,o.jsx)(et.Z,{})},{title:"Serial Manager",href:"/serial-manager",description:"Manage serial numbers and queues",role:["admin","receptionist"],icon:(0,o.jsx)(et.Z,{})},{title:"Pathologist",href:"/pathologist",description:"Manage pathologists and lab operations",role:["admin","receptionist"],icon:(0,o.jsx)(ei.Z,{})},{title:"Marketer",href:"/add-marketer",description:"Manage marketing staff and PC groups",role:["admin"],icon:(0,o.jsx)(en.Z,{}),dropdown:[{title:"Marketers",href:"/add-marketer/marketers",description:"Add and manage marketer accounts",icon:(0,o.jsx)(eo.Z,{})},{title:"Set Marketer Target",href:"/add-marketer/pc-target",description:"Set and view monthly targets for marketers",icon:(0,o.jsx)(es.Z,{})},{title:"PC Groups",href:"/add-marketer/pc-groups",description:"Create and manage PC groups",icon:(0,o.jsx)(er.Z,{})},{title:"PC Visit Records",href:"/add-marketer/pc-visit-records",description:"View records of PC visits",icon:(0,o.jsx)(T.Z,{})}]},{title:"PC Meetup",href:"/marketer/pc-meetup",description:"Manage PC Meetup",icon:(0,o.jsx)(W.Z,{}),role:["marketer"]},{title:"Patient Followup",href:"/marketer/patient-followup",description:"Manage patient follow-ups",role:["marketer"],icon:(0,o.jsx)(ea.Z,{})},{title:"Pregnancy List",href:"/marketer/pregnancy-list",description:"View pregnancy list",role:["marketer"],icon:(0,o.jsx)(el.Z,{})},{title:"Print Settings",href:"/print-settings",description:"Configure print settings and templates",role:["admin","receptionist"],icon:(0,o.jsx)(B.Z,{})},{title:"Templates",href:"/templates",description:"Manage system templates",role:["admin"],icon:(0,o.jsx)(V.Z,{})},{title:"Profile",href:"/profile",description:"View and edit user profile",icon:(0,o.jsx)(eo.Z,{})}];var ec=i(3236),eu=i(12921),ep=i(38738),eh=i(42407),em=i(87400),ef=i(13916),eg=i(50430),ev=i(74625),ex=i(79611);let ej=[{title:"Dashboard",href:"/dashboard",icon:(0,o.jsx)(ec.Z,{}),description:"Main dashboard overview and analytics"},{title:"File Upload",href:"/superadmin/file-upload",icon:(0,o.jsx)(eu.Z,{}),description:"Upload and manage files"},{title:"Token Update",href:"/superadmin/token-update",icon:(0,o.jsx)(ep.Z,{}),description:"Update and manage API tokens"},{title:"SMS ",href:"/superadmin/sms",icon:(0,o.jsx)(K.Z,{}),description:"Manage SMS campaigns and packages",dropdown:[{title:"Create Package",href:"/superadmin/sms/create",icon:(0,o.jsx)(eh.Z,{}),description:"Create new SMS packages"},{title:"Package List",href:"/superadmin/sms",icon:(0,o.jsx)(X.Z,{}),description:"View all SMS packages"},{title:"Buy Request",href:"/superadmin/sms/request",icon:(0,o.jsx)(ep.Z,{}),description:"Manage SMS purchase requests"}]},{title:"Hospital",href:"/diagnostic",icon:(0,o.jsx)(v.Z,{}),description:"Manage hospital information and requests",dropdown:[{title:"Add Hospital",href:"/superadmin/diagnostic/add-diagnostic",icon:(0,o.jsx)(C.Z,{}),description:"Register new hospital"},{title:" Hospital List",href:"/superadmin/diagnostic/diagnostic-lists",icon:(0,o.jsx)(a.Z,{}),description:"View all hospitals"},{title:"New  Hospital Requests",href:"/superadmin/diagnostic/new-diagnostic-requests",icon:(0,o.jsx)(em.Z,{}),description:"Review new hospital requests"}]},{title:"Doctor",href:"/doctor",icon:(0,o.jsx)(Y.Z,{}),description:"Manage doctor information and updates",dropdown:[{title:"Add Doctor",href:"/superadmin/doctor/add-doctor",icon:(0,o.jsx)(C.Z,{}),description:"Register new doctor"},{title:" Doctor List",href:"/superadmin/doctor/doctor-lists",icon:(0,o.jsx)(a.Z,{}),description:"View all doctors"},{title:" Doctor Update Info",href:"/superadmin/doctor-update-info",icon:(0,o.jsx)(ef.Z,{}),description:"Update doctor information"}]},{title:"Test",href:"/test",icon:(0,o.jsx)(p.Z,{}),description:"Manage laboratory tests and categories",dropdown:[{title:"All Tests",href:"/superadmin/test/all-tests",icon:(0,o.jsx)(J.Z,{}),description:"View all available tests"},{title:"Add Test",href:"/superadmin/test/add-new-test",icon:(0,o.jsx)(C.Z,{}),description:"Create new test"},{title:"Category Lists",href:"/superadmin/test/category-lists",icon:(0,o.jsx)(a.Z,{}),description:"Manage test categories"},{title:"Sub Category Lists",href:"/test/sub-category-lists",icon:(0,o.jsx)(a.Z,{}),description:"Manage test subcategories"},{title:"Sync Test Templates",href:"/superadmin/test/sync-test-templates",icon:(0,o.jsx)(eg.Z,{}),description:"Synchronize test templates"}]},{title:"Version Admin",href:"/superadmin/version-admin/dashboard",icon:(0,o.jsx)(ev.Z,{}),description:"Manage application versions and updates"},{title:"Log",href:"/superadmin/log",icon:(0,o.jsx)(ex.Z,{}),description:"View and manage system logs",dropdown:[{title:"Dashboard",href:"/superadmin/log/dashboard",icon:(0,o.jsx)(ec.Z,{}),description:"Log dashboard overview"},{title:"Manage Log",href:"/superadmin/log/manage",icon:(0,o.jsx)(a.Z,{}),description:"Manage and view system logs"}]},{title:"Profile",href:"/profile",icon:(0,o.jsx)(eo.Z,{}),description:"View and manage your profile"}];function ew(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,n.useMemo)(()=>{var i;let n=null==e?void 0:null===(i=e.user)||void 0===i?void 0:i.role;console.log("Auth in useRoleLinks:",e),console.log(n);let o=[];return o="superadmin"===n?ej:"receptionist"===n?ed.filter(t=>{var i,n;let o=e.diagnostic,s=null==e?void 0:null===(i=e.user)||void 0===i?void 0:i.permissions,r=null==e?void 0:null===(n=e.user)||void 0===n?void 0:n.role;if(t.role&&!t.role.includes(r))return!1;if(!s)return!0;let a=(null==o?void 0:o.isHospitalManagement)&&(null==s?void 0:s.canManageIndoorBills)||!t.href.startsWith("/indoor")&&!t.href.startsWith("/dashboard"),l=(null==o?void 0:o.isLabManagement)&&(null==s?void 0:s.canManagePathologists)||!t.href.startsWith("/pathologist"),d=(null==o?void 0:o.commissionSettings)==="INCLUDE_BOTH"||(null==o?void 0:o.commissionSettings)==="INCLUDE_DOCTOR_ONLY"||!t.href.includes("/doctor-commission"),c=((null==o?void 0:o.commissionSettings)==="INCLUDE_BOTH"||(null==o?void 0:o.commissionSettings)==="INCLUDE_PC_ONLY")&&(null==o?void 0:o.canReceptionistChangePcCommission)||!t.href.includes("/pc-commission"),u=(null==o?void 0:o.isPCManagement)&&(null==s?void 0:s.canManagePCs)||!t.href.startsWith("/pc"),p=(null==o?void 0:o.isIncomeManagement)&&(null==s?void 0:s.canManageIncomes)||!t.href.startsWith("/income"),h=(null==o?void 0:o.inExpenseManagement)&&(null==s?void 0:s.canManageExpenses)||!t.href.startsWith("/expense"),m=(null==o?void 0:o.isSerialManagement)&&(null==s?void 0:s.canManageSerialManagers)||!t.href.startsWith("/appointment")&&!t.href.startsWith("/serial-manager"),f=(null==o?void 0:o.isInventoryManagement)&&(null==s?void 0:s.canManageInventory)||!t.href.startsWith("/inventory"),g=(null==o?void 0:o.isSMSManagement)&&(null==s?void 0:s.canManageSMS)||!t.href.startsWith("/sms"),v=(null==o?void 0:o.showStatements)&&(null==s?void 0:s.canManageStatements)||!t.href.startsWith("/statements"),x=(null==o?void 0:o.isOutdoorManagement)&&(null==s?void 0:s.canManageOutdoorBills)||!t.href.startsWith("/outdoor")&&!t.href.startsWith("/billing")&&"Create Outdoor Bill"!==t.title,j=(null==o?void 0:o.isOutdoorManagement)&&(null==s?void 0:s.canManageTests)||!t.href.startsWith("/test"),w=((null==o?void 0:o.isOutdoorManagement)||(null==o?void 0:o.isSerialManagement))&&(null==s?void 0:s.canManageDoctors)||!t.href.startsWith("/doctor"),b=(null==o?void 0:o.isSerialManagement)&&(null==s?void 0:s.canManageAppointments)||!t.href.startsWith("/appointment");return a&&w&&u&&j&&b&&x&&h&&f&&p&&v&&g&&l&&m&&d&&c&&((null==o?void 0:o.allowIndoorToAddOPD)||"OPD"!==t.title)}):function e(t,i){return t.filter(t=>{var n;let o=i.diagnostic,s=null==i?void 0:null===(n=i.user)||void 0===n?void 0:n.role;if(t.role){if(!t.role.includes(s))return!1;t.dropdown&&t.dropdown.length>0&&(t.dropdown=e(t.dropdown,i))}let r=(null==o?void 0:o.isHospitalManagement)&&"admin"===s||!t.href.startsWith("/indoor")&&!t.href.startsWith("/dashboard"),a=(null==o?void 0:o.isLabManagement)&&"admin"===s||!t.href.startsWith("/pathologist"),l=(null==o?void 0:o.isShowAccessoryInBill)||!t.href.startsWith("/accessory"),d=(null==o?void 0:o.isPCManagement)||!t.href.startsWith("/pc"),c=(null==o?void 0:o.commissionSettings)==="INCLUDE_BOTH"||(null==o?void 0:o.commissionSettings)==="INCLUDE_DOCTOR_ONLY"||!t.href.includes("/doctor-commission"),u=(null==o?void 0:o.commissionSettings)==="INCLUDE_BOTH"||(null==o?void 0:o.commissionSettings)==="INCLUDE_PC_ONLY"||!t.href.includes("/pc-commission"),p=(null==o?void 0:o.isIncomeManagement)||!t.href.startsWith("/income"),h=(null==o?void 0:o.inExpenseManagement)||!t.href.startsWith("/expense"),m=(null==o?void 0:o.isSerialManagement)||!t.href.startsWith("/appointment")&&!t.href.startsWith("/serial-manager"),f=(null==o?void 0:o.isInventoryManagement)||!t.href.startsWith("/inventory"),g=(null==o?void 0:o.isMarketingManagement)||!t.href.startsWith("/add-marketer"),v=(null==o?void 0:o.isSMSManagement)||!t.href.startsWith("/sms"),x=(null==o?void 0:o.showStatements)||!t.href.startsWith("/statements"),j=(null==o?void 0:o.isOutdoorManagement)||!t.href.startsWith("/outdoor")&&!t.href.startsWith("/test")&&!t.href.startsWith("/billing")&&"Create Outdoor Bill"!==t.title,w=(null==o?void 0:o.isOutdoorManagement)||(null==o?void 0:o.isSerialManagement)||!t.href.startsWith("/doctor"),b=(null==o?void 0:o.isOutdoorManagement)||(null==o?void 0:o.isHospitalManagement)||!t.href.startsWith("/receptionist");return r&&a&&l&&d&&p&&h&&m&&f&&g&&v&&j&&x&&w&&b&&c&&u&&((null==o?void 0:o.allowIndoorToAddOPD)||"OPD"!==t.title)})}(ed,e),t&&(o=function e(t){return t.flatMap(t=>t.dropdown&&t.dropdown.length>0?[t,...e(t.dropdown)]:t)}(o)),o},[e,t])}},96253:function(e,t,i){"use strict";i.d(t,{d:function(){return r}});var n=i(72940),o=i(6780),s=i(67732);let r=async e=>{try{let t=await o.default.post("".concat("http://sasthotech.local:5000/api/v1","/bill"),e,{...n.FD,...n.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof s.d7){var t,i;return{success:!1,data:null!==(i=null===(t=e.response)||void 0===t?void 0:t.data.message)&&void 0!==i?i:e.code}}return{success:!1,data:"An error occurred"}}}},12158:function(e,t,i){"use strict";i.d(t,{g:function(){return r}});var n=i(72940),o=i(6780),s=i(67732);let r=async e=>{try{let t=await o.default.post("".concat("http://sasthotech.local:5000/api/v1","/hospitalBill"),e,{...n.FD,...n.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof s.d7){var t,i;return{success:!1,data:null!==(i=null===(t=e.response)||void 0===t?void 0:t.data.message)&&void 0!==i?i:e.code}}return{success:!1,data:"An error occurred"}}}},78101:function(e,t,i){"use strict";i.d(t,{g:function(){return a}});var n=i(49854),o=i(68240),s=i(94183),r=i(28317);let a=(0,o.LC)({baseQuery:(0,s.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async i=>{let o="string"==typeof e?e:e.url;return o.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,r.t8)(o,await i.clone().json().catch(()=>null),(0,n.x)()),i}).catch(async i=>{if(i instanceof TypeError){let i="string"==typeof e?e:e.url;if(!i.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,r.U2)(i,(0,n.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw i})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},13603:function(e,t,i){"use strict";i.d(t,{rm:function(){return d},uA:function(){return l}});var n=i(79258),o=i(69192),s=i(4646),r=i(14685);let a=(0,n.createSlice)({name:"dates",initialState:{dates:[null,null]},reducers:{setDates:(e,t)=>{e.dates=t.payload}}}),l=(0,o.createSelector)([e=>e.dates.dates],e=>{let[t,i]=e;return[t?new Date(t):(0,s.Z)(),i?new Date(i):(0,r.Z)()]}),{setDates:d}=a.actions;t.ZP=a.reducer},25499:function(e,t,i){"use strict";i.d(t,{C:function(){return s},T:function(){return o}});var n=i(53502);let o=()=>(0,n.I0)(),s=n.v9},69022:function(e,t,i){"use strict";let n;i.d(t,{Db:function(){return m},mJ:function(){return h}});var o=i(70237),s=i(96253),r=i(12158),a=i(79258),l=i(2481),d=i(28317),c=i(90660),u=i.n(c);function p(){return n||(n=(0,d.MT)("offline-queues-store","offline-queues")),n}let h=(0,a.createAsyncThunk)("offlineQueues/fetchOfflineQueues",()=>(0,d.yS)(["indoorBills","outdoorBills"],p())),m=(0,a.createAsyncThunk)("offlineQueues/trySubmittingBills",async()=>{let[e,t]=await (0,d.yS)(["indoorBills","outdoorBills"],p()).catch(()=>[[],[]]),i=localStorage.getItem("startedSubmittingBillsAt");if(i&&!isNaN((i=new Date(i)).getTime())){if(!((0,l.Z)(new Date,i)>5)||!(await u().fire({title:"Something is wrong",text:"The last attempt to submit took more than 5 minutes, do you want to try again?",icon:"error",showCancelButton:!0,cancelButtonText:"Wait",confirmButtonColor:"#fa5252",confirmButtonText:"Yes",focusCancel:!0})).isConfirmed)return[e,t,!1];i=null}i=new Date().toISOString(),localStorage.setItem("startedSubmittingBillsAt",i);try{let i=!1;if(window.navigator.onLine){if(Array.isArray(e))for(let t of e){let{success:e,data:n}=await (0,r.g)(t.data);if(e)await (0,d.Vx)("indoorBills",e=>Array.isArray(e)&&e.filter(e=>{let{id:i}=e;return i!==t.id}),p());else if(n===o.OFFLINE_MSG)break;else i=!0}if(Array.isArray(t))for(let e of t){let{success:t,data:n}=await (0,s.d)(e.data);if(t)localStorage.setItem("latestBillId",null==n?void 0:n.billId),localStorage.setItem("latestLabId",null==n?void 0:n.labId),await (0,d.Vx)("outdoorBills",t=>Array.isArray(t)&&t.filter(t=>{let{id:i}=t;return i!==e.id}),p());else if(n===o.OFFLINE_MSG)break;else i=!0}i&&u().fire("Error","Some bills couldn't be updated due to error","error")}return[e,t,i]}catch(e){console.error("Error while submitting bills from offline queue",e)}finally{localStorage.removeItem("startedSubmittingBillsAt")}return[e,t,!0]}),f=(0,a.createSlice)({name:"offlineQueues",initialState:{indoorBillsCount:0,outdoorBillsCount:0,isError:!1},reducers:{},extraReducers:e=>{for(let t of[h,m])e.addCase(t.fulfilled,(e,t)=>{let[i,n,o]=t.payload;e.indoorBillsCount=Array.isArray(i)?i.length:0,e.outdoorBillsCount=Array.isArray(n)?n.length:0,o&&(e.isError=o)})}}),{}=f.actions;t.ZP=f.reducer},39717:function(e,t,i){"use strict";i.d(t,{w:function(){return o}});let n=(0,i(79258).createSlice)({name:"diagnosticSettings",initialState:{viewId:null,viewName:void 0,viewEmail:void 0},reducers:{setViewId:(e,t)=>{e.viewId=t.payload.viewId,e.viewEmail=t.payload.email,e.viewName=t.payload.name}}}),{setViewId:o}=n.actions;t.Z=n.reducer},49854:function(e,t,i){"use strict";let n;i.d(t,{d:function(){return d},x:function(){return l}});var o=i(72940),s=i(6780),r=i(67732),a=i(28317);function l(){return n||(n=(0,a.MT)("cached-responses-store","cached-responses")),n}async function d(e,t){try{let i=await s.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:t,...o.FD});return await (0,a.t8)(e,i.data,l()),i.data}catch(t){if(t instanceof r.d7&&[r.d7.ERR_NETWORK,r.d7.ETIMEDOUT].includes(t.code)){let t=await (0,a.U2)(e,l());if(t)return t}throw t instanceof r.d7&&t.response&&401===t.response.status||console.error(t),t}}},83336:function(e){e.exports={navLink:"SidebarNav_navLink__SnBt3",childNavLink:"SidebarNav_childNavLink__w_lyD",navLabel:"SidebarNav_navLabel__JtaC_",navChildren:"SidebarNav_navChildren__D_aSN"}}}]);