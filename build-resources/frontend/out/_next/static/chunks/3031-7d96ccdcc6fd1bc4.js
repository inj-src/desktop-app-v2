(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3031],{23031:function(e,i,s){"use strict";s.d(i,{Z:function(){return el}});var r=s(68328),l=s(27553),n=s(25499),d=s(54632),t=s(31204),a=s(22041),c=s(22975),o=s(22614),h=s(68242),u=s(29663),x=s(63901),j=s(41224),v=s(93208),m=s(58185),g=s(97698),p=s(4505),T=s(88412),C=s(90660),y=s.n(C),f=s(71256),b=s(53700),A=s.n(b),w=s(72940),S=s(6780),z=s(67732);let D=async e=>{let{diagnosticId:i}=e;try{let e="".concat("http://sasthotech.local:5000/api/v1","/serviceCharge/transactions");i&&(e+="?diagnosticId=".concat(i));let s=await S.default.post(e,{},{...w.FD,...w.Hn});return{success:!0,data:s.data.data}}catch(e){if(e instanceof z.d7){var s;return{success:!1,data:null===(s=e.response)||void 0===s?void 0:s.data.message}}return{success:!1,data:"An error occurred"}}};var P=e=>{var i,s,n,c,o,h,u,x,j,m,g,T,C,f;let{diagnosticId:b,increaseKey:A}=e,[w,S]=(0,p.useState)(null),[z,D]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{(async()=>{let e={};b&&(e={diagnosticId:b});let i=await (0,l.d)(e);i.success?S(i.data):y().fire("Error","Something Went Wrong","error")})()},[b]),(0,r.jsxs)("div",{children:[((null==w?void 0:null===(s=w.sumOfCharge)||void 0===s?void 0:null===(i=s._sum)||void 0===i?void 0:i.serviceCharge)||0)+((null==w?void 0:null===(c=w.sumOfIndoorCharge)||void 0===c?void 0:null===(n=c._sum)||void 0===n?void 0:n.serviceCharge)||0)!==0?(0,r.jsxs)(d.i,{children:[(0,r.jsxs)(d.i.Thead,{children:[(0,r.jsx)(d.i.Th,{children:"Indoor Charge"}),(0,r.jsx)(d.i.Th,{children:"Outdoor Charge"}),(0,r.jsx)(d.i.Th,{children:"Total Amount"}),(0,r.jsx)(d.i.Th,{children:"Actions"})]}),(0,r.jsx)(d.i.Tbody,{children:(0,r.jsxs)(d.i.Tr,{children:[(0,r.jsx)(d.i.Td,{children:null!==(C=null==w?void 0:null===(h=w.sumOfIndoorCharge)||void 0===h?void 0:null===(o=h._sum)||void 0===o?void 0:o.serviceCharge)&&void 0!==C?C:0}),(0,r.jsxs)(d.i.Td,{children:[" ",null!==(f=null==w?void 0:null===(x=w.sumOfCharge)||void 0===x?void 0:null===(u=x._sum)||void 0===u?void 0:u.serviceCharge)&&void 0!==f?f:0]}),(0,r.jsx)(d.i.Td,{children:((null==w?void 0:null===(m=w.sumOfCharge)||void 0===m?void 0:null===(j=m._sum)||void 0===j?void 0:j.serviceCharge)||0)+((null==w?void 0:null===(T=w.sumOfIndoorCharge)||void 0===T?void 0:null===(g=T._sum)||void 0===g?void 0:g.serviceCharge)||0)}),(0,r.jsx)(d.i.Td,{children:(0,r.jsx)(t.Button,{mx:4,leftSection:(0,r.jsx)(v.Z,{}),onClick:()=>D(!0),children:"Details"})})]})})]}):(0,r.jsxs)(a.Text,{mt:5,size:"lg",c:"red",ta:"center",children:["No Due Service Charge"," "]}),w&&(0,r.jsx)(G,{increaseKey:A,details:w,opened:z,onClose:()=>D(!1),diagnosticId:b})]})};let G=e=>{var i,s,l,a,v,C,b,w,S,z,P,G;let{details:I,opened:Z,onClose:B,increaseKey:k,diagnosticId:M}=e,F=(0,n.C)(e=>e.auth.diagnostic),O=(0,p.useRef)(null),_=(0,T.useReactToPrint)({content:()=>O.current,documentTitle:" Transaction Details",onAfterPrint(){k()}}),E=async()=>{try{let e={};if(M&&(e={diagnosticId:M}),(await D(e)).success)_();else throw Error("Error")}catch(e){y().fire("Error","Something Went Wrong","error")}};return(0,r.jsx)(r.Fragment,{children:I?(0,r.jsxs)(c.u,{opened:Z,onClose:B,title:"Transaction Details",centered:!0,size:"xl",children:[(0,r.jsx)(o.Group,{justify:"end",children:(0,r.jsx)(t.Button,{onClick:E,leftSection:(0,r.jsx)(m.Z,{}),children:"Pay & Print"})}),(0,r.jsxs)("div",{className:"p-4",ref:O,children:[(0,r.jsx)(f.Z,{diagnostic:F}),(0,r.jsx)(h.Title,{order:3,children:"Service Charge Transaction Info"}),(0,r.jsxs)(u.Grid,{gutter:"xs",children:[(0,r.jsx)(x.GridCol,{span:3,children:"Indoor Charge"}),(0,r.jsx)(x.GridCol,{span:1,children:":"}),(0,r.jsx)(x.GridCol,{span:8,children:null!==(P=null==I?void 0:null===(s=I.sumOfIndoorCharge)||void 0===s?void 0:null===(i=s._sum)||void 0===i?void 0:i.serviceCharge)&&void 0!==P?P:0}),(0,r.jsx)(x.GridCol,{span:3,children:"Outdoor Charge"}),(0,r.jsx)(x.GridCol,{span:1,children:":"}),(0,r.jsx)(x.GridCol,{span:8,children:null!==(G=null==I?void 0:null===(a=I.sumOfCharge)||void 0===a?void 0:null===(l=a._sum)||void 0===l?void 0:l.serviceCharge)&&void 0!==G?G:0}),(0,r.jsx)(x.GridCol,{span:3,children:"Total Amount"}),(0,r.jsx)(x.GridCol,{span:1,children:":"}),(0,r.jsx)(x.GridCol,{span:8,children:((null==I?void 0:null===(C=I.sumOfCharge)||void 0===C?void 0:null===(v=C._sum)||void 0===v?void 0:v.serviceCharge)||0)+((null==I?void 0:null===(w=I.sumOfIndoorCharge)||void 0===w?void 0:null===(b=w._sum)||void 0===b?void 0:b.serviceCharge)||0)})]}),(0,r.jsxs)(j.Stack,{gap:"lg",children:[(0,r.jsx)(h.Title,{mt:10,order:4,children:"Outdoor Bills"}),(0,r.jsxs)(d.i,{className:A().table,children:[(0,r.jsxs)(d.i.Thead,{children:[(0,r.jsx)(d.i.Th,{children:"Bill ID"}),(0,r.jsx)(d.i.Th,{children:"Bill Date"}),(0,r.jsx)(d.i.Th,{children:"Service Charge"}),(0,r.jsx)(d.i.Th,{children:"Total Amount"})]}),(0,r.jsx)(d.i.Tbody,{children:null==I?void 0:null===(S=I.bills)||void 0===S?void 0:S.map(e=>(0,r.jsxs)(d.i.Tr,{children:[(0,r.jsx)(d.i.Td,{children:null==e?void 0:e.billId}),(0,r.jsx)(d.i.Td,{children:(0,g.Z)(new Date(null==e?void 0:e.createdAt),"dd-MMM-yyyy")}),(0,r.jsx)(d.i.Td,{children:e.serviceCharge}),(0,r.jsx)(d.i.Td,{children:e.totalAmout})]},e.id))})]}),(0,r.jsx)(h.Title,{mt:10,order:4,children:"Indoor Bills"}),(0,r.jsxs)(d.i,{className:A().table,children:[(0,r.jsxs)(d.i.Thead,{children:[(0,r.jsx)(d.i.Th,{children:"Bill ID"}),(0,r.jsx)(d.i.Th,{children:"Bill Date"}),(0,r.jsx)(d.i.Th,{children:"Service Charge"}),(0,r.jsx)(d.i.Th,{children:"Total Amount"})]}),(0,r.jsx)(d.i.Tbody,{children:null==I?void 0:null===(z=I.hospitalBills)||void 0===z?void 0:z.map(e=>(0,r.jsxs)(d.i.Tr,{children:[(0,r.jsx)(d.i.Td,{children:null==e?void 0:e.billId}),(0,r.jsx)(d.i.Td,{children:(0,g.Z)(new Date(null==e?void 0:e.createdAt),"dd-MMM-yyyy")}),(0,r.jsx)(d.i.Td,{children:e.serviceCharge}),(0,r.jsx)(d.i.Td,{children:e.totalAmount})]},e.id))})]})]})]})]}):(0,r.jsx)(r.Fragment,{})})};var I=s(41363),Z=s(93784),B=s(74559),k=s(29259),M=s(72375),F=s(11114),O=s(47720),_=s(61321),E=s(37873);function N(e){let{diagnosticId:i}=e,s=(0,n.C)(e=>e.auth.diagnostic),l=(0,n.C)(e=>e.auth.user),d=(0,n.T)(),c=(0,O.c)({mode:"uncontrolled",initialValues:{serviceCharge:null==s?void 0:s.serviceCharge,indoorServiceCharge:null==s?void 0:s.indoorServiceCharge,sameAsOutdoor:!1,serviceChargePaymentPeriod:null==s?void 0:s.serviceChargePaymentPeriod}}),h=e=>{c.setFieldValue("sameAsOutdoor",e),e&&c.setFieldValue("indoorServiceCharge",c.values.serviceCharge)};return(0,r.jsxs)("form",{onSubmit:c.onSubmit(async e=>{try{let{sameAsOutdoor:s,serviceChargePaymentPeriod:r,...l}=e,n=i?await (0,Z.F)({...l,serviceChargePaymentPeriod:r},i):await (0,I.$)(l);if(n.success)d((0,B.Im)(n.data)),y().fire("Success","Updated info","success");else throw Error("Error")}catch(e){y().fire("Error","Something Went Wrong","error")}}),children:[(0,r.jsxs)(o.Group,{align:"start",children:[(0,r.jsx)(k.Y,{description:"This rate will be added to each outdoor bill",withAsterisk:!0,label:"Outdoor Service Charge",placeholder:"Type Outdoor Charge",my:5,styles:{input:{backgroundColor:"white"}},min:0,...c.getInputProps("serviceCharge")},c.key("serviceCharge")),(0,r.jsxs)(j.Stack,{children:[(0,r.jsx)(k.Y,{description:"This rate will be added to each indoor bill",withAsterisk:!0,label:"Type Indoor Charge",placeholder:"Type Indoor Charge",...c.getInputProps("indoorServiceCharge"),my:5,styles:{input:{backgroundColor:"white"}},min:0},c.key("indoorServiceCharge")),(0,r.jsx)(M.X,{label:"Same as Outdoor Charge",checked:c.values.sameAsOutdoor,onChange:e=>h(e.target.checked)})]}),(null==l?void 0:l.role)==="superadmin"?(0,r.jsx)(k.Y,{withAsterisk:!0,label:"Service Charge Payment Period",description:"After this period , diagnostic will pay the service charge",placeholder:"Type Payment Period",my:5,styles:{input:{backgroundColor:"white"}},min:0,...c.getInputProps("serviceChargePaymentPeriod")},c.key("serviceChargePaymentPeriod")):(0,r.jsx)(r.Fragment,{})]}),(0,r.jsxs)(j.Stack,{my:10,gap:"xs",children:[(0,r.jsxs)(a.Text,{w:500,size:"sm",children:["Last Payment Date :",(0,r.jsx)(F.C,{ml:5,size:"sm",color:"green",variant:"filled",radius:"xs",children:(null==s?void 0:s.serviceChargePaymentDate)&&(0,g.Z)(new Date(null==s?void 0:s.serviceChargePaymentDate),"dd-MMM-yyyy; hh:mm a")})]}),(0,r.jsxs)(a.Text,{w:500,size:"sm",children:["Next Payment Date :",(null==s?void 0:s.serviceChargePaymentDate)&&((null==s?void 0:s.serviceChargePaymentPeriod)||(null==s?void 0:s.serviceChargePaymentPeriod)===0)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F.C,{ml:5,size:"sm",color:"indigo",variant:"filled",radius:"xs",children:(0,g.Z)((0,_.Z)(new Date(s.serviceChargePaymentDate),{days:s.serviceChargePaymentPeriod}),"dd-MMM-yyyy; hh:mm a")}),(0,E.Z)((0,_.Z)(new Date(s.serviceChargePaymentDate),{days:s.serviceChargePaymentPeriod}),new Date)>0?"  ".concat((0,E.Z)((0,_.Z)(new Date(s.serviceChargePaymentDate),{days:s.serviceChargePaymentPeriod}),new Date)," Days Remaining"):(0,r.jsx)(a.Text,{fw:600,component:"span",c:"red",children:" Overdue "})]}):(0,r.jsx)(a.Text,{size:"sm",color:"gray",children:"Not available"})]})]}),(0,r.jsx)(o.Group,{mt:"md",children:(0,r.jsx)(t.Button,{disabled:!(null==s?void 0:s.canChangeServiceChargeSettings)&&(null==l?void 0:l.role)!=="superadmin",type:"submit",children:"Submit"})})]})}let W=async e=>{let{diagnosticId:i}=e;try{let e="".concat("http://sasthotech.local:5000/api/v1","/serviceCharge/transactions");i&&(e+="?diagnosticId=".concat(i));let s=await S.default.get(e,w.FD);return{success:!0,data:s.data.data}}catch(e){if(e instanceof z.d7){var s;return{success:!1,data:null===(s=e.response)||void 0===s?void 0:s.data.message}}return{success:!1,data:"An error occurred"}}},R=async e=>{let{diagnosticId:i,id:s}=e;try{let e="".concat("http://sasthotech.local:5000/api/v1","/serviceCharge/transactions/").concat(s);i&&(e+="?diagnosticId=".concat(i));let r=await S.default.get(e,w.FD);return{success:!0,data:r.data.data}}catch(e){if(e instanceof z.d7){var r;return{success:!1,data:null===(r=e.response)||void 0===r?void 0:r.data.message}}return{success:!1,data:"An error occurred"}}};var L=s(32451),V=s(76029),Y=s(3741),H=s(48604),K=s(16391),U=s(59406),Q=s(12697);let X=async e=>{let{diagnosticId:i,id:s,body:r}=e;try{let e="".concat("http://sasthotech.local:5000/api/v1","/serviceCharge/transactions/").concat(s);i&&(e+="?diagnosticId=".concat(i));let l=await S.default.patch(e,r,{...w.FD,...w.Hn});return{success:!0,data:l.data.data}}catch(e){if(e instanceof z.d7){var l;return{success:!1,data:null===(l=e.response)||void 0===l?void 0:l.data.message}}return{success:!1,data:"An error occurred"}}},$=async e=>{let{diagnosticId:i,id:s}=e;try{let e="".concat("http://sasthotech.local:5000/api/v1","/serviceCharge/transactions/").concat(s);i&&(e+="?diagnosticId=".concat(i));let r=await S.default.delete(e,{...w.FD});return{success:!0,data:r.data.data}}catch(e){if(e instanceof z.d7){var r;return{success:!1,data:null===(r=e.response)||void 0===r?void 0:r.data.message}}return{success:!1,data:"An error occurred"}}};var q=e=>{let{diagnosticId:i,increaseKey:s}=e,[l,n]=(0,p.useState)(null),[c,h]=(0,p.useState)(!1),[m,T]=(0,p.useState)(null),C=e=>{T(e),h(!0)};(0,p.useEffect)(()=>{(async()=>{let e={};i&&(e={diagnosticId:i});let s=await W(e);s.success?n(s.data):y().fire("Error","Something Went Wrong","error")})()},[i]);let f=async(e,r)=>{try{let l={};if(i&&(l={diagnosticId:i}),(await X({...l,id:e,body:{isApproved:r}})).success)null==s||s();else throw Error("Error")}catch(e){y().fire("Error","Something Went Wrong","error")}},b=async e=>{try{let r={};if(i&&(r={diagnosticId:i}),(await $({...r,id:e})).success)null==s||s();else throw Error("Error")}catch(e){y().fire("Error","Something Went Wrong","error")}};return(0,r.jsxs)("div",{children:[(0,r.jsx)(L.Box,{visibleFrom:"md",children:(0,r.jsxs)(d.i,{children:[(0,r.jsx)(d.i.Thead,{children:(0,r.jsxs)(d.i.Tr,{children:[(0,r.jsx)(d.i.Th,{children:"Payment Date"}),(0,r.jsx)(d.i.Th,{children:"Total Amount"}),(0,r.jsx)(d.i.Th,{children:"Paid Amount"}),(0,r.jsx)(d.i.Th,{children:"Approved"}),(0,r.jsx)(d.i.Th,{children:"Paid By"}),(0,r.jsx)(d.i.Th,{children:"Actions"})]})}),(0,r.jsx)(d.i.Tbody,{children:null==l?void 0:l.map(e=>{var s;return(0,r.jsxs)(d.i.Tr,{children:[(0,r.jsx)(d.i.Td,{children:(0,g.Z)(new Date(e.createdAt),"dd-MMM-yyyy")}),(0,r.jsx)(d.i.Td,{children:e.totalAmount}),(0,r.jsx)(d.i.Td,{children:e.paidAmount}),(0,r.jsx)(d.i.Td,{children:(0,r.jsx)(F.C,{color:e.isApproved?"teal":"red",children:e.isApproved?"Yes":"No"})}),(0,r.jsx)(d.i.Td,{children:null==e?void 0:null===(s=e.user)||void 0===s?void 0:s.name}),(0,r.jsx)(d.i.Td,{children:i?(0,r.jsxs)(o.Group,{align:"center",gap:4,children:[(0,r.jsx)(V.u,{label:(null==e?void 0:e.isApproved)?"Reject this transaction":"Approve this transaction",children:(0,r.jsx)(Y.A,{bg:"teal",size:"sm",children:(0,r.jsx)(U.Z,{size:16,onClick:()=>f(e.id,!e.isApproved)})})}),(0,r.jsx)(V.u,{label:"See Detailed Transaction",children:(0,r.jsx)(Y.A,{size:"sm",children:(0,r.jsx)(v.Z,{size:16,onClick:()=>C(e.id)})})}),(0,r.jsx)(V.u,{label:"Delete this transaction",children:(0,r.jsx)(Y.A,{bg:"red",size:"sm",children:(0,r.jsx)(Q.Z,{size:16,onClick:()=>b(e.id)})})})]}):(0,r.jsx)(t.Button,{leftSection:(0,r.jsx)(v.Z,{}),onClick:()=>C(e.id),size:"sm",children:"Details"})})]},e.id)})})]})}),(0,r.jsx)(j.Stack,{gap:"sm",hiddenFrom:"md",children:null==l?void 0:l.map(e=>{var s;return(0,r.jsx)(H.Z,{withBorder:!0,p:"sm",radius:"md",children:(0,r.jsxs)(j.Stack,{gap:"xs",children:[(0,r.jsxs)(K.k,{justify:"space-between",align:"center",children:[(0,r.jsx)(a.Text,{fw:600,size:"sm",children:(0,g.Z)(new Date(e.createdAt),"dd-MMM-yyyy")}),(0,r.jsx)(F.C,{color:e.isApproved?"teal":"red",size:"sm",children:e.isApproved?"Approved":"Pending"})]}),(0,r.jsxs)(u.Grid,{gutter:"xs",children:[(0,r.jsx)(x.GridCol,{span:5,children:(0,r.jsx)(a.Text,{size:"xs",c:"dimmed",children:"Total Amount:"})}),(0,r.jsx)(x.GridCol,{span:7,children:(0,r.jsx)(a.Text,{size:"sm",fw:500,children:e.totalAmount})}),(0,r.jsx)(x.GridCol,{span:5,children:(0,r.jsx)(a.Text,{size:"xs",c:"dimmed",children:"Paid Amount:"})}),(0,r.jsx)(x.GridCol,{span:7,children:(0,r.jsx)(a.Text,{size:"sm",fw:500,children:e.paidAmount})}),(0,r.jsx)(x.GridCol,{span:5,children:(0,r.jsx)(a.Text,{size:"xs",c:"dimmed",children:"Paid By:"})}),(0,r.jsx)(x.GridCol,{span:7,children:(0,r.jsx)(a.Text,{size:"sm",fw:500,children:null==e?void 0:null===(s=e.user)||void 0===s?void 0:s.name})})]}),(0,r.jsx)(L.Box,{mt:"xs",children:i?(0,r.jsxs)(o.Group,{justify:"center",gap:6,children:[(0,r.jsx)(V.u,{label:(null==e?void 0:e.isApproved)?"Reject this transaction":"Approve this transaction",children:(0,r.jsx)(Y.A,{bg:"teal",size:"sm",children:(0,r.jsx)(U.Z,{size:16,onClick:()=>f(e.id,!e.isApproved)})})}),(0,r.jsx)(V.u,{label:"See Detailed Transaction",children:(0,r.jsx)(Y.A,{size:"sm",children:(0,r.jsx)(v.Z,{size:16,onClick:()=>C(e.id)})})}),(0,r.jsx)(V.u,{label:"Delete this transaction",children:(0,r.jsx)(Y.A,{bg:"red",size:"sm",children:(0,r.jsx)(Q.Z,{size:16,onClick:()=>b(e.id)})})})]}):(0,r.jsx)(t.Button,{fullWidth:!0,leftSection:(0,r.jsx)(v.Z,{size:16}),onClick:()=>C(e.id),size:"xs",children:"View Details"})})]})},e.id)})}),(0,r.jsx)(J,{id:m,opened:c,onClose:()=>h(!1),diagnosticId:i})]})};let J=e=>{var i,s,l,v,C,y,b,w,S,z;let{id:D,opened:P,onClose:G,diagnosticId:I}=e,[Z,B]=(0,p.useState)(null),[k,M]=(0,p.useState)(!1),F=(0,n.C)(e=>e.auth.diagnostic);(0,p.useEffect)(()=>{let e=async()=>{if(!D)return;M(!0);let e={};I&&(e={diagnosticId:I});try{let i=await R({...e,id:D});i.success&&B(i.data)}catch(e){console.error(e)}finally{M(!1)}};D&&e()},[I,D]);let O=(0,p.useRef)(null),_=(0,T.useReactToPrint)({content:()=>O.current,documentTitle:" Transaction Details"});return(0,r.jsx)(r.Fragment,{children:Z?(0,r.jsxs)(c.u,{opened:P,onClose:G,title:"Transaction Details",centered:!0,children:[(0,r.jsx)(o.Group,{justify:"end",mb:"md",children:(0,r.jsx)(t.Button,{onClick:_,leftSection:(0,r.jsx)(m.Z,{size:18}),size:"sm",children:"Print"})}),(0,r.jsxs)("div",{className:"p-4",ref:O,children:[(0,r.jsx)(f.Z,{diagnostic:F}),(0,r.jsx)(h.Title,{order:3,mt:"md",children:"Service Charge Transaction Info"}),(0,r.jsxs)(u.Grid,{gutter:"xs",my:"md",children:[(0,r.jsx)(x.GridCol,{span:{base:12,sm:3},children:(0,r.jsx)(a.Text,{size:"sm",fw:500,children:"Payment Date"})}),(0,r.jsx)(x.GridCol,{span:{base:0,sm:1},visibleFrom:"sm",children:(0,r.jsx)(a.Text,{size:"sm",children:":"})}),(0,r.jsx)(x.GridCol,{span:{base:12,sm:8},children:(0,r.jsx)(a.Text,{size:"sm",children:(0,g.Z)(new Date(null!==(z=null==Z?void 0:Z.createdAt)&&void 0!==z?z:""),"dd-MMM-yyyy - hh:mm a")})}),(0,r.jsx)(x.GridCol,{span:{base:12,sm:3},children:(0,r.jsx)(a.Text,{size:"sm",fw:500,children:"Paid Amount"})}),(0,r.jsx)(x.GridCol,{span:{base:0,sm:1},visibleFrom:"sm",children:(0,r.jsx)(a.Text,{size:"sm",children:":"})}),(0,r.jsx)(x.GridCol,{span:{base:12,sm:8},children:(0,r.jsx)(a.Text,{size:"sm",children:null==Z?void 0:Z.paidAmount})}),(0,r.jsx)(x.GridCol,{span:{base:12,sm:3},children:(0,r.jsx)(a.Text,{size:"sm",fw:500,children:"Paid By"})}),(0,r.jsx)(x.GridCol,{span:{base:0,sm:1},visibleFrom:"sm",children:(0,r.jsx)(a.Text,{size:"sm",children:":"})}),(0,r.jsx)(x.GridCol,{span:{base:12,sm:8},children:(0,r.jsx)(a.Text,{size:"sm",children:null==Z?void 0:null===(i=Z.user)||void 0===i?void 0:i.name})}),(0,r.jsx)(x.GridCol,{span:{base:12,sm:3},children:(0,r.jsx)(a.Text,{size:"sm",fw:500,children:"Approved"})}),(0,r.jsx)(x.GridCol,{span:{base:0,sm:1},visibleFrom:"sm",children:(0,r.jsx)(a.Text,{size:"sm",children:":"})}),(0,r.jsx)(x.GridCol,{span:{base:12,sm:8},children:(0,r.jsx)(a.Text,{size:"sm",children:(null==Z?void 0:Z.isApproved)?"Yes":"No"})})]}),(0,r.jsxs)(j.Stack,{gap:"lg",children:[(0,r.jsxs)(L.Box,{children:[(0,r.jsx)(h.Title,{mt:10,order:4,children:"Outdoor Bills"}),(0,r.jsx)(L.Box,{visibleFrom:"sm",children:(0,r.jsxs)(d.i,{className:A().table,children:[(0,r.jsx)(d.i.Thead,{children:(0,r.jsxs)(d.i.Tr,{children:[(0,r.jsx)(d.i.Th,{children:"Bill ID"}),(0,r.jsx)(d.i.Th,{children:"Bill Date"}),(0,r.jsx)(d.i.Th,{children:"Service Charge"}),(0,r.jsx)(d.i.Th,{children:"Total Amount"})]})}),(0,r.jsx)(d.i.Tbody,{children:null==Z?void 0:null===(l=Z.info)||void 0===l?void 0:null===(s=l.bills)||void 0===s?void 0:s.map(e=>(0,r.jsxs)(d.i.Tr,{children:[(0,r.jsx)(d.i.Td,{children:null==e?void 0:e.billId}),(0,r.jsx)(d.i.Td,{children:(0,g.Z)(new Date(null==e?void 0:e.createdAt),"dd-MMM-yyyy")}),(0,r.jsx)(d.i.Td,{children:e.serviceCharge}),(0,r.jsx)(d.i.Td,{children:e.totalAmout})]},e.id))})]})}),(0,r.jsx)(j.Stack,{gap:"xs",hiddenFrom:"sm",mt:"sm",children:null==Z?void 0:null===(C=Z.info)||void 0===C?void 0:null===(v=C.bills)||void 0===v?void 0:v.map(e=>(0,r.jsx)(H.Z,{withBorder:!0,p:"xs",radius:"sm",children:(0,r.jsxs)(u.Grid,{gutter:"xs",children:[(0,r.jsx)(x.GridCol,{span:5,children:(0,r.jsx)(a.Text,{size:"xs",c:"dimmed",children:"Bill ID:"})}),(0,r.jsx)(x.GridCol,{span:7,children:(0,r.jsx)(a.Text,{size:"xs",fw:500,children:null==e?void 0:e.billId})}),(0,r.jsx)(x.GridCol,{span:5,children:(0,r.jsx)(a.Text,{size:"xs",c:"dimmed",children:"Bill Date:"})}),(0,r.jsx)(x.GridCol,{span:7,children:(0,r.jsx)(a.Text,{size:"xs",fw:500,children:(0,g.Z)(new Date(null==e?void 0:e.createdAt),"dd-MMM-yyyy")})}),(0,r.jsx)(x.GridCol,{span:5,children:(0,r.jsx)(a.Text,{size:"xs",c:"dimmed",children:"Service Charge:"})}),(0,r.jsx)(x.GridCol,{span:7,children:(0,r.jsx)(a.Text,{size:"xs",fw:500,children:e.serviceCharge})}),(0,r.jsx)(x.GridCol,{span:5,children:(0,r.jsx)(a.Text,{size:"xs",c:"dimmed",children:"Total Amount:"})}),(0,r.jsx)(x.GridCol,{span:7,children:(0,r.jsx)(a.Text,{size:"xs",fw:500,children:e.totalAmout})})]})},e.id))})]}),(0,r.jsxs)(L.Box,{children:[(0,r.jsx)(h.Title,{mt:10,order:4,children:"Indoor Bills"}),(0,r.jsx)(L.Box,{visibleFrom:"sm",children:(0,r.jsxs)(d.i,{className:A().table,children:[(0,r.jsx)(d.i.Thead,{children:(0,r.jsxs)(d.i.Tr,{children:[(0,r.jsx)(d.i.Th,{children:"Bill ID"}),(0,r.jsx)(d.i.Th,{children:"Bill Date"}),(0,r.jsx)(d.i.Th,{children:"Service Charge"}),(0,r.jsx)(d.i.Th,{children:"Total Amount"})]})}),(0,r.jsx)(d.i.Tbody,{children:null==Z?void 0:null===(b=Z.info)||void 0===b?void 0:null===(y=b.hospitalBills)||void 0===y?void 0:y.map(e=>(0,r.jsxs)(d.i.Tr,{children:[(0,r.jsx)(d.i.Td,{children:null==e?void 0:e.billId}),(0,r.jsx)(d.i.Td,{children:(0,g.Z)(new Date(null==e?void 0:e.createdAt),"dd-MMM-yyyy")}),(0,r.jsx)(d.i.Td,{children:e.serviceCharge}),(0,r.jsx)(d.i.Td,{children:e.totalAmount})]},e.id))})]})}),(0,r.jsx)(j.Stack,{gap:"xs",hiddenFrom:"sm",mt:"sm",children:null==Z?void 0:null===(S=Z.info)||void 0===S?void 0:null===(w=S.hospitalBills)||void 0===w?void 0:w.map(e=>(0,r.jsx)(H.Z,{withBorder:!0,p:"xs",radius:"sm",children:(0,r.jsxs)(u.Grid,{gutter:"xs",children:[(0,r.jsx)(x.GridCol,{span:5,children:(0,r.jsx)(a.Text,{size:"xs",c:"dimmed",children:"Bill ID:"})}),(0,r.jsx)(x.GridCol,{span:7,children:(0,r.jsx)(a.Text,{size:"xs",fw:500,children:null==e?void 0:e.billId})}),(0,r.jsx)(x.GridCol,{span:5,children:(0,r.jsx)(a.Text,{size:"xs",c:"dimmed",children:"Bill Date:"})}),(0,r.jsx)(x.GridCol,{span:7,children:(0,r.jsx)(a.Text,{size:"xs",fw:500,children:(0,g.Z)(new Date(null==e?void 0:e.createdAt),"dd-MMM-yyyy")})}),(0,r.jsx)(x.GridCol,{span:5,children:(0,r.jsx)(a.Text,{size:"xs",c:"dimmed",children:"Service Charge:"})}),(0,r.jsx)(x.GridCol,{span:7,children:(0,r.jsx)(a.Text,{size:"xs",fw:500,children:e.serviceCharge})}),(0,r.jsx)(x.GridCol,{span:5,children:(0,r.jsx)(a.Text,{size:"xs",c:"dimmed",children:"Total Amount:"})}),(0,r.jsx)(x.GridCol,{span:7,children:(0,r.jsx)(a.Text,{size:"xs",fw:500,children:e.totalAmount})})]})},e.id))})]})]})]})]}):(0,r.jsx)(r.Fragment,{})})};var ee=s(13342),ei=s(58211),es=s(11019),er=s(38156),el=e=>{let{diagnosticId:i}=e,[s,l]=(0,p.useState)(0),n=()=>{l(e=>e+14)};return(0,r.jsx)("div",{className:A().container,children:(0,r.jsxs)(H.Z,{children:[(0,r.jsx)(h.Title,{my:10,children:"SasthoTech Service Charge"}),(0,r.jsxs)(ee.m,{defaultValue:"due",children:[(0,r.jsxs)(ee.m.List,{children:[(0,r.jsx)(ee.m.Tab,{value:"due",leftSection:(0,r.jsx)(ei.Z,{}),children:"Due Charges"}),(0,r.jsx)(ee.m.Tab,{value:"transactions",leftSection:(0,r.jsx)(es.Z,{}),children:"Transaction History"}),(0,r.jsx)(ee.m.Tab,{value:"settings",leftSection:(0,r.jsx)(er.Z,{}),children:"Settings"})]}),(0,r.jsx)(ee.m.Panel,{value:"due",children:(0,r.jsx)(P,{diagnosticId:i,increaseKey:n})}),(0,r.jsxs)(ee.m.Panel,{value:"transactions",children:[" ",(0,r.jsx)(q,{increaseKey:n,diagnosticId:i})]}),(0,r.jsx)(ee.m.Panel,{value:"settings",children:(0,r.jsx)(N,{diagnosticId:i})})]},s)]})})}},93784:function(e,i,s){"use strict";s.d(i,{F:function(){return d}});var r=s(72940),l=s(6780),n=s(67732);let d=async(e,i)=>{try{let s=await l.default.patch("".concat("http://sasthotech.local:5000/api/v1","/diagnostic/").concat(i),e,{...r.FD,...r.Hn});return{success:!0,data:s.data.data}}catch(e){if(e instanceof n.d7){var s;return{success:!1,data:null===(s=e.response)||void 0===s?void 0:s.data.message}}return{success:!1,data:"An error occurred"}}}},27553:function(e,i,s){"use strict";s.d(i,{d:function(){return d}});var r=s(72940),l=s(6780),n=s(67732);let d=async e=>{let{diagnosticId:i}=e;try{let e="".concat("http://sasthotech.local:5000/api/v1","/serviceCharge");i&&(e+="?diagnosticId=".concat(i));let s=await l.default.get(e,r.FD);return{success:!0,data:s.data.data}}catch(e){if(e instanceof n.d7){var s;return{success:!1,data:null===(s=e.response)||void 0===s?void 0:s.data.message}}return{success:!1,data:"An error occurred"}}}},74559:function(e,i,s){"use strict";s.d(i,{Im:function(){return d},av:function(){return n},nC:function(){return l}});let r=(0,s(79258).createSlice)({name:"auth",initialState:{isAuth:null,user:null,isProfileIncomplete:!1,diagnostic:null},reducers:{setUser:(e,i)=>{var s;e.user=i.payload,e.isAuth=!!i.payload,(null===(s=i.payload)||void 0===s?void 0:s.name)?localStorage.setItem("name",i.payload.name):localStorage.removeItem("name")},setDiagnostic:(e,i)=>{let s=i.payload;"hospital.sasthotech.com"===window.location.hostname?s.activeLogo=s.logo:s.activeLogo=s.offlineLogo,e.diagnostic=s},setProfileIncomplete:(e,i)=>{e.isProfileIncomplete=i.payload}}}),l=e=>{var i;return null===(i=e.auth.user)||void 0===i?void 0:i.role},{setUser:n,setDiagnostic:d}=r.actions;i.ZP=r.reducer},53700:function(e){e.exports={table:"style_table__Q0yDR",container:"style_container__i_Aig"}}}]);