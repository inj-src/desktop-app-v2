(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9679],{73031:function(e,t,n){"use strict";var i=n(68328),r=n(22614),a=n(7140),s=n(87967),o=n(62471),l=n(12450),d=n(4505);t.Z=e=>{let{totalPages:t,extraRoute:n,defaultLimit:c=25}=e,u=(0,l.useSearchParams)(),h=(0,l.useRouter)(),[p,x]=(0,o.I)({key:"pagination-limit",defaultValue:"25"}),m=u.get("limit")||p||c.toString(),f=u.get("page")||"1";return(0,d.useEffect)(()=>{if(!u.get("limit")&&p){let e=new URLSearchParams(Array.from(u.entries()));e.set("limit",p),e.set("page",f),h.replace("?".concat(e.toString()).concat(n||""))}},[]),(0,i.jsx)("div",{className:"px-4",children:(0,i.jsxs)(r.Group,{justify:"space-between",children:[(0,i.jsx)(a.t,{value:parseInt(f),onChange:e=>{let t=new URLSearchParams(Array.from(u.entries()));t.set("limit",m),t.set("page",e.toString()),h.push("?".concat(t.toString()).concat(n||""))},total:t}),(0,i.jsx)(s.P,{label:"Select Limit",data:["25","50","75","100","200","500","1000","2000"],value:m,onChange:e=>{if(e){x(e);let t=new URLSearchParams(Array.from(u.entries()));t.set("limit",e),t.set("page","1"),h.push("?".concat(t.toString()).concat(n||""))}}})]})})}},71256:function(e,t,n){"use strict";var i=n(68328),r=n(22614),a=n(22041),s=n(77303),o=n(62471);t.Z=e=>{let{diagnostic:t,email:n,children:l,color:d,patientId:c,small:u,large:h,isBigLogo:p,idLabel:x,idBorder:m,labId:f}=e,v=(0,o._)({key:"print-show-division-name",defaultValue:"true"});return(0,i.jsxs)("div",{className:"diagnostic-info1",children:[(0,i.jsx)(r.Group,{children:p&&(0,i.jsx)("img",{style:{aspectRatio:"auto",width:"100%",height:"100px"},src:"/images/heathcare.png",alt:"Diagnotic Image"})}),(0,i.jsxs)(r.Group,{wrap:"nowrap",justify:p?"center":"space-between",children:[(0,i.jsxs)(r.Group,{wrap:"nowrap",bg:"white",py:1,mb:1,align:"center",children:[null!=p?p:(0,i.jsx)("img",{width:u?50:100,height:u?50:100,style:{objectFit:"cover"},src:"localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||window.location.hostname.includes("local")?null==t?void 0:t.offlineLogo:null==t?void 0:t.logo,alt:"Diagnotic Image"}),(0,i.jsx)(r.Group,{wrap:"nowrap",children:(0,i.jsxs)("div",{children:[(0,i.jsx)(a.Text,{styles:{root:{fontSize:"".concat(h?32:u?14:24)}},size:"xl",style:{fontSize:h?16:void 0},fw:700,children:null==t?void 0:t.name}),(0,i.jsxs)(a.Text,{fw:500,my:1,styles:{root:{wordBreak:"break-word",fontSize:h?12:void 0}},children:["Address: ",null==t?void 0:t.address,"true"===v&&(null==t?void 0:t.division)?";".concat(null==t?void 0:t.division):""]}),(0,i.jsxs)(r.Group,{children:[(0,i.jsxs)(a.Text,{my:1,fw:500,styles:{root:{wordBreak:"break-word",fontSize:h?12:void 0}},children:["Phone: ",null==t?void 0:t.phone1," , ",null==t?void 0:t.phone2]}),n?(0,i.jsxs)(a.Text,{my:1,fw:500,styles:{root:{wordBreak:"break-word",fontSize:h?16:void 0}},children:["; Email : ",n]}):(0,i.jsx)(i.Fragment,{})]})]})})]}),f&&(0,i.jsxs)(a.Text,{fw:700,mt:"auto",mb:9,style:{border:m?"2px solid #555":"none",padding:m?"4px":"0px",borderRadius:m?"2px":"0px"},styles:{root:{fontSize:"calc(var(--mantine-scale) * ".concat(h?16:u?12:14,")")}},children:["Lab\xa0ID:\xa0",f]}),c&&(0,i.jsxs)(a.Text,{fw:700,mt:"auto",mb:9,style:{border:m?"2px solid #555":"none",padding:m?"4px":"0px",borderRadius:m?"2px":"0px"},styles:{root:{fontSize:"calc(var(--mantine-scale) * ".concat(h?16:u?12:14,")")}},children:["Patient\xa0ID:\xa0",c]}),l]}),(0,i.jsx)(s.Divider,{size:"sm",color:d||"black",style:{marginBottom:"2px"}})]})}},69667:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var i=n(68328),r=n(74559),a=n(25499),s=n(77379),o=n(12450);let l=e=>{let{className:t,defaultOverall:n=!1,...l}=e,d=(0,o.useSearchParams)(),c=(0,o.usePathname)(),u=(0,o.useRouter)();return"receptionist"===(0,a.C)(r.nC)&&(0,i.jsx)(s.s,{value:(n?!d.has("personal"):d.has("overall"))?"overall":"personal",onChange:e=>{let t=new URLSearchParams(d),i=n?"personal":"overall";e===i?t.set(i,"true"):t.delete(i),u.push("".concat(c,"?").concat(t))},className:["hide__print",t].filter(Boolean).join(" "),...l,data:[{label:"Personal View",value:"personal"},{label:"Overall View",value:"overall"}]})}},98641:function(e,t,n){"use strict";n.d(t,{HF:function(){return f},OU:function(){return v},t2:function(){return y}});var i=n(68328),r=n(15139),a=n(89043),s=n(22614),o=n(68242),l=n(54632),d=n(22041),c=n(20234),u=n(13520),h=n(22776),p=n.n(h),x=n(97722),m=n.n(x);let f=e=>{var t,n,h;let{table:p,...x}=e,f=new Map(null===(t=p.totals)||void 0===t?void 0:t.map(e=>[e,0]));return(0,i.jsxs)(a.X,{bg:"white",p:"lg",radius:"md",shadow:"md",mt:"md",...x,children:[(0,i.jsxs)(s.Group,{mb:"md",children:[(0,i.jsx)(r.P,{fz:36,p:6,className:"bg-dark text-white rounded-circle hide__print"}),(0,i.jsx)(o.Title,{order:2,mr:"auto",children:p.title})]}),(null===(n=p.rows)||void 0===n?void 0:n.length)?(0,i.jsx)(l.i.ScrollContainer,{minWidth:767,children:(0,i.jsxs)(l.i,{className:m().table,children:[(0,i.jsx)(l.i.Thead,{children:(0,i.jsx)(l.i.Tr,{children:p.headers.map((e,t)=>(0,i.jsx)(l.i.Th,{children:e},"".concat(e).concat(t)))})}),(0,i.jsxs)(l.i.Tbody,{children:[null===(h=p.rows)||void 0===h?void 0:h.map((e,t)=>(0,i.jsx)(l.i.Tr,{className:p.limit&&t>=p.limit?"print-only":"",children:e.map((e,t)=>{if(f.has(t)){let n="number"==typeof e?e:"string"==typeof e&&parseFloat(e)||0;f.set(t,f.get(t)+n)}return(0,i.jsx)(l.i.Td,{children:e},"".concat(e).concat(t))})},t)),p.totals&&(0,i.jsxs)(l.i.Tr,{style:{borderTop:"2px solid #000000"},className:"print-only",children:[(0,i.jsx)(l.i.Td,{children:"Total"}),p.headers.slice(1).map((e,t)=>(0,i.jsx)(l.i.Td,{children:f.get(t+1)},t))]})]})]})}):(0,i.jsxs)(d.Text,{ta:"center",c:"red",size:"xl",fw:600,children:["No ",p.title.toLowerCase()," found in this period."]}),p.linkToMore&&(0,i.jsx)("div",{className:"mt-3 text-center hide__print",children:(0,i.jsxs)(c.Anchor,{component:u.default,href:p.linkToMore,children:["See more ",p.title.toLowerCase()]})})]})},v=e=>(0,i.jsx)(c.Anchor,{component:u.default,href:"/patient/details?id=".concat(e.billId),children:e.billId},"patientId"),y=e=>(0,i.jsx)(p(),{format:"DD-MM-YYYY (h:mm a)",children:e.createdAt},"datetime")},45453:function(e,t,n){"use strict";n.d(t,{v:function(){return o}});var i=n(68328),r=n(78284),a=n(76029),s=n(97698);function o(e){var t,n;let{bedBooking:o,includeTime:l,manualDayCount:d}=e,c=(0,r.p)(o.bedId),{price:u,duration:h}=(()=>{var e,t,n,i,r;let a=(null==o?void 0:o.discountType)==="amount"?null!==(e=o.discount)&&void 0!==e?e:0:Math.floor((null!==(t=o.price)&&void 0!==t?t:0)*(null!==(n=o.discount)&&void 0!==n?n:0)/100),s=(null!==(i=null==o?void 0:o.price)&&void 0!==i?i:0)-a,l=Math.ceil((null!==(r=o.totalCost)&&void 0!==r?r:0)/(null!=s?s:1));return{price:s,duration:d&&d>0?d:l}})();return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"16px",fontSize:14,whiteSpace:"nowrap"},children:[(0,i.jsx)(a.u,{label:"Bed No",children:(0,i.jsx)("span",{style:{color:"#0000FF"},children:c})}),(0,i.jsx)(a.u,{label:"Rate \xd7 Days",children:(0,i.jsxs)("span",{style:{color:"#28a745"},children:[u.toLocaleString()," \xd7 ",h]})}),(0,i.jsx)(a.u,{label:"Total Duration",children:(0,i.jsxs)("span",{style:{color:"#6c757d"},children:["(",h," ",1===h?"day":"days",")"]})})]}),l&&(0,i.jsxs)("div",{style:{fontSize:12,color:"#6c757d",textAlign:"right"},children:[(0,s.Z)(new Date(null!==(t=null==o?void 0:o.startDate)&&void 0!==t?t:""),"dd MMM yyyy ; hh:mm:ss aa")," to"," ",(null==o?void 0:o.endDate)?(0,s.Z)(new Date(null!==(n=null==o?void 0:o.endDate)&&void 0!==n?n:""),"dd MMM yyyy ; hh:mm:ss aa"):"*"]})]})}},6826:function(e,t,n){"use strict";var i=n(68328),r=n(13394),a=n(13342),s=n(68242),o=n(22614),l=n(22041),d=n(76029),c=n(3741),u=n(54632),h=n(22975),p=n(41224),x=n(29259),m=n(31204),f=n(35587),v=n(4505),y=n(90660),j=n.n(y);let g=e=>(e.price-("amount"===e.discountType?e.discount:e.price*e.discount/100)).toFixed(2);t.Z=e=>{let{outdoorBills:t,onBillUpdate:n}=e,[y,w]=(0,v.useState)(null),[T,b]=(0,v.useState)(0),[S,D]=(0,v.useState)(!1);if(0===t.length)return null;let B=e=>{w(e),b(0)},A=()=>{w(null),b(0)},C=async()=>{if(y){console.log(y);try{D(!0);let e=y.paidAmount+T,{success:t,data:i}=await (0,r.N)({paidAmount:e},y.id);t?(await j().fire("Success","Bill Updated","success"),A(),null==n||n()):j().fire("Error",i||"Failed to update bill","error")}catch(e){console.error(e),j().fire("Error","An unexpected error occurred","error")}finally{D(!1)}}},F=e=>Math.floor(e.totalAmountWithDiscount-e.paidAmount);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.m,{defaultValue:t[0].id,children:[(0,i.jsx)(s.Title,{order:2,children:"Outdoor Bills"}),(0,i.jsx)(a.m.List,{children:t.map((e,t)=>(0,i.jsxs)(a.m.Tab,{value:e.id,children:["Bill ",t+1]},e.id))}),t.map((e,t)=>(0,i.jsxs)(a.m.Panel,{value:e.id,children:[(0,i.jsxs)(o.Group,{align:"center",wrap:"wrap",mb:"md",children:[(0,i.jsx)(l.Text,{fw:600,style:{display:"inline-flex",alignItems:"center",justifyContent:"center",padding:"2px 8px",borderRadius:"6px",background:"Due"===e.status?"#ffa500":"#00ff00",color:"black",marginLeft:"20px",margin:"5px 2px 8px 20px"},mr:"auto",children:e.status}),(0,i.jsxs)(l.Text,{c:"#0000ff",children:["BILL ID:",e.billId," "]}),F(e)>0&&(0,i.jsx)(d.u,{label:"Update Payment",children:(0,i.jsx)(c.A,{variant:"subtle",color:"green",onClick:()=>B(e),children:(0,i.jsx)(f.Z,{size:20})})})]}),(0,i.jsx)(u.i.ScrollContainer,{minWidth:767,children:(0,i.jsxs)(u.i,{striped:!0,verticalSpacing:"lg",horizontalSpacing:"lg",withRowBorders:!1,style:{borderRadius:"1rem",overflow:"clip"},children:[(0,i.jsx)(u.i.Thead,{children:(0,i.jsx)(u.i.Tr,{children:["Test Name","Bill Fee","Discount(%)","Net Fee"].map(e=>(0,i.jsx)(u.i.Td,{py:"sm",children:e},e))})}),(0,i.jsx)(u.i.Tbody,{fw:600,children:e.tests.map(e=>(0,i.jsxs)(u.i.Tr,{children:[(0,i.jsx)(u.i.Td,{children:e.name}),(0,i.jsx)(u.i.Td,{children:e.price.toFixed(2)}),(0,i.jsx)(u.i.Td,{children:e.discount.toFixed(2)}),(0,i.jsx)(u.i.Td,{children:g(e)})]},e.id))}),(0,i.jsxs)(u.i.Tfoot,{fw:700,fz:"md",bg:"#1A72E9",c:"#FFF",children:[(0,i.jsxs)(u.i.Tr,{children:[(0,i.jsx)(u.i.Th,{colSpan:3,children:"Total"}),(0,i.jsx)(u.i.Td,{children:e.totalAmout.toFixed(2)})]}),(0,i.jsxs)(u.i.Tr,{children:[(0,i.jsx)(u.i.Th,{colSpan:3,children:"Discount"}),(0,i.jsx)(u.i.Td,{children:(e.totalAmout-e.totalAmountWithDiscount).toFixed(2)})]}),(0,i.jsxs)(u.i.Tr,{fz:"lg",style:{borderTop:"1px dashed #FFF"},children:[(0,i.jsx)(u.i.Th,{colSpan:3,children:"Sub-Total"}),(0,i.jsx)(u.i.Td,{children:e.totalAmountWithDiscount.toFixed(2)})]}),(0,i.jsxs)(u.i.Tr,{children:[(0,i.jsx)(u.i.Th,{colSpan:3,children:"Paid"}),(0,i.jsx)(u.i.Td,{children:e.paidAmount.toFixed(2)})]}),(0,i.jsxs)(u.i.Tr,{children:[(0,i.jsx)(u.i.Th,{colSpan:3,children:"Due"}),(0,i.jsx)(u.i.Td,{children:F(e).toFixed(2)})]})]})]})})]},t))]}),y&&(0,i.jsx)(h.u,{styles:{title:{fontSize:24,fontWeight:600}},title:"Update Bill Payment",size:"md",opened:!!y,onClose:A,centered:!0,children:(0,i.jsxs)(p.Stack,{gap:"md",children:[(0,i.jsxs)(o.Group,{grow:!0,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Text,{size:"sm",c:"dimmed",children:"Bill ID"}),(0,i.jsx)(l.Text,{fw:600,children:y.billId})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Text,{size:"sm",c:"dimmed",children:"Status"}),(0,i.jsx)(l.Text,{fw:600,c:"Due"===y.status?"orange":"green",children:y.status})]})]}),(0,i.jsxs)(o.Group,{grow:!0,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Text,{size:"sm",c:"dimmed",children:"Sub-Total"}),(0,i.jsx)(l.Text,{fw:600,children:y.totalAmountWithDiscount.toFixed(2)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Text,{size:"sm",c:"dimmed",children:"Previous Paid"}),(0,i.jsx)(l.Text,{fw:600,children:y.paidAmount.toFixed(2)})]})]}),(0,i.jsxs)(o.Group,{grow:!0,children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Text,{size:"sm",c:"dimmed",children:"Current Due"}),(0,i.jsx)(l.Text,{fw:600,c:"red",children:F(y).toFixed(2)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(l.Text,{size:"sm",c:"dimmed",children:"After Payment Due"}),(0,i.jsx)(l.Text,{fw:600,c:F(y)-T<=0?"green":"orange",children:Math.max(0,F(y)-T).toFixed(2)})]})]}),(0,i.jsx)(x.Y,{label:"Pay Now",placeholder:"Enter amount to pay",value:T,onChange:e=>b(Number(e)||0),min:0,error:T>F(y)?"Amount exceeds due amount":null,size:"md",styles:{input:{fontWeight:600,fontSize:18}}}),(0,i.jsxs)(o.Group,{justify:"flex-end",mt:"md",children:[(0,i.jsx)(m.Button,{variant:"outline",onClick:A,children:"Cancel"}),(0,i.jsx)(m.Button,{color:"green",loading:S,disabled:T<=0||T>F(y),onClick:C,children:"Update Payment"})]})]})})]})}},43355:function(e,t,n){"use strict";n.d(t,{F:function(){return u}});var i=n(68328),r=n(71256);n(45453),n(6826);var a=n(25499),s=n(22614),o=n(32451),l=n(22041),d=n(97698),c=n(4505);let u=e=>{let{className:t,...n}=e,u=(0,a.C)(e=>e.auth.diagnostic),h=(0,a.C)(e=>e.auth.user),[p,x]=(0,c.useState)();return[null==u?void 0:u.address,null==u?void 0:u.division].filter(Boolean).join(", "),[null==u?void 0:u.phone1,null==u?void 0:u.phone2].filter(Boolean).join(", "),(0,c.useEffect)(()=>{x(new Date)},[]),(0,i.jsxs)("div",{className:"print-only",children:[(0,i.jsx)(r.Z,{diagnostic:u}),(0,i.jsxs)(s.Group,{justify:"space-between",children:[(0,i.jsx)(o.Box,{children:(0,i.jsxs)(l.Text,{size:"xs",children:["Print Time:"," ",(0,i.jsx)(l.Text,{component:"span",fw:600,children:p&&(0,d.Z)(p,"dd MMM yyyy ; hh:mm aa")})]})}),(0,i.jsx)(o.Box,{children:(0,i.jsxs)(l.Text,{size:"xs",children:["Printed By:"," ",(0,i.jsx)(l.Text,{component:"span",fw:600,children:null==h?void 0:h.name})]})})]})]})}},15139:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var i=n(68328),r=n(32451),a=n(29013),s=n(98553);let o=(0,n(4505).forwardRef)(function(e,t){let{style:n,...o}=e;return(0,i.jsx)(r.Box,{component:"span",ref:t,style:{display:"flex",...n},...o,children:(0,i.jsxs)("span",{style:{display:"flex",position:"relative"},children:[(0,i.jsx)(a.Z,{size:"1em",stroke:1}),(0,i.jsx)(s.Z,{style:{position:"absolute",right:"0.1em",top:"0"},size:"0.4em",stroke:3})]})})})},72940:function(e,t,n){"use strict";n.d(t,{FD:function(){return r},Hn:function(){return i},y4:function(){return a}});let i={headers:{"Content-Type":"application/json"}},r={withCredentials:!0},a={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},78284:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var i=n(4505),r=n(90685);function a(e){let{data:t}=(0,r.wz)(e);return(0,i.useMemo)(()=>{var e,n,i,r,a,s,o;let l=null==t?void 0:null===(i=t.data)||void 0===i?void 0:null===(n=i.BedSubCategory)||void 0===n?void 0:null===(e=n.BedCategory)||void 0===e?void 0:e.name,d=null==t?void 0:null===(a=t.data)||void 0===a?void 0:null===(r=a.BedSubCategory)||void 0===r?void 0:r.name,c=null==t?void 0:null===(s=t.data)||void 0===s?void 0:s.bedNumber,u=null==t?void 0:null===(o=t.data)||void 0===o?void 0:o.roomNo;return l&&d&&c&&u?"".concat(l,"/").concat(d," B").concat(c,"-R").concat(u):"Not Selected"},[null==t?void 0:t.data])}},13394:function(e,t,n){"use strict";n.d(t,{N:function(){return s}});var i=n(72940),r=n(6780),a=n(67732);let s=async(e,t)=>{try{let n=await r.default.patch("".concat("http://sasthotech.local:5000/api/v1","/bill/").concat(t),e,{...i.FD,...i.Hn});return{success:!0,data:n.data.data}}catch(e){if(e instanceof a.d7){var n;return{success:!1,data:null===(n=e.response)||void 0===n?void 0:n.data.message}}return{success:!1,data:"An error occurred"}}}},78101:function(e,t,n){"use strict";n.d(t,{g:function(){return o}});var i=n(49854),r=n(68240),a=n(94183),s=n(28317);let o=(0,r.LC)({baseQuery:(0,a.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async n=>{let r="string"==typeof e?e:e.url;return r.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,s.t8)(r,await n.clone().json().catch(()=>null),(0,i.x)()),n}).catch(async n=>{if(n instanceof TypeError){let n="string"==typeof e?e:e.url;if(!n.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,s.U2)(n,(0,i.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw n})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},74559:function(e,t,n){"use strict";n.d(t,{Im:function(){return s},av:function(){return a},nC:function(){return r}});let i=(0,n(79258).createSlice)({name:"auth",initialState:{isAuth:null,user:null,isProfileIncomplete:!1,diagnostic:null},reducers:{setUser:(e,t)=>{var n;e.user=t.payload,e.isAuth=!!t.payload,(null===(n=t.payload)||void 0===n?void 0:n.name)?localStorage.setItem("name",t.payload.name):localStorage.removeItem("name")},setDiagnostic:(e,t)=>{let n=t.payload;"hospital.sasthotech.com"===window.location.hostname?n.activeLogo=n.logo:n.activeLogo=n.offlineLogo,e.diagnostic=n},setProfileIncomplete:(e,t)=>{e.isProfileIncomplete=t.payload}}}),r=e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.role},{setUser:a,setDiagnostic:s}=i.actions;t.ZP=i.reducer},90685:function(e,t,n){"use strict";n.d(t,{fN:function(){return o},kt:function(){return r},lq:function(){return d},ww:function(){return l},wz:function(){return a}});let i=n(78101).g.injectEndpoints({endpoints:e=>({getBeds:e.query({query:()=>({url:"/bed/Bed"}),keepUnusedDataFor:86400,transformResponse:e=>(Array.isArray(null==e?void 0:e.data)&&e.data.sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()),e)}),createBed:e.mutation({query:e=>({url:"/bed/beds",method:"POST",body:e}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:r}=t,a=Date.now().toString(36),s=n(i.util.updateQueryData("getBeds",void 0,t=>{t.data.push({...e,id:a,loading:!0})}));try{let{data:e}=await r;n(i.util.updateQueryData("getBeds",void 0,t=>{let n=t.data.findIndex(e=>e.id===a);n>=0&&(t.data[n]=e.data)}))}catch(e){s.undo()}}}),createMultipleBeds:e.mutation({query:e=>({url:"/bed/beds/multi",method:"POST",body:e}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:r}=t,a=e.map(()=>Date.now().toString(36)+Math.random().toString(36).substr(2,5)),s=n(i.util.updateQueryData("getBeds",void 0,t=>{a.forEach((n,i)=>{t.data.push({...e[i],id:n,loading:!0})})}));try{let{data:e}=await r;n(i.util.updateQueryData("getBeds",void 0,t=>{e.data.forEach((e,n)=>{let i=a[n],r=t.data.findIndex(e=>e.id===i);r>=0&&(t.data[r]=e)})}))}catch(e){s.undo()}}}),updateBed:e.mutation({query:e=>{let{id:t,...n}=e;return{url:"/bed/beds/".concat(t),method:"PATCH",body:n}},async onQueryStarted(e,t){let{id:n,...r}=e,{dispatch:a,queryFulfilled:s}=t,o=a(i.util.updateQueryData("getBeds",void 0,e=>{let t=e.data.findIndex(e=>e.id===n);t>=0&&(e.data[t]={...e.data[t],...r})}));try{let{data:e}=await s;a(i.util.updateQueryData("getBeds",void 0,t=>{let i=t.data.findIndex(e=>e.id===n);i>=0&&(t.data[i]=e.data)}))}catch(e){o.undo()}}}),deleteBed:e.mutation({query:e=>({url:"/bed/beds/".concat(e),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:r}=t,a=n(i.util.updateQueryData("getBeds",void 0,t=>{let n=t.data.find(t=>t.id===e);n&&(n.loading=!0)}));try{await r,n(i.util.updateQueryData("getBeds",void 0,t=>{let n=t.data.findIndex(t=>t.id===e);n>=0&&t.data.splice(n,1)}))}catch(e){a.undo()}}}),getSingleBed:e.query({query:e=>({url:"/bed/beds/".concat(e)})})})}),{useCreateBedMutation:r,useGetSingleBedQuery:a,useGetBedsQuery:s,useCreateMultipleBedsMutation:o,useUpdateBedMutation:l,useDeleteBedMutation:d}=i},13603:function(e,t,n){"use strict";n.d(t,{rm:function(){return d},uA:function(){return l}});var i=n(79258),r=n(69192),a=n(4646),s=n(14685);let o=(0,i.createSlice)({name:"dates",initialState:{dates:[null,null]},reducers:{setDates:(e,t)=>{e.dates=t.payload}}}),l=(0,r.createSelector)([e=>e.dates.dates],e=>{let[t,n]=e;return[t?new Date(t):(0,a.Z)(),n?new Date(n):(0,s.Z)()]}),{setDates:d}=o.actions;t.ZP=o.reducer},25499:function(e,t,n){"use strict";n.d(t,{C:function(){return a},T:function(){return r}});var i=n(53502);let r=()=>(0,i.I0)(),a=i.v9},49854:function(e,t,n){"use strict";let i;n.d(t,{d:function(){return d},x:function(){return l}});var r=n(72940),a=n(6780),s=n(67732),o=n(28317);function l(){return i||(i=(0,o.MT)("cached-responses-store","cached-responses")),i}async function d(e,t){try{let n=await a.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:t,...r.FD});return await (0,o.t8)(e,n.data,l()),n.data}catch(t){if(t instanceof s.d7&&[s.d7.ERR_NETWORK,s.d7.ETIMEDOUT].includes(t.code)){let t=await (0,o.U2)(e,l());if(t)return t}throw t instanceof s.d7&&t.response&&401===t.response.status||console.error(t),t}}},97722:function(e){e.exports={table:"SummaryTable_table__2sSSa"}}}]);