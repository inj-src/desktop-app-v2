(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8722,1054],{91054:function(){},60595:function(e,t,n){"use strict";var a=n(42752);n.o(a,"isArray")&&n.d(t,{isArray:function(){return a.isArray}})},81721:function(e,t,n){"use strict";n.d(t,{o:function(){return y}});var a=n(68328),o=n(10713),i=n(31100),l=n(40307),r=n(91793),s=n(76283),d=n(23583),u=n(90660),c=n.n(u),p=n(14193);let x=p.Ry({name:p.Z_().required(r.B)}),y=e=>{var t;let{dailyExpenseCategory:n,onValue:r,onQueryStarted:u}=e,[p,{isLoading:y}]=(0,l.AQ)(),[h,{isLoading:m}]=(0,l.IV)();return(0,a.jsx)(d.J9,{validationSchema:x,initialValues:{name:null!==(t=null==n?void 0:n.name)&&void 0!==t?t:""},onSubmit:async(e,t)=>{let{setSubmitting:a,resetForm:o}=t;if(!y&&!m)try{null==u||u(e);let{data:t}=await ((null==n?void 0:n.id)?h({id:n.id,...e}).unwrap():p(e).unwrap());null==r||r(t),o()}catch(e){console.error(e),c().fire("Failed","An unknown error occurred!","error")}finally{a(!1)}},children:(0,a.jsxs)(d.l0,{children:[(0,a.jsx)(o.Z,{name:"name",labelText:"DailyExpenseCategory Name",placeholder:"Type name",withAsterisk:!0,mt:0,"data-autofocus":!0,mb:"md"}),(0,a.jsx)(i.M,{size:"md",radius:"md",leftSection:(0,a.jsx)(s.Z,{}),children:"Save"})]})})}},55524:function(e,t,n){"use strict";n.d(t,{Z:function(){return eE}});var a=n(68328),o=n(4505),i=n(72940),l=n(6780),r=n(67732);let s=async e=>{try{let t=await l.default.post("".concat("http://sasthotech.local:5000/api/v1","/dailyExpense"),e,{...i.FD,...i.Hn});return{success:!0,data:t.data.data}}catch(e){if(e instanceof r.d7){var t;return{success:!1,data:null===(t=e.response)||void 0===t?void 0:t.data.message}}return{success:!1,data:"An error occurred"}}},d=async(e,t)=>{try{let n=await l.default.patch("".concat("http://sasthotech.local:5000/api/v1","/dailyExpense/").concat(e),t,{...i.FD,...i.Hn});return{success:!0,data:n.data.data}}catch(e){if(e instanceof r.d7){var n;return{success:!1,data:null===(n=e.response)||void 0===n?void 0:n.data.message}}return{success:!1,data:"An error occurred"}}};var u=n(40307),c=n(25499),p=n(91793),x=n(23583),y=n(90660),h=n.n(y),m=n(14193),g=n(74559),v=n(22041),f=n(4923),E=n(11445),j=n(22975),w=n(46557),S=n(73947),b=n(81721);let C=e=>(0,a.jsx)(I,{...e,useFieldResult:(0,x.U$)("dailyExpenseCategoryId")}),I=(0,o.memo)(function(e){let{dailyExpenseCategoryName:t,label:n="Expense Category",mt:o="md",onOptionSubmit:i,useFieldResult:l,...r}=e,s=(0,c.C)(g.nC),[d,{open:p,close:y}]=(0,w.q)(!1),[h,m,{setValue:C}]=l,I={label:n,mt:o},{data:D}=(0,u.KZ)();return(0,a.jsx)(x.J9,{initialValues:{dailyExpenseCategoryName:null!=t?t:""},onSubmit:()=>{},children:e=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(S.e,{...I,name:"dailyExpenseCategoryName",selector:"name",options:(null==D?void 0:D.data)||[],onOptionSubmit:e=>{var t;C(null!==(t=null==e?void 0:e.id)&&void 0!==t?t:""),null==i||i(e)},preventCustomValue:!0,renderOption:e=>(0,a.jsx)("div",{className:"d-flex gap-3 align-items-center",children:(0,a.jsx)(v.Text,{className:"d-block",fw:600,size:"md",children:null==e?void 0:e.name})}),emptyComponent:"receptionist"===s||"admin"===s?(0,a.jsx)(f.k,{onClick:p,bg:"#F1F3F5",p:6,className:"w-100 text-center",children:"Add new Expense Category"}):(0,a.jsx)(a.Fragment,{children:"No Expense Category Found"}),error:m.touched&&m.error,...r}),(0,a.jsx)(E.h,{children:(0,a.jsx)(j.u,{opened:d,onClose:y,title:"Add New Expense Category",centered:!0,children:(0,a.jsx)(b.o,{onValue:t=>{e.values.dailyExpenseCategoryName||e.setFieldValue("dailyExpenseCategoryName",t.name),y()}})})})]})})},(e,t)=>e.useFieldResult[0].value===t.useFieldResult[0].value&&e.useFieldResult[1].touched===t.useFieldResult[1].touched&&e.useFieldResult[1].error===t.useFieldResult[1].error&&e.dailyExpenseCategoryName===t.dailyExpenseCategoryName);var D=n(38823),F=n(31100),A=n(12450),T=n(22614),M=n(31204),N=n(58185),R=n(42870),B=n(65850),P=n(97698),z=n(62549),k=n(86431);B.Zx.register({family:"Roboto",fonts:[{src:"https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu4mxP.ttf",fontWeight:400},{src:"https://fonts.gstatic.com/s/roboto/v20/KFOlCnqEu92Fr1MmEU9fBBc9.ttf",fontWeight:500},{src:"https://fonts.gstatic.com/s/roboto/v20/KFOlCnqEu92Fr1MmWUlfBBc9.ttf",fontWeight:700}]}),B.Zx.register({family:"NotoSans",fonts:[{src:"/fonts/NotoSans/NotoSans_Condensed-Regular.ttf"},{src:"/fonts/NotoSans/NotoSans-Bold.ttf",fontWeight:"bold"},{src:"/fonts/NotoSans/NotoSans_Condensed-SemiBold.ttf",fontWeight:600}]});let O=B.mM.create({page:{padding:30,fontFamily:"Roboto",fontSize:11,backgroundColor:"#FFFFFF"},headerSection:{marginBottom:20,borderBottom:"2px solid #2E5984",paddingBottom:12},receiptTitle:{fontSize:20,fontWeight:700,marginBottom:10,color:"#2E5984",textAlign:"center"},receiptSubtitle:{fontSize:12,marginBottom:5,color:"#666666",textAlign:"center"},receiptId:{fontSize:9,color:"#999999",textAlign:"center"},contentSection:{marginVertical:20},row:{flexDirection:"row",marginBottom:12,paddingVertical:8,borderBottom:"1px solid #EEEEEE"},label:{fontWeight:700,width:"40%",color:"#333333",fontSize:11},value:{width:"60%",color:"#555555",fontSize:11},amountSection:{marginTop:20,padding:15,backgroundColor:"#F8F9FA",borderRadius:4,border:"1px solid #DEE2E6"},amountRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},amountLabel:{fontSize:14,fontWeight:700,color:"#2E5984"},amountValue:{fontSize:18,fontWeight:700,color:"#2E5984"},footer:{position:"absolute",bottom:30,left:30,right:30,borderTop:"1px solid #EEEEEE",paddingTop:10},footerText:{fontSize:9,color:"#999999",textAlign:"center"},signatureSection:{marginTop:40,flexDirection:"row",justifyContent:"space-between"},signatureBox:{width:"40%",borderTop:"1px solid #333333",paddingTop:5},signatureLabel:{fontSize:10,color:"#666666",textAlign:"center"}}),G=e=>{let{expense:t,diagnosticState:n,formatNumber:o,diagnosticSettings:i}=e,l=t.expenseMonth&&t.expenseYear?"Monthly Expense":"Daily Expense";return(0,a.jsx)(B.BB,{children:(0,a.jsxs)(B.T3,{size:"A4",style:O.page,children:[(0,a.jsx)(z.default,{diagnosticState:n}),(0,a.jsxs)(B.G7,{style:O.headerSection,children:[(0,a.jsx)(B.xv,{style:O.receiptTitle,children:"EXPENSE RECEIPT"}),(0,a.jsx)(B.xv,{style:O.receiptSubtitle,children:l}),(0,a.jsxs)(B.xv,{style:O.receiptId,children:["Receipt ID: ",t.id]})]}),(0,a.jsxs)(B.G7,{style:O.contentSection,children:[(0,a.jsxs)(B.G7,{style:O.row,children:[(0,a.jsx)(B.xv,{style:O.label,children:"Category:"}),(0,a.jsx)(B.xv,{style:O.value,children:t.categoryName})]}),(0,a.jsxs)(B.G7,{style:O.row,children:[(0,a.jsx)(B.xv,{style:O.label,children:"Date:"}),(0,a.jsx)(B.xv,{style:O.value,children:t.expenseMonth&&t.expenseYear?"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][t.expenseMonth-1]||""," ").concat(t.expenseYear):(0,P.Z)(new Date(t.createdAt),"dd MMM yyyy, hh:mm a")})]}),t.handedTo&&(0,a.jsxs)(B.G7,{style:O.row,children:[(0,a.jsx)(B.xv,{style:O.label,children:"Handed To:"}),(0,a.jsx)(B.xv,{style:O.value,children:t.handedTo})]}),t.type&&(0,a.jsxs)(B.G7,{style:O.row,children:[(0,a.jsx)(B.xv,{style:O.label,children:"Note:"}),(0,a.jsx)(B.xv,{style:O.value,children:t.type})]}),t.notes&&(0,a.jsxs)(B.G7,{style:O.row,children:[(0,a.jsx)(B.xv,{style:O.label,children:"Notes:"}),(0,a.jsx)(B.xv,{style:O.value,children:t.notes})]}),void 0!==t.isIndoorExpense&&(0,a.jsxs)(B.G7,{style:O.row,children:[(0,a.jsx)(B.xv,{style:O.label,children:"Expense Type:"}),(0,a.jsx)(B.xv,{style:O.value,children:t.isIndoorExpense?"Indoor Expense":"General Expense"})]}),t.createdBy&&(0,a.jsxs)(B.G7,{style:O.row,children:[(0,a.jsx)(B.xv,{style:O.label,children:"Created By:"}),(0,a.jsx)(B.xv,{style:O.value,children:t.createdBy})]})]}),(0,a.jsx)(B.G7,{style:O.amountSection,children:(0,a.jsxs)(B.G7,{style:O.amountRow,children:[(0,a.jsx)(B.xv,{style:O.amountLabel,children:"Total Amount:"}),(0,a.jsx)(B.xv,{style:O.amountValue,children:o(t.amount)})]})}),(0,a.jsxs)(B.G7,{style:O.signatureSection,children:[(0,a.jsx)(B.G7,{style:O.signatureBox,children:(0,a.jsx)(B.xv,{style:O.signatureLabel,children:"Prepared By"})}),(0,a.jsx)(B.G7,{style:O.signatureBox,children:(0,a.jsx)(B.xv,{style:O.signatureLabel,children:"Authorized By"})})]}),(0,a.jsxs)(B.G7,{style:O.footer,children:[(0,a.jsxs)(B.xv,{style:O.footerText,children:["Generated on ",(0,P.Z)(new Date,"dd MMM yyyy, hh:mm a")]}),(0,a.jsx)(B.xv,{style:O.footerText,children:"Powered by Sasthotech"})]}),(0,a.jsx)(k.Z,{diagnosticSettings:i})]})})};var Z=e=>{let{expense:t,diagnosticSettings:n}=e,i=(0,c.C)(e=>e.auth.diagnostic),[l,r]=(0,o.useState)(null),[s,d]=(0,o.useState)(!1),u=e=>null==e?"0":e.toLocaleString("en-IN"),p=async()=>{try{d(!0);let e=await (0,B.pdf)((0,a.jsx)(G,{expense:t,diagnosticState:i,formatNumber:u,diagnosticSettings:n})).toBlob(),o=URL.createObjectURL(e);return r(o),o}catch(e){throw console.error("Error generating PDF:",e),e}finally{d(!1)}},x=async()=>{try{let e=l||await p();if(!e)return;let n=document.createElement("a");n.href=e,n.download="expense-receipt-".concat(t.id,".pdf"),n.click()}catch(e){console.error("Error downloading PDF:",e)}},y=async()=>{try{let e=l||await p();if(!e)return;let t=window.open(e,"_blank");t&&t.addEventListener("load",()=>{t.print()})}catch(e){console.error("Error printing PDF:",e)}};return o.useEffect(()=>()=>{l&&URL.revokeObjectURL(l)},[l]),{pdfBlobUrl:l,isGeneratingPdf:s,handleDownloadPDF:x,handlePrint:y,generatePDF:p}};let _=m.Ry().shape({dailyExpenseCategoryId:m.Z_().required(p.B).label("Category"),type:m.Z_(),handedTo:m.Z_().required(p.B),amount:m.Rx().required(p.B).min(1)});var q=e=>{var t,n;let{expenseInfo:i}=e,l=(0,c.C)(e=>i?(0,u.vy)(e,null==i?void 0:i.dailyExpenseCategoryId):void 0),r=(0,c.C)(e=>e.diagnosticSettings),p=(0,A.useRouter)(),[y,m]=(0,o.useState)(0),[g,v]=(0,o.useState)(null),[f,{open:E,close:S}]=(0,w.q)(!1),b={id:"",amount:0,categoryName:"",createdAt:new Date().toISOString()},{handlePrint:I,handleDownloadPDF:B,isGeneratingPdf:P}=Z({expense:g||b,diagnosticSettings:r}),{data:z}=(0,u.KZ)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(x.J9,{validationSchema:_,enableReinitialize:!0,initialValues:{dailyExpenseCategoryId:(null==i?void 0:i.dailyExpenseCategoryId)||"",type:(null==i?void 0:i.type)||"",handedTo:(null==i?void 0:i.handedTo)||"",amount:(null==i?void 0:i.amount)||0},onSubmit:async(e,t)=>{let{resetForm:n,setSubmitting:a}=t;try{let{amount:t,...a}=e;if(i){let{success:e,data:n}=await d(null==i?void 0:i.id,{...a,amount:"string"==typeof t?Number.parseInt(t):t});e?(h().fire("Success","Expense Updated","success"),p.push("/expense/expense-today")):h().fire("Failed","You are unable to modify expenses added by others.","error")}else{let{success:i,data:l}=await s({...a,amount:"string"==typeof t?Number.parseInt(t):t});if(i&&l){var o;let t=null==z?void 0:null===(o=z.data)||void 0===o?void 0:o.find(t=>t.id===e.dailyExpenseCategoryId),a=(null==t?void 0:t.name)||"Daily Expense",i={id:l.id,amount:l.amount,handedTo:l.handedTo,type:l.type,categoryName:a,createdAt:l.createdAt||new Date().toISOString(),createdBy:l.createdBy};v(i),n(),m(e=>~e),await h().fire({title:"Success",text:"Expense Added Successfully",icon:"success",showCancelButton:!0,confirmButtonText:"Print Receipt",cancelButtonText:"Close"}).then(e=>{e.isConfirmed&&E()})}else h().fire("Failed",l,"error")}}catch(e){console.error(e),h().fire("Failed","Unknown error occurred","error")}finally{a(!1)}},children:(0,a.jsxs)(x.l0,{className:"w-100 d-flex flex-column gap-1",children:[(0,a.jsx)(C,{dailyExpenseCategoryName:null!==(t=null==l?void 0:l.name)&&void 0!==t?t:""},null!==(n=null==l?void 0:l.id)&&void 0!==n?n:y),(0,a.jsx)(D.Z,{name:"type",label:"Expense Note",placeholder:"Enter Note"}),(0,a.jsx)(D.Z,{name:"handedTo",label:"Handed To",placeholder:"Enter Person Name",withAsterisk:!0}),(0,a.jsx)(D.Z,{name:"amount",label:"Amount",placeholder:"Enter amount",type:"number",min:0,withAsterisk:!0}),(0,a.jsx)("div",{className:"w-75 btn-container",children:(0,a.jsxs)(F.M,{size:"lg",className:"mt-3 w-50",children:[i?"Update":"Add"," Expense"]})})]})}),(0,a.jsx)(j.u,{opened:f,onClose:S,title:"Expense Receipt",centered:!0,size:"sm",children:(0,a.jsxs)(T.Group,{grow:!0,children:[(0,a.jsx)(M.Button,{leftSection:(0,a.jsx)(N.Z,{size:16}),onClick:async()=>{await I(),S()},loading:P,children:"Print"}),(0,a.jsx)(M.Button,{leftSection:(0,a.jsx)(R.Z,{size:16}),onClick:async()=>{await B(),S()},variant:"light",loading:P,children:"Download"})]})})]})},Q=n(87885),L=n.n(Q),U=n(77379),V=n(35288),Y=n(57650),W=n(47720),J=n(89043),H=n(13822),K=n(41224),X=n(29663),$=n(87967),ee=n(77303),et=n(29259),en=n(57956),ea=n(72375),eo=n(22115),ei=n(32740),el=n(30446),er=n(94514),es=n(76283);let ed=n(78101).g.injectEndpoints({endpoints:e=>({getMonthlyExpenses:e.query({query:e=>{let t=new URLSearchParams;return e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString()),e.monthlyExpenseCategoryId&&t.append("monthlyExpenseCategoryId",e.monthlyExpenseCategoryId),e.expenseMonth&&t.append("expenseMonth",e.expenseMonth.toString()),e.expenseYear&&t.append("expenseYear",e.expenseYear.toString()),void 0!==e.isPaid&&t.append("isPaid",e.isPaid.toString()),void 0!==e.isOwn&&t.append("isOwn",e.isOwn.toString()),{url:"/monthlyExpense?".concat(t.toString())}},keepUnusedDataFor:86400,transformResponse(e){var t;return Array.isArray(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.monthlyExpenses)&&e.data.monthlyExpenses.sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),e}}),createMonthlyExpense:e.mutation({query:e=>({url:"/monthlyExpense",method:"POST",body:e}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:a}=t,o=Date.now().toString(36),i=n(ed.util.updateQueryData("getMonthlyExpenses",{page:void 0,limit:void 0},t=>{t.data.monthlyExpenses.unshift({...e,id:o,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),loading:!0})}));try{let{data:e}=await a;n(ed.util.updateQueryData("getMonthlyExpenses",{page:void 0,limit:void 0},t=>{let n=t.data.monthlyExpenses.findIndex(e=>e.id===o);n>=0&&(t.data.monthlyExpenses[n]=e.data)}))}catch(e){i.undo()}}}),updateMonthlyExpense:e.mutation({query:e=>{let{id:t,...n}=e;return{url:"/monthlyExpense/".concat(t),method:"PATCH",body:n}},async onQueryStarted(e,t){let{id:n,...a}=e,{dispatch:o,queryFulfilled:i}=t,l=o(ed.util.updateQueryData("getMonthlyExpenses",{page:void 0,limit:void 0},e=>{let t=e.data.monthlyExpenses.findIndex(e=>e.id===n);t>=0&&(e.data.monthlyExpenses[t]={...e.data.monthlyExpenses[t],...a})}));try{let{data:e}=await i;o(ed.util.updateQueryData("getMonthlyExpenses",{page:void 0,limit:void 0},t=>{let a=t.data.monthlyExpenses.findIndex(e=>e.id===n);a>=0&&(t.data.monthlyExpenses[a]=e.data)}))}catch(e){l.undo()}}}),deleteMonthlyExpense:e.mutation({query:e=>({url:"/monthlyExpense/".concat(e),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:a}=t,o=n(ed.util.updateQueryData("getMonthlyExpenses",{page:void 0,limit:void 0},t=>{t.data.monthlyExpenses.find(t=>t.id===e)}));try{await a,n(ed.util.updateQueryData("getMonthlyExpenses",{page:void 0,limit:void 0},t=>{let n=t.data.monthlyExpenses.findIndex(t=>t.id===e);n>=0&&t.data.monthlyExpenses.splice(n,1)}))}catch(e){o.undo()}}}),getSingleMonthlyExpense:e.query({query:e=>({url:"/monthlyExpense/".concat(e)})})})}),{useGetMonthlyExpensesQuery:eu,useCreateMonthlyExpenseMutation:ec,useUpdateMonthlyExpenseMutation:ep,useDeleteMonthlyExpenseMutation:ex,useGetSingleMonthlyExpenseQuery:ey}=ed;var eh=n(43797);let em=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],eg=new Date().getFullYear(),ev=Array.from({length:5},(e,t)=>{let n=eg-t;return{value:n.toString(),label:n.toString()}});var ef=e=>{var t;let{expenseInfo:n}=e,{data:i,isLoading:l}=(0,eh.mb)({}),[r,{isLoading:s}]=ec(),[d,{isLoading:u}]=ep(),p=(0,c.C)(e=>e.diagnosticSettings),[x,y]=(0,o.useState)(111),[h,m]=(0,o.useState)(null),[g,{open:v,close:f}]=(0,w.q)(!1),E=l||s||u,S={id:"",amount:0,categoryName:"",createdAt:new Date().toISOString()},{handlePrint:b,handleDownloadPDF:C,isGeneratingPdf:I}=Z({expense:h||S,diagnosticSettings:p}),D=(0,W.c)({initialValues:{monthlyExpenseCategoryId:"",amount:0,expenseMonth:new Date().getMonth()+1,expenseYear:eg,notes:"",isIndoorExpense:!1},validate:{monthlyExpenseCategoryId:e=>e?null:"Category is required",amount:e=>e>0?null:"Amount must be greater than 0",expenseMonth:e=>e?null:"Month is required",expenseYear:e=>e?null:"Year is required"}});(0,o.useEffect)(()=>{n&&D.setValues({monthlyExpenseCategoryId:n.monthlyExpenseCategoryId,amount:n.amount,expenseMonth:n.expenseMonth,expenseYear:n.expenseYear,notes:n.notes||"",isIndoorExpense:n.isIndoorExpense})},[n,D]);let F=async e=>{var t,a,o,l,s,u,c;try{let u={...e};if(n)await d({id:n.id,...u}).unwrap(),eo.N9.show({title:"Success",message:"Monthly expense updated successfully",color:"green"});else{let n=await r(u).unwrap(),d=null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.find(t=>t.id===e.monthlyExpenseCategoryId),c=(null==d?void 0:d.name)||"Monthly Expense",p={id:(null===(a=n.data)||void 0===a?void 0:a.id)||"",amount:e.amount,notes:e.notes,categoryName:c,expenseMonth:e.expenseMonth,expenseYear:e.expenseYear,isIndoorExpense:e.isIndoorExpense,createdAt:(null===(o=n.data)||void 0===o?void 0:o.createdAt)||new Date().toISOString(),createdBy:(null===(s=n.data)||void 0===s?void 0:null===(l=s.paidBy)||void 0===l?void 0:l.name)||"N/A"};m(p),y(e=>e+1),D.setFieldValue("monthlyExpenseCategoryId",""),D.reset(),eo.N9.show({title:"Success",message:"Monthly expense created successfully. Click to print receipt.",color:"green",autoClose:5e3,onClick:()=>v()})}}catch(e){console.error("Error saving monthly expense:",e),eo.N9.show({title:"Error",message:null!==(c=null==e?void 0:null===(u=e.data)||void 0===u?void 0:u.message)&&void 0!==c?c:"Failed to save monthly expense",color:"red"})}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(J.X,{p:"md",radius:"md",withBorder:!0,pos:"relative",children:[(0,a.jsx)(H.f,{visible:E}),(0,a.jsx)("form",{onSubmit:D.onSubmit(F),children:(0,a.jsxs)(K.Stack,{gap:"md",children:[(0,a.jsx)(X.Grid,{children:(0,a.jsx)(X.Grid.Col,{span:12,children:(0,a.jsx)($.P,{label:"Expense Category",placeholder:"Select expense category",data:(null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.map(e=>({value:e.id,label:"".concat(e.name," (").concat(e.amount,")")})))||[],...D.getInputProps("monthlyExpenseCategoryId"),onChange:e=>{if(D.setFieldValue("monthlyExpenseCategoryId",null!=e?e:""),e||(D.setFieldValue("amount",0),D.setFieldValue("isIndoorExpense",!1)),e){var t;let n=null==i?void 0:null===(t=i.data)||void 0===t?void 0:t.find(t=>t.id===e);n&&(D.setFieldValue("amount",n.amount),D.setFieldValue("isIndoorExpense",n.isIndoorExpense))}},clearable:!0,searchable:!0,withAsterisk:!0,leftSection:(0,a.jsx)(ei.Z,{size:16}),disabled:l},x)})}),(0,a.jsxs)(X.Grid,{children:[(0,a.jsx)(X.Grid.Col,{span:6,children:(0,a.jsx)($.P,{label:"Month",placeholder:"Select month",data:em,value:D.values.expenseMonth.toString(),onChange:e=>D.setFieldValue("expenseMonth",parseInt(e||"1")),withAsterisk:!0,leftSection:(0,a.jsx)(el.Z,{size:16})})}),(0,a.jsx)(X.Grid.Col,{span:6,children:(0,a.jsx)($.P,{label:"Year",placeholder:"Select year",data:ev,value:D.values.expenseYear.toString(),onChange:e=>D.setFieldValue("expenseYear",parseInt(e||eg.toString())),withAsterisk:!0,leftSection:(0,a.jsx)(el.Z,{size:16})})})]}),(0,a.jsx)(ee.Divider,{label:"Payment Details",labelPosition:"center"}),(0,a.jsx)(X.Grid,{children:(0,a.jsx)(X.Grid.Col,{span:6,children:(0,a.jsx)(et.Y,{label:"Amount",placeholder:"Enter amount",...D.getInputProps("amount"),leftSection:(0,a.jsx)(er.Z,{size:16}),withAsterisk:!0,min:0})})}),(0,a.jsx)(en.g,{label:"Notes",placeholder:"Add any additional notes",...D.getInputProps("notes"),autosize:!0,minRows:2}),(0,a.jsx)(ea.X,{label:"Indoor Expense",disabled:!0,...D.getInputProps("isIndoorExpense",{type:"checkbox"})}),(0,a.jsx)(T.Group,{align:"right",mt:"md",children:(0,a.jsx)(M.Button,{type:"submit",leftSection:(0,a.jsx)(es.Z,{size:16}),loading:s||u,children:n?"Update Expense":"Save Expense"})})]})})]}),(0,a.jsx)(j.u,{opened:g,onClose:f,title:"Expense Receipt",centered:!0,size:"sm",children:(0,a.jsxs)(T.Group,{grow:!0,children:[(0,a.jsx)(M.Button,{leftSection:(0,a.jsx)(N.Z,{size:16}),onClick:async()=>{await b(),f()},loading:I,children:"Print"}),(0,a.jsx)(M.Button,{leftSection:(0,a.jsx)(R.Z,{size:16}),onClick:async()=>{await C(),f()},variant:"light",loading:I,children:"Download"})]})})]})},eE=e=>{let{expenseInfo:t,monthlyExpenseInfo:n}=e,[i,l]=(0,o.useState)("daily");return(0,o.useEffect)(()=>{n?l("monthly"):t&&l("daily")},[t,n]),(0,a.jsx)("div",{className:L().container,children:(0,a.jsxs)("div",{className:"w-100 d-flex flex-column align-items-center",children:[(0,a.jsxs)("h1",{className:"fw-bold my-3",children:[t||n?"Update":"Add"," Expense"]}),(0,a.jsx)("div",{className:"mb-4 d-flex justify-content-center",children:(0,a.jsx)(U.s,{w:400,value:i,onChange:e=>l(e),data:[{label:(0,a.jsxs)(T.Group,{gap:8,children:[(0,a.jsx)(V.Z,{size:16}),(0,a.jsx)(v.Text,{size:"sm",children:"Daily Expense"})]}),value:"daily"},{label:(0,a.jsxs)(T.Group,{gap:8,children:[(0,a.jsx)(Y.Z,{size:16}),(0,a.jsx)(v.Text,{size:"sm",children:"Monthly Expense"})]}),value:"monthly"}],size:"md"})}),(0,a.jsx)("div",{className:"bg-white expense-form mt-3 px-3 py-3 rounded-3",children:"daily"===i?(0,a.jsx)(q,{expenseInfo:t}):(0,a.jsx)(ef,{expenseInfo:n})})]})})}},62549:function(e,t,n){"use strict";n.r(t),n.d(t,{LoadDiagnosticImageUrl:function(){return d}});var a=n(68328),o=n(4505),i=n(65850),l=n(62471),r=n(6780),s=n(25499);function d(){var e;let t=(0,s.C)(e=>e.auth.diagnostic),n="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||window.location.hostname.includes("local")||window.location.hostname.includes("198")?null==t?void 0:t.offlineLogo:null!==(e=null==t?void 0:t.logo)&&void 0!==e?e:null,a="/images/demo-fallback-logo.png";return(0,o.useEffect)(()=>{if(!n||""===n.trim()){sessionStorage.setItem("diagnostic-logo",a);return}r.default.get(n,{headers:{"Cache-Control":"no-cache"},timeout:3e3,responseType:"blob"}).then(e=>{if(!e||!e.data)throw Error("Image not found or invalid response");let t=e.data;return new Promise((e,n)=>{let a=new FileReader;a.onload=()=>e(a.result),a.onerror=n,a.readAsDataURL(t)})}).then(e=>{sessionStorage.setItem("diagnostic-logo",e)}).catch(e=>{console.warn("Error loading primary image, using fallback:",e),sessionStorage.setItem("diagnostic-logo",a)})},[n,a,3e3]),null}let u=i.mM.create({container:{width:"100%",alignItems:"center",display:"flex",flexDirection:"row",gap:10},logoContainer:{width:100,height:80,marginBottom:10,position:"relative"},image:{width:"100%",height:"100%",objectFit:"contain",borderRadius:100},headerContainer:{width:"100%"},hospitalName:{fontSize:20,fontWeight:"bold",fontFamily:"NotoSans",marginBottom:4,textAlign:"left"},address:{fontSize:12,fontFamily:"NotoSans",marginBottom:2,textAlign:"left"},phone:{fontSize:12,fontFamily:"NotoSans",textAlign:"left"}});t.default=e=>{let{diagnosticState:t,fallbackImageUrl:n="/images/demo-fallback-logo.png",timeoutDuration:o=3e3}=e,r=(0,l._)({key:"print-show-division-name",defaultValue:"true"}),s=sessionStorage.getItem("diagnostic-logo")||n;return(0,a.jsxs)(i.G7,{style:u.container,children:[(0,a.jsx)(i.G7,{style:u.logoContainer,children:s&&(0,a.jsx)(i.Ee,{src:s,style:u.image})}),(0,a.jsxs)(i.G7,{style:u.headerContainer,children:[(0,a.jsx)(i.xv,{style:u.hospitalName,children:null==t?void 0:t.name}),(0,a.jsxs)(i.xv,{style:u.address,children:[null==t?void 0:t.address,"true"===r&&(null==t?void 0:t.division)?", ".concat(null==t?void 0:t.division):""]}),(0,a.jsxs)(i.xv,{style:u.phone,children:["Phone: ",null==t?void 0:t.phone1,(null==t?void 0:t.phone2)?", ".concat(null==t?void 0:t.phone2):""]})]})]})}},86431:function(e,t,n){"use strict";var a=n(68328),o=n(65850);t.Z=e=>{let{diagnosticSettings:t}=e;return(0,a.jsx)(o.G7,{children:(null==t?void 0:t.viewId)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o.xv,{style:{textTransform:"capitalize",fontSize:12,fontWeight:"bold"},children:["Viewing as: ",(null==t?void 0:t.viewName)||"N/A"]}),(0,a.jsxs)(o.xv,{style:{fontSize:12},children:["Email: ",(null==t?void 0:t.viewEmail)||"N/A"]})]})})}},10713:function(e,t,n){"use strict";n.d(t,{E:function(){return p}});var a=n(68328),o=n(30331),i=n(30293),l=n(55911),r=n(87513),s=n(58689),d=n(73626),u=n(23583),c=n(4505);let p={size:"md",variant:"default",radius:"md"},x=(0,i.F)((0,c.forwardRef)(function(e,t){let{labelText:n,labelTextColor:i,size:x=p.size,variant:y=p.variant,radius:h=p.radius,mt:m="md",withAsterisk:g=!1,onChange:v,onBlur:f,onClick:E,readonly:j,styles:w,value:S,...b}=e,C=Object.assign({label:{color:null!=i?i:"black"}},w),[{value:I,onChange:D,onBlur:F,...A},T,M]=(0,u.U$)(b.name),N=(0,c.useRef)(null),R=(0,s.Yx)(t,N),B=(0,d.y)(()=>{if(N.current){let e;let{type:t,value:n}=N.current;M.setValue("number"===t?isNaN(e=parseFloat(n))?"":e:n)}},200);return(0,c.useEffect)(()=>{N.current&&N.current.value!==I&&!(document.hasFocus()&&document.activeElement===N.current)&&(N.current.value=null!=I?I:"")},[I]),(0,a.jsx)(l.TextInput,{label:n,readOnly:j,ref:R,error:T.touched&&T.error,styles:C,defaultValue:I,onChange:e=>{B()},onBlur:e=>{null==f||f(e),F(e)},onClick:e=>{"number"===b.type&&"0"===e.currentTarget.value&&e.currentTarget.select(),null==E||E(e)},onWheel:o.P,rightSectionPointerEvents:"all",rightSection:(0,a.jsx)(r.P,{"aria-label":"Clear input",onClick:()=>{M.setValue(""),N.current&&(N.current.value="")},style:{display:I?void 0:"none"}}),...A,size:x,variant:y,radius:h,mt:m,withAsterisk:g,...b})}));t.Z=x},38823:function(e,t,n){"use strict";n.d(t,{E:function(){return c}});var a=n(68328),o=n(30331),i=n(55911),l=n(73626),r=n(23583),s=n(4505),d=n(49749),u=n.n(d);let c={size:"md",variant:"filled",radius:"md"},p={mt:"md",withAsterisk:!1},x=(0,s.memo)(function(e){let{onChange:t,onBlur:n,onClick:r,value:d,useFieldResult:x,...y}=e,[{value:h,onChange:m,onBlur:g,...v},f,E]=x,j=(0,s.useRef)(null),w=(0,l.y)(()=>{if(j.current){let e;let{type:t,value:n}=j.current;E.setValue("number"===t?isNaN(e=parseFloat(n))?"":e:n)}},200);return(0,s.useEffect)(()=>{j.current&&j.current.value!==h&&!(document.hasFocus()&&document.activeElement===j.current)&&(j.current.value=null!=h?h:"")},[h]),(0,a.jsx)(i.TextInput,{ref:j,error:f.touched&&f.error,defaultValue:h,classNames:u(),onChange:e=>{w()},onBlur:e=>{null==n||n(e),g(e)},onClick:e=>{"number"===y.type&&"0"===e.currentTarget.value&&e.currentTarget.select(),null==r||r(e)},onWheel:o.P,...v,...p,...c,...y})},(e,t)=>e.useFieldResult[0].value===t.useFieldResult[0].value&&e.useFieldResult[1].touched===t.useFieldResult[1].touched&&e.useFieldResult[1].error===t.useFieldResult[1].error&&e.error===t.error);t.Z=e=>(0,a.jsx)(x,{useFieldResult:(0,r.U$)(e.name),...e})},73947:function(e,t,n){"use strict";n.d(t,{e:function(){return m}});var a=n(68328),o=n(67961),i=n(91166),l=n(55911),r=n(14587),s=n(87513),d=n(89822),u=n(77303),c=n(73626),p=n(23583),x=n(4505),y=n(19996),h=n(60595);function m(e){return(0,a.jsx)(g,{...e,useFieldResult:(0,p.U$)(e.name)})}let g=(0,x.memo)(function(e){let{name:t,options:n,fetchOptions:p,onOptionSubmit:m,onDropdownClose:g,emptyComponent:v,selector:f,searchKeys:E,renderOption:j,preventCustomValue:w=!1,size:S="md",radius:b="md",variant:C="filled",useFieldResult:I,limit:D=10,extraOptions:F,optionalParam:A,optionsBg:T,avoidSearch:M,label:N,placeholder:R,...B}=e,[P,z]=(0,x.useState)(!1),[k,O]=(0,x.useState)([]),[{value:G},Z,{setValue:_,setTouched:q}]=I,Q=(0,x.useRef)(null),L=(0,x.useRef)(null),U=(0,c.y)(e=>{p&&(z(!0),p(e,A).then(e=>{O((0,h.isArray)(e)?e:[e]),z(!1),V.resetSelectedOption()}))},200),V=(0,o.K)({onDropdownClose:()=>{V.resetSelectedOption(),null==g||g(L,Q),q(!0),w&&!L.current&&G&&!(null!=n?n:k).find(e=>e[f]===G)&&_("")},onDropdownOpen:()=>{p&&U(G||"")}}),Y=null!=n?n:k,W=(0,x.useMemo)(()=>new y.Z(Y,{keys:E||[f],threshold:.3}),[Y,f,E]),J=(0,x.useMemo)(()=>M||!G?Y.slice(0,D):W.search(G,{limit:D}).map(e=>e.item),[W,G,Y,D,M]);(0,x.useEffect)(()=>{G&&V.selectFirstOption()},[G,V]);let H=J.map((e,t)=>{let n=JSON.stringify(e);return(0,a.jsx)(i.h.Option,{value:n,children:j?j(e):e[f]},"".concat(n,"-").concat(t))});return(0,a.jsxs)(i.h,{store:V,withinPortal:!1,onOptionSubmit:e=>{let t=JSON.parse(e);_(t[f]),L.current=t,null==m||m(t,V,Q),V.closeDropdown()},children:[(0,a.jsx)(i.h.Target,{children:(0,a.jsx)(l.TextInput,{...B,label:N,placeholder:R,ref:Q,size:S,radius:b,variant:C,value:G||"",onChange:e=>{let t=e.currentTarget.value;_(t),U(t),V.openDropdown(),V.updateSelectedOptionIndex(),L.current=null},onClick:()=>V.openDropdown(),onFocus:()=>V.openDropdown(),onBlur:()=>{V.closeDropdown()},onKeyDown:e=>{"Enter"===e.key&&V.dropdownOpened&&-1===V.getSelectedOptionIndex()&&V.closeDropdown()},rightSection:P?(0,a.jsx)(r.Loader,{size:18}):G?(0,a.jsx)(s.P,{size:"sm",onClick:()=>{_(""),L.current=null,null==m||m(null,V,Q),p&&O([])},"aria-label":"Clear value"}):(0,a.jsx)(i.h.Chevron,{}),rightSectionPointerEvents:P?"none":"all",error:Z.touched&&Z.error})}),(0,a.jsx)(i.h.Dropdown,{bg:T,style:{zIndex:1e3},children:(0,a.jsx)(i.h.Options,{children:0===H.length?(0,a.jsx)(i.h.Empty,{children:P?(0,a.jsx)(r.Loader,{size:"xs"}):null!=v?v:"Nothing found"}):(0,a.jsxs)(d.x.Autosize,{type:"scroll",mah:300,children:[H,F&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{style:{borderTop:"1px solid var(--mantine-color-gray-2)",padding:"4px"},children:F}),(0,a.jsx)(u.Divider,{})]})]})})})]})},(e,t)=>e.useFieldResult[0].value===t.useFieldResult[0].value&&e.useFieldResult[1].touched===t.useFieldResult[1].touched&&e.useFieldResult[1].error===t.useFieldResult[1].error&&e.options===t.options&&e.optionalParam===t.optionalParam)},31100:function(e,t,n){"use strict";n.d(t,{M:function(){return l}});var a=n(68328),o=n(31204),i=n(23583);function l(e){let{loading:t,disabled:n,...l}=e,{isSubmitting:r}=(0,i.u6)();return(0,a.jsx)(o.Button,{type:"submit",loading:r||t,disabled:r||n,...l})}},72940:function(e,t,n){"use strict";n.d(t,{FD:function(){return o},Hn:function(){return a},y4:function(){return i}});let a={headers:{"Content-Type":"application/json"}},o={withCredentials:!0},i={headers:{"Content-Type":"multipart/form-data"},withCredentials:!0}},78101:function(e,t,n){"use strict";n.d(t,{g:function(){return r}});var a=n(49854),o=n(68240),i=n(94183),l=n(28317);let r=(0,o.LC)({baseQuery:(0,i.ni)({baseUrl:"http://sasthotech.local:5000/api/v1",credentials:"include",fetchFn:(e,t)=>fetch(e,t).then(async n=>{let o="string"==typeof e?e:e.url;return o.includes("?")||(null==t?void 0:t.body)||"string"!=typeof e&&e.body||await (0,l.t8)(o,await n.clone().json().catch(()=>null),(0,a.x)()),n}).catch(async n=>{if(n instanceof TypeError){let n="string"==typeof e?e:e.url;if(!n.includes("?")&&!(null==t?void 0:t.body)&&!("string"!=typeof e&&e.body)){let e=await (0,l.U2)(n,(0,a.x)());if(e)return new Response(e,{headers:new Headers({"Content-Type":"application/json"})})}}throw n})}),endpoints:()=>({}),tagTypes:["BillTest","doctor","hospitalBill","inventory","appointment","patient","sms","sms-dashboard","sms-messages","sms-analytics","sms-status","notice","template","versionAdmin-services","versionAdmin-versions","versionAdmin-hospitals","versionAdmin-logs","versionAdmin-sessions","versionAdmin-devices","versionAdmin-notifications","versionAdmin-notification-stats","PCMeetup","MarketerTarget","Marketer"]})},74559:function(e,t,n){"use strict";n.d(t,{Im:function(){return l},av:function(){return i},nC:function(){return o}});let a=(0,n(79258).createSlice)({name:"auth",initialState:{isAuth:null,user:null,isProfileIncomplete:!1,diagnostic:null},reducers:{setUser:(e,t)=>{var n;e.user=t.payload,e.isAuth=!!t.payload,(null===(n=t.payload)||void 0===n?void 0:n.name)?localStorage.setItem("name",t.payload.name):localStorage.removeItem("name")},setDiagnostic:(e,t)=>{let n=t.payload;"hospital.sasthotech.com"===window.location.hostname?n.activeLogo=n.logo:n.activeLogo=n.offlineLogo,e.diagnostic=n},setProfileIncomplete:(e,t)=>{e.isProfileIncomplete=t.payload}}}),o=e=>{var t;return null===(t=e.auth.user)||void 0===t?void 0:t.role},{setUser:i,setDiagnostic:l}=a.actions;t.ZP=a.reducer},40307:function(e,t,n){"use strict";n.d(t,{AQ:function(){return s},IV:function(){return d},KZ:function(){return r},uf:function(){return u},vy:function(){return y}});var a=n(69192),o=n(78101),i=n(40085);let l=o.g.injectEndpoints({endpoints:e=>({getDailyExpenseCategories:e.query({query:()=>({url:"/dailyExpenseCategory"})}),createDailyExpenseCategory:e.mutation({query:e=>({url:"/dailyExpenseCategory",method:"POST",body:e}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:a}=t,o=(0,i.x0)(),r=n(l.util.updateQueryData("getDailyExpenseCategories",void 0,t=>{t.data.push({id:o,...e,loading:!0})}));try{let{data:e}=await a;n(l.util.updateQueryData("getDailyExpenseCategories",void 0,t=>{let n=t.data.findIndex(e=>e.id===o);n>=0&&(t.data[n]=e.data)}))}catch(e){r.undo()}}}),updateDailyExpenseCategory:e.mutation({query:e=>{let{id:t,name:n}=e;return{url:"/dailyExpenseCategory/".concat(t),method:"PATCH",body:{name:n}}},async onQueryStarted(e,t){let{id:n,name:a}=e,{dispatch:o,queryFulfilled:i}=t,r=o(l.util.updateQueryData("getDailyExpenseCategories",void 0,e=>{let t=e.data.find(e=>e.id===n);t&&(void 0!==a&&(t.name=a),t.loading=!0)}));try{await i,o(l.util.updateQueryData("getDailyExpenseCategories",void 0,e=>{let t=e.data.find(e=>e.id===n);t&&delete t.loading}))}catch(e){r.undo()}}}),deleteDailyExpenseCategory:e.mutation({query:e=>({url:"/dailyExpenseCategory/".concat(e),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:a}=t,o=n(l.util.updateQueryData("getDailyExpenseCategories",void 0,t=>{let n=t.data.find(t=>t.id===e);n&&(n.loading=!0)}));try{await a,n(l.util.updateQueryData("getDailyExpenseCategories",void 0,t=>{let n=t.data.findIndex(t=>t.id===e);n>=0&&t.data.splice(n,1)}))}catch(e){o.undo()}}})})}),{useGetDailyExpenseCategoriesQuery:r,useCreateDailyExpenseCategoryMutation:s,useUpdateDailyExpenseCategoryMutation:d,useDeleteDailyExpenseCategoryMutation:u}=l,c=l.endpoints.getDailyExpenseCategories.select(),p=[],x=(0,a.createSelector)(c,e=>{var t,n;return null!==(n=null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.data)&&void 0!==n?n:p}),y=(0,a.createSelector)([x,(e,t)=>t],(e,t)=>e.find(e=>e.id===t))},25499:function(e,t,n){"use strict";n.d(t,{C:function(){return i},T:function(){return o}});var a=n(53502);let o=()=>(0,a.I0)(),i=a.v9},43797:function(e,t,n){"use strict";n.d(t,{By:function(){return r},Io:function(){return i},P5:function(){return l},mb:function(){return o}});let a=n(78101).g.injectEndpoints({endpoints:e=>({getMonthlyExpenseCategories:e.query({query:e=>{let t=new URLSearchParams;return e.page&&t.append("page",e.page.toString()),e.limit&&t.append("limit",e.limit.toString()),e.diagnosticId&&t.append("diagnosticId",e.diagnosticId),void 0!==e.isIndoorExpense&&t.append("isIndoorExpense",e.isIndoorExpense.toString()),{url:"/monthlyExpenseCategory?".concat(t.toString())}},keepUnusedDataFor:86400,transformResponse:e=>e}),createMonthlyExpenseCategory:e.mutation({query:e=>({url:"/monthlyExpenseCategory",method:"POST",body:e}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:o}=t,i=Date.now().toString(36),l=n(a.util.updateQueryData("getMonthlyExpenseCategories",{page:void 0,limit:void 0},t=>{t.data.push({...e,id:i,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),loading:!0})}));try{let{data:e}=await o;n(a.util.updateQueryData("getMonthlyExpenseCategories",{page:void 0,limit:void 0},t=>{let n=t.data.findIndex(e=>e.id===i);n>=0&&(t.data[n]=e.data)}))}catch(e){l.undo()}}}),updateMonthlyExpenseCategory:e.mutation({query:e=>{let{id:t,...n}=e;return{url:"/monthlyExpenseCategory/".concat(t),method:"PATCH",body:n}},async onQueryStarted(e,t){let{id:n,...o}=e,{dispatch:i,queryFulfilled:l}=t,r=i(a.util.updateQueryData("getMonthlyExpenseCategories",{page:void 0,limit:void 0},e=>{let t=e.data.findIndex(e=>e.id===n);t>=0&&(e.data[t]={...e.data[t],...o})}));try{let{data:e}=await l;i(a.util.updateQueryData("getMonthlyExpenseCategories",{page:void 0,limit:void 0},t=>{let a=t.data.findIndex(e=>e.id===n);a>=0&&(t.data[a]=e.data)}))}catch(e){r.undo()}}}),deleteMonthlyExpenseCategory:e.mutation({query:e=>({url:"/monthlyExpenseCategory/".concat(e),method:"DELETE"}),async onQueryStarted(e,t){let{dispatch:n,queryFulfilled:o}=t,i=n(a.util.updateQueryData("getMonthlyExpenseCategories",{page:void 0,limit:void 0},t=>{console.log(t,"draft"),t.data.find(t=>t.id===e)}));try{await o,n(a.util.updateQueryData("getMonthlyExpenseCategories",{page:void 0,limit:void 0},t=>{let n=t.data.findIndex(t=>t.id===e);n>=0&&t.data.splice(n,1)}))}catch(e){i.undo()}}}),getSingleMonthlyExpenseCategory:e.query({query:e=>({url:"/monthlyExpenseCategory/".concat(e)})})})}),{useGetMonthlyExpenseCategoriesQuery:o,useCreateMonthlyExpenseCategoryMutation:i,useUpdateMonthlyExpenseCategoryMutation:l,useDeleteMonthlyExpenseCategoryMutation:r,useGetSingleMonthlyExpenseCategoryQuery:s}=a},49854:function(e,t,n){"use strict";let a;n.d(t,{d:function(){return d},x:function(){return s}});var o=n(72940),i=n(6780),l=n(67732),r=n(28317);function s(){return a||(a=(0,r.MT)("cached-responses-store","cached-responses")),a}async function d(e,t){try{let n=await i.default.get(e,{baseURL:"http://sasthotech.local:5000/api/v1",params:t,...o.FD});return await (0,r.t8)(e,n.data,s()),n.data}catch(t){if(t instanceof l.d7&&[l.d7.ERR_NETWORK,l.d7.ETIMEDOUT].includes(t.code)){let t=await (0,r.U2)(e,s());if(t)return t}throw t instanceof l.d7&&t.response&&401===t.response.status||console.error(t),t}}},30331:function(e,t,n){"use strict";function a(e){e.currentTarget.blur(),e.stopPropagation(),setTimeout(()=>{var t;null==e||null===(t=e.currentTarget)||void 0===t||t.focus()},0)}n.d(t,{P:function(){return a}})},91793:function(e,t,n){"use strict";n.d(t,{B:function(){return a}});let a=e=>{let{label:t,path:n}=e;return"".concat(null!=t?t:n.split(".").map(e=>e?e[0].toUpperCase()+e.slice(1):"").join(" ")," is required")}},87885:function(e){e.exports={infoBox:"ExpenseContainer_infoBox__xt3c0",commissionDetailsBox:"ExpenseContainer_commissionDetailsBox__TyRGt",container:"ExpenseContainer_container__EDgE9",table:"ExpenseContainer_table__JQt8p"}},49749:function(e){e.exports={input:"InputFieldWithOptionsFast_input__HgGdh",placeholder:"InputFieldWithOptionsFast_placeholder__EagU9",wrapper:"InputFieldWithOptionsFast_wrapper__8GXHB"}}}]);